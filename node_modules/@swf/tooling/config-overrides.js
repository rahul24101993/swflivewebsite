/* eslint-env node */
const { pathExistsSync } = require( 'fs-extra' );
module.exports = {
    webpack: config => config,
    devServer: configFn => configFn,
    jest: config => {
        config.moduleDirectories = [ 'node_modules' ];
        config.roots = [ '<rootDir>' ];
        config.testMatch = [ '<rootDir>/test/*est.js' ];
        // don't include the build performance test in npm run test
        config.testPathIgnorePatterns = [ '<rootDir>/test/viewCompilerPerformance.test.js' ];
        if( pathExistsSync( './jest.setup.js' ) ) {
            config.setupFiles.push( '<rootDir>/jest.setup.js' );
        }
        return config;
    },
    paths: config => config
};
