// Copyright (c) 2021 Siemens
import _ from 'lodash';
import logger from 'js/logger';
import { resolveIconName } from 'js/iconMapService';
// eslint-disable-next-line no-unused-vars
import { registerDynImportEntry } from 'js/moduleLoader';
const imageMap = [
    //AFX_CONFIG_ENTRY
];

export const getImageAliasFromId = id => {
    const iconId = resolveIconName( id );
    const toSearch = iconId.startsWith( 'image/' ) ? iconId : `image/${iconId}`;
    const vals = _.filter( imageMap, entry => entry.startsWith( toSearch )  );
    //Trying to find the exact match on the subset as running the regex on the complete map can be expensive
    const exactMatch = vals.find( entry => entry.match( new RegExp( `${toSearch}\\d+.svg` ) ) );

    if( vals.length ) {
        return exactMatch ? exactMatch : vals[ 0 ];
    }
    return null;
};

export const registerSVGIcons = () =>{
    //AFX_CONFIG_REGISTER_IMAGES
};

export default {
    getImageAliasFromId,
    registerSVGIcons
};
