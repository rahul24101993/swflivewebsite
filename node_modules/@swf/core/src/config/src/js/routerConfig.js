// Copyright (c) 2021 Siemens
/* eslint-disable require-jsdoc */

/**
 * @module js/routerConfig
 */
import { initializeStateService } from 'js/awStateService';
import { loadConfiguration } from 'js/leavePlace.service';
import awConfiguration from 'js/awConfiguration';

// the config function takes the router instance as argument. it lets you manually configure the router
export default function config( router ) {
    // default route
    const defaultPage = awConfiguration.get( 'defaultRoutePath' );
    router.urlService.rules.initial( { state: defaultPage } );
    // show error page if no state found
    router.urlRouter.otherwise( { state: 'errorSubLocation' } );

    // initialize state service
    initializeStateService( router );
    loadConfiguration();
}
