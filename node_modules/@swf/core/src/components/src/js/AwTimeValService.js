import AwPropertyLovVal from 'viewmodel/AwPropertyLovValViewModel';
import { getValClass } from 'js/componentUtils';
import AwPropertyNonEditVal from 'viewmodel/AwPropertyNonEditValViewModel';
import dateTimeSvc from 'js/dateTimeService';

export const awTimeValRenderFunction = ( props ) => {
    const {
        viewModel,
        ctxMin,
        actions,
        i18n,
        fields,
        grids,
        formProp,
        messages,
        ...prop
    } = props;
    // use simple non-edit val if not editing
    let disabled = !prop.fielddata.isEnabled;
    if( disabled ) {
        return (
            <AwPropertyNonEditVal {...prop}></AwPropertyNonEditVal>
        );
    }

    let fielddata = { ...prop.fielddata };
    fielddata.hasLov = true;
    fielddata.dataProvider = viewModel.dataProviders.dataProviderTime;
    fielddata.emptyLOVEntry = false;

    let placeholder = dateTimeSvc.getTimeFormatPlaceholder();
    const passedProps = { ...prop, fielddata, placeholder, disabled };
    return (
        <AwPropertyLovVal {...passedProps} className={ getValClass( prop ) }></AwPropertyLovVal>
    );
};
