// Copyright (c) 2021 Siemens
import rowColSvc from 'js/awRowColumnService';

/**
 * render function for AwColumn
 * @param {*} param0 context for render function interpolation
 * @returns {JSX.Element} react component
 */
export const awColumnRenderFunction = ( props ) => {
    const { className, elementRefList } = props;

    let classnames = 'aw-layout-column aw-layout-flexbox';

    return (
        <div className={classnames} ref={elementRefList.get( 'column' )}>
            {props.children}
        </div>
    );
};

export const onMount = ( elementRefList, props, data ) => {
    let elements = elementRefList.get( 'column' ).current; //todo
    if( elements && !elements.isAlreadyAdded ) {
        if( props.width ) {
            elements.setAttribute( 'width', props.width );
        }

        if( props.height ) {
            elements.setAttribute( 'height', props.height );
        }

        if( props.offset ) {
            elements.setAttribute( 'offset', props.offset );
        }

        if( props.justify ) {
            elements.setAttribute( 'justify', props.justify );
        }

        if( props.alignContent ) {
            elements.setAttribute( 'align-content', props.alignContent );
        }

        if( props.wrapStyle ) {
            elements.setAttribute( 'wrap-style', props.wrapStyle );
        }

        if( props.color ) {
            elements.setAttribute( 'color', props.color );
        }

        if( props.when ) {
            elements.setAttribute( 'when', props.when );
        }

        elements.isAlreadyAdded = true;

        rowColSvc.initRowOrColumn( [ elements ] );
    }
};
