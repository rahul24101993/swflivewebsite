import AwPopup from 'viewmodel/AwPopupViewModel';
import AwInclude from 'viewmodel/AwIncludeViewModel';

export const awGlobalPopupRenderFunction = ( { actions } ) => {
    const { globalPopup } = actions;

    const { options, reference, open } = globalPopup;
    const renderPopoverContent = ()=>{
        let fill = <>empty</>;
        if( options.view ) {
            // pass down props through options.context
            fill = <AwInclude name={options.view} {...options.context}/>;
        }else if( options.content ) {
            fill = options.content;
        }
        return open && <AwPopup {...options}>{fill}</AwPopup>;
    };

    return renderPopoverContent();
};
