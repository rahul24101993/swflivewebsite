/**
 * render function for AwTabSetOverflow
 * @param {*} param0 context for render function interpolation
 * @returns {JSX.Element} react component
 */
import wcagSvc from 'js/wcagService';

export const awTabSetOverflowRenderFunction = ( props ) => {
    const { overflownTabs, onTabSelected } = props;
    const { i18n } = props;
    // making sure the pressed key is space/enter
    const onKeyDown = ( event, tabModel ) => {
        if( wcagSvc.isValidKeyPress( event ) ) {
            onTabSelected( tabModel );
        }
    };
    return (
        <div className = 'popupContent'>
            <ul className='aw-widgets-cellListWidget sw-column' role='listbox' aria-label={i18n.SHOW_MORE}>
                {
                    overflownTabs && overflownTabs.map( ( tabModel, index ) => {
                        let isSelected = tabModel.selectedTab;
                        return(
                            <li role='option'
                                className={`sw-aria-border aw-widgets-cellListItem aw-widgets-cellTop ${isSelected ? 'aw-widgets-cellListItemSelected' : ''}`}
                                aria-selected={isSelected}
                                name ={tabModel.pageId}
                                tabKey ={tabModel.tabKey}
                                title = {tabModel.name}
                                tabIndex={0}
                                onClick={( )=>onTabSelected( tabModel )}
                                onKeyDown={( event )=>onKeyDown( event, tabModel )}
                                key={index}>
                                {tabModel.name}
                            </li>
                        );
                    } )
                }
            </ul>
        </div>
    );
};
