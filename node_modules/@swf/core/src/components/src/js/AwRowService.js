// Copyright (c) 2021 Siemens
import rowColSvc from 'js/awRowColumnService';

/**
 * render function for AwRow
 * @param {*} param0 context for render function interpolation
 * @returns {JSX.Element} react component
 */
export const awRowRenderFunction = ( props ) => {
    let elements = props.elementRefList.get( 'row' ).current;
    const { children, width, height, offset, justify, alignContent, wrapStyle, color, className } = props;
    let classnames = 'aw-layout-row aw-layout-flexbox afx-base-parentElement';

    return (
        <div className={classnames} ref={props.elementRefList.get( 'row' )}>
            {children}
        </div>
    );
};

export const onMount = ( elementRefList, props, data ) => {
    let elements = elementRefList.get( 'row' ).current;
    const { children, width, height, offset, justify, alignContent, wrapStyle, color, className } = props;
    if( elements && !elements.isAlreadyAdded ) {
        if( width ) {
            elements.setAttribute( 'width', width );
        }

        if( height ) {
            elements.setAttribute( 'height', height );
        }

        if( offset ) {
            elements.setAttribute( 'offset', offset );
        }

        if( justify ) {
            elements.setAttribute( 'justify', justify );
        }

        if( alignContent ) {
            elements.setAttribute( 'align-content', alignContent );
        }

        if( wrapStyle ) {
            elements.setAttribute( 'wrap-style', wrapStyle );
        }

        if( color ) {
            elements.setAttribute( 'color', color );
        }

        elements.isAlreadyAdded = true;

        rowColSvc.initRowOrColumn( [ elements ] );
    }
};
