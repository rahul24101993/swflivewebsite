// Copyright (c) 2021 Siemens
import eventBus from 'js/eventBus';

export const awPanelRenderFunction = ( props ) => {
    const { attributes, onSubmit, submitAction } = props;
    return (
        <form {...attributes} data-locator='aw-panel' onSubmit={ event =>{ onSubmit && submitAction && onSubmit( event, submitAction ); }} className='sw-column aw-panel align-self-stretch'>
            <div className='aw-base-scrollPanel sw-column aw-layout-panelContent'>
                <div className={( props.caption ? '' : 'hidden ' ) + 'aw-panel-caption sw-row flex-shrink align-self-stretch'}>{ props.caption }</div>
                { props.children }
            </div>
            {/* localization for submit button not needed as its hidden and i18n may increase render cycle*/}
            <button type='submit' className='aw-hide-form-button' disabled='' aria-hidden='true'>Submit</button>
        </form>
    );
};

export const panelRevealAction = function( props ) {
    let revealAction = props && props.revealAction ? props.revealAction : () => {};
    revealAction();
    eventBus.publish( 'awPanel.reveal', {} );
};
