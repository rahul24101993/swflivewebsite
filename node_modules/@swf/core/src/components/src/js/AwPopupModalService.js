import AwIconButton from 'viewmodel/AwIconButtonViewModel';
import AwCommandBar from 'viewmodel/AwCommandBarViewModel';
import AwPanelHeader from 'viewmodel/AwPanelHeaderViewModel';

export const AwPopupModalRenderFunction = ( props ) => {
    let {
        caption,
        commands,
        anchor,
        children
    } = props;

    const header = () => {
        return caption && <AwPanelHeader className='aw-layout-panelTitle sw-row'>
            <label>{caption}</label>
            <div className='aw-popup-commands aw-layout-flexRow'>
                {
                    commands && commands.map( ( command, index )=>{
                        if( command.condition ) {
                            return <AwIconButton key={index} className='aw-layout-right' command={command}/>;
                        }
                        return null;
                    } )
                }
                {
                    anchor && <AwCommandBar className='aw-popup-pinMargin' anchor={anchor} alignment='HORIZONTAL'/>
                }
            </div>
        </AwPanelHeader>;
    };

    return <div className='sw-popup2 sw-column aw-panel align-self-stretch'>
        {header()}
        {children}
    </div>;
};
