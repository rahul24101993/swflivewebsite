import AwLink from 'viewmodel/AwLinkViewModel';

/**
 * @deprecated afx@4.2.0.
 * @alternative AwLink
 * @obsoleteIn afx@5.1.0
 * @returns {JSX.Element} react component
 *
 * make this functional
 */
export const AwLinkWithPopupMenuRenderFunction = ( props ) => {
    const {
        viewModel,
        ctxMin,
        actions,
        i18n,
        fields,
        grids,
        formProp,
        messages,
        ...prop
    } = props;

    const {
        dataprovider,
        disable,
        displayProperty,
        id,
        linkPopupId,
        isCache,
        linkPopupMenuId,
        useIcon
    } = prop;

    const uid = id || linkPopupId;

    let finalProps = {
        ...prop,
        id: uid,
        ellipsis: true,
        displayProperty,
        linkOptions: {
            hasPopup: true
        }
    };
    finalProps.fielddata.isEnabled = !disable;

    return <AwLink {...finalProps} />;
};
