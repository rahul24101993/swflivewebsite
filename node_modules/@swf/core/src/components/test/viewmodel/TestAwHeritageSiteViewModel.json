{
    "schemaVersion": "1.0.0",
       "actions": {
        "init": {
            "actionType": "JSFunction",
            "method": "getMoreDetails",
            "inputData": {
                "siteName": "{{props.siteName}}"
            },
            "deps": "js/testPropsInComponentService"
        },
        "getMoreDetails": {
            "actionType": "JSFunction",
            "method": "getMoreDetails",
            "inputData": {
                "siteName": "{{props.siteName}}"
            },
            "outputData": {
                "details": "details",
                "state": "state",
                "lessDetails": "lessDetails"
            },
            "deps": "js/testPropsInComponentService"
        },
        "getLessDetails": {
            "actionType": "JSFunction",
            "method": "getLessDetails",
            "inputData": {
                "state": "{{function:getState}}"
            },
            "outputData": {
                "details": "details",
                "state": "state",
                "lessDetails": "lessDetails"
            },
            "deps": "js/testPropsInComponentService",
            "actionMessages": {
                "success": [ {
                    "condition": "props.details !==''",
                    "message": "detailsCollapsed"
                } ]
            }
        },
        "populateMessageUK": {
            "actionType": "JSFunction",
            "method": "populateMessage",
            "inputData": {
                "message": "Site Selected : BigBen"
            },
            "outputData": {
                "message": ""
            },
            "deps": "js/testPropsInComponentService"

        },
        "populateMessageIndia": {
            "actionType": "JSFunction",
            "method": "populateMessage",
            "inputData": {
                "message": "Site Selected : ElloraCaves"
            },
            "outputData": {
                "message": ""
            },
            "deps": "js/testPropsInComponentService"

        }
    },
    "functions": {
        "getState": {
            "functionName": "getState",
            "parameters": [
                "{{props.state}}"
            ]
        }
    },
    "data": {
        "siteName": {
            "displayName": "Heritage Site :",
            "type": "STRING",
            "isRequired": "false"
        },
        "stateName": {
            "displayName": "Country :",
            "type": "STRING",
            "isRequired": "false"
        },
        "showMore": {
            "displayName": "{{i18n.SHOW_MORE}}",
            "type": "STRING",
            "isRequired": "false"
        },
        "showLess": {
            "displayName": "{{i18n.SHOW_LESS}}",
            "type": "STRING",
            "isRequired": "false"
        },
        "lessDetails": true
    },
    "i18n": {
        "SHOW_MORE": [
            "BaseMessages"
        ],
        "SHOW_LESS": [
            "BaseMessages"
        ]
    },
    "props": {
        "site-name": {
            "type": "string"
        },
        "state": {
            "type": "string"
        },
        "details": {
            "type": "object"
        }
    },
    "conditions": {
        "infoOnElloraCavesCondition": {
            "expression": "props.siteName === 'Ellora Caves'"
        }
    },
    "lifecycleHooks": {
        "onMount": "init"
    },
    "onEvent": [ {
            "eventId": "siteSelectedEvent",
            "condition": "props.state==='UK'",
            "action": "populateMessageUK"
        },
        {
            "eventId": "siteSelectedEvent",
            "condition": "conditions.infoOnElloraCavesCondition",
            "action": "populateMessageIndia"
        }
    ],
    "messages": {
        "detailsCollapsed": {
            "messageType": "INFO",
            "messageText": "Details for '{0} [{1}]' collapsed",
            "messageTextParams": [
                "{{props.siteName}}",
                "{{data.state}}"
            ]
        }
    }
}
