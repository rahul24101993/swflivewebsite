// Copyright (c) 2021 Siemens

/**
 * @module js/CommonAvatarService
 */
import _ from 'lodash';
import AwAvatar from 'viewmodel/AwAvatarViewModel';

/**
 * render function for Common Global Navigation
 * @param {*} param0 context for render function interpolation
 * @returns {JSX.Element} react component
 */
export const commonAvatarRenderFunction = ( { ctx, actions } ) => {
    let hasThumbnail = _.get( ctx, 'user.hasThumbnail' );
    let typeIconURL = _.get( ctx, 'user.typeIconURL' );
    let thumbnailURL = _.get( ctx, 'user.thumbnailURL' );
    let cellHeader1 = _.get( ctx, 'user.cellHeader1' );

    let avatar = <AwAvatar size='xsmall' source={typeIconURL} action={actions.userAvatarAction}></AwAvatar>;

    if( hasThumbnail  ) {
        avatar = <AwAvatar size='xsmall' source={thumbnailURL} action={actions.userAvatarAction}></AwAvatar>;
    } else if ( cellHeader1 && cellHeader1.length > 0 ) {
        avatar = <AwAvatar size='xsmall' action={actions.userAvatarAction} initials={cellHeader1}></AwAvatar>;
    }

    return (
        // LHN (Bottom) AVATAR AREA which opens LHN Panel
        <div className='sw-row justify-center sw-avatar-container'>
            { avatar }
        </div>
    );
};
