// Copyright (c) 2021 Siemens

/**
 * @module js/SplmTableCellEditorService
 */
import AwPropertyVal from 'viewmodel/AwPropertyValViewModel';
var exports = {};

export const splmTableCellEditorOnMount = function( vmo, viewModel ) {
    viewModel.dispatch( { path: 'data.vmo', value: vmo } );
};

export const splmTableCellEditorRenderFunction = function( props ) {
    const { fields } = props;
    if( fields.vmo ) {
        // Need to remove this change once below story is implemented, adding this for now to fulfill AW6.2 timeline 
        // LCS-656345 - [High] Create and Edit Unit Group Effectivity Panel UI change to allow opening aw-add panel for End Item
        // revisitme: comment from Stark thomos: Why is a property containing an entire vmo object?
        let activeState = fields.vmo[ props.name ].activeState || fields.vmo[ props.name ].vmo && fields.vmo[ props.name ].vmo.activeState;
        return <AwPropertyVal { ...fields.vmo[ props.name ] } activeState={activeState}/>;
    }
    return '';
};

exports = {
    splmTableCellEditorOnMount,
    splmTableCellEditorRenderFunction
};
export default exports;
