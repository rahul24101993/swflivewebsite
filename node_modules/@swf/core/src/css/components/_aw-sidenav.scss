// Copyright (c) 2020 Siemens
// aw-sidenav
//css for float sidenav
.aw-sidenav-float {
    transition: max-width $sidenav_transition ease-in-out;
    z-index: $sidenav_z_index;
}

.global-navigation {
    .aw-sidenav-float {
        z-index: $sidenav_primary_nav_panel_z_index;
    }
}

.aw-sidenav-resizer {
    @include display_flex;
    height: 100%;
    position: absolute;
    align-items: center;
    justify-content: center;
    pointer-events: none;
    z-index: 1001;
    transition: border-color 300ms ease;

    .resize-handle {
        pointer-events: auto;
        outline: none;
        width: 16px;
        height: 16px;
        cursor: pointer;
        .sw-button-iconContainer {
            padding: 0;

            .sw-button-icon {
                svg rect {
                    transition: fill 300ms ease;
                }
            }
        }
    }

    aw-property-image {
        width: 16px;
        height: 16px;
        pointer-events: auto;
        cursor: pointer;
    }
}

.aw-sidenav-float-right {
    z-index: $sidenav_z_index;
    position: fixed;
    right: 0;

    .aw-layout-panel {
        z-index: $sidenav_z_index;
    }
}

.aw-sidenav-float-left {
    position: fixed;
}

//css for push sidenav
.aw-sidenav-push {
    position: relative;
    transition: max-width $sidenav_transition ease-in-out;
    z-index: $sidenav_z_index;
    border-radius: 0;

    .aw-panel {
        border-radius: 0;
        height: 100%;
    }

    &.aw-sidenav-leftBackground {
        .aw-sidenav-resizer {
            left: 0;
            border-left-width: 1px;
            border-left-color: transparent;
            border-left-style: solid;
        }
    }

    &.aw-sidenav-rightBackground {
        .aw-sidenav-resizer {
            right: 0;
            border-right-width: 1px;
            border-right-color: transparent;
            border-right-style: solid;
        }
    }
}

.aw-sidenav-layoutContainer {
    max-width: 0%;
    &.aw-sidenav-expand {
        max-width: 100%;
        min-width: $sidenav_panel_minimum_width;
    }
}

.aw-sidenav-transition {
    transition: max-width 0s;
}

.global-navigation {
    .aw-sidenav-layoutContainer {
        &.aw-sidenav-standard {
            width: $sidenav_standard_nav_panel_size;
        }

        &.aw-sidenav-wide {
            width: $sidenav_wide_nav_panel_size;
        }

        .pinned,
        .unpinned {
            overflow: visible;

            .sw-button-icon {
                cursor: pointer;

                svg {
                    height: $sidenav_panel_pin_icon_height;
                    width: $sidenav_panel_pin_icon_width;
                }
            }

            .sw-button-iconContainer {
                outline: none;
            }
        }

        .aw-layout-declarativePanelRoot {
            padding: $padding_xlarge;
        }

        .sw-headercontext-userSettingContainer {
            .sw-button-iconContainer {
                outline: none;
            }
        }

        .aw-command-bar.aw-commands-commandBarVertical {
            .aw-commands-wrapper {
                padding: 0;
            }

            .aw-command-overflowIcon {
                display: block;
            }
        }

        .aw-command-bar.aw-commands-commandBarVertical,
        .aw-command-bar.aw-commands-commandBarVertical .aw-commands-overflow {
            width: 100%;

            .aw-command .aw-commands-commandIconButton {
                width: 100%;
                padding: $padding_small $padding_normal;
                text-align: left;
                height: 24px;
                border-radius: 2px;
                display: flex;

                .aw-commands-showIconLabel.aw-commands-commandIconButtonText {
                    font-size: $base-font-size;
                    width: $global_navigation_command_label_width;
                    height: $global_navigation_command_label_height;
                    overflow: hidden;
                    white-space: nowrap;
                    text-overflow: ellipsis;
                    margin-left: $global_navigation_command_label_margin;
                    margin-top: 0;
                    font-weight: $bold_font_weight;
                }
            }
        }
    }
}

.aw-sidenav-standard {
    width: $sidenav_standard_panel_size;
}

.aw-sidenav-wide {
    width: $sidenav_wide_panel_size;
}

.aw-sidenav-extrawide {
    width: $sidenav_extra_wide_panel_size;
}

.aw-sidenav-doublewide {
    width: $sidenav_double_wide_panel_size;
}

.aw-sidenav-vertical-standard {
    height: $sidenav_standard_panel_size;
}

.aw-sidenav-vertical-large {
    // As per UX guidelines, the large panel should be 75% of the container height
    height: 75%;
}

.aw-sidenav-vertical-full {
    // As per UX guidelines, the large panel should be 75% of the container height
    height: 100%;
}

.aw-sidenav-vertical-wide {
    height: $sidenav_wide_panel_size;
}

.aw-sidenav-float.aw-sidenav-rightBackground {
    border-top-right-radius: $command_panel_border_radius;
    border-bottom-right-radius: $command_panel_border_radius;
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;

    .aw-panel {
        border-top-right-radius: $command_panel_border_radius;
        border-bottom-right-radius: $command_panel_border_radius;
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
    }

    .aw-sidenav-resizer {
        right: 0;
        border-right-width: 1px;
        border-right-color: transparent;
        border-right-style: solid;
    }
}

.aw-sidenav-float.aw-sidenav-leftBackground {
    border-top-left-radius: $command_panel_border_radius;
    border-bottom-left-radius: $command_panel_border_radius;
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;

    .aw-panel {
        border-top-left-radius: $command_panel_border_radius;
        border-bottom-left-radius: $command_panel_border_radius;
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }

    .aw-sidenav-resizer {
        left: 0;
        border-left-width: 1px;
        border-left-color: transparent;
        border-left-style: solid;
    }
}

.aw-sidenav-layoutContainer {
    .sidenav-pin-col {
        @include flexbox();
        @include flex(0 0 1em);
        @include flex-direction(column);
    }

    .sidenav-pin-row {
        @include flexbox();
        @include flex(0 0 1em);
        @include flex-direction(row-reverse);
        @include flex-wrap(wrap);
        margin-top: 1em;
        margin-right: 1em;
    }

    @include flex(0 0 auto);

    .aw-layout-panelFooter {
        padding: $sidenav_button_padding;
    }

    button {
        &.aw-base-size-auto:not(:last-child) {
            margin: $sidenav_button_margin;
        }

        &.aw-base-size-auto:last-child {
            margin: 0;
        }
    }
}

.aw-sidenav-layoutContainer.aw-sidenav-standard {
    .pinned {
        aw-property-image {
            animation-name: animate-pin;
            animation-duration: $global_navigation_panel_animation_duration;
        }
    }
}

.aw-sidenav-layoutContainer.aw-sidenav-wide {
    .pinned {
        aw-property-image {
            animation-name: animate-pin-wide;
            animation-duration: $global_navigation_panel_animation_duration;
        }
    }
}

@keyframes animate-pin {
    0% {
        position: absolute;
        left: 220px;
        top: 12px;
    }

    50% {
        position: absolute;
        left: 232px;
        top: 0;
    }

    100% {
        position: absolute;
        left: 220px;
        top: 12px;
    }
}

@keyframes animate-pin-wide {
    0% {
        position: absolute;
        left: 320px;
        top: 12px;
    }

    50% {
        position: absolute;
        left: 332px;
        top: 0;
    }

    100% {
        position: absolute;
        left: 320px;
        top: 12px;
    }
}

.aw-global-navigationPanelPinned {
    .global-navigation {
        .aw-sidenav-layoutContainer {
            margin: $sidenav_panel_pinned_state_margin;
            position: relative;
        }
    }
}

/* aw-footer narrow-mode */
@media (max-width: 28.75em) {

    /* Width of side nav should be 100%
       Pin icon is not needed in narrow mode.
       Global navigation is not visible but the div is present in DOM which we don't require in narrow mode.
    */
    .global-navigation {
        .aw-sidenav-layoutContainer.aw-sidenav-standard {
            width: 100%;
        }

        .unpinned,
        .global-navigation-left-toolbar {
            display: none;
        }
    }
}
