// Copyright (c) 2020 Siemens

// dev note: this is first-pass styling
// needs a 2nd-pass for clean-up

// cb-val is an invisible label with a hidden input and a visible label + cb
.sw-checkbox-val {
    z-index: 0;
    position: relative;
    display: block;
    width: fit-content;
    flex: 0 0 auto;

    >input[type=checkbox] {
        z-index: -1;
        position: absolute;
        left: -5px;
        top: -3px;
        display: block;
        margin: 0;
        border-radius: 50%;
        width: rem-calc(30);
        height: rem-calc(30);
        box-shadow: none;
        outline: none;
        opacity: 0;
        transform: scale(1);
        pointer-events: none;
        transition: opacity 0.3s, transform 0.2s;
    }

    >.sw-checkbox-pseudo {
        width: auto;
        cursor: pointer;
    }

    >.sw-checkbox-pseudo::before {
        content: "";
        display: inline-block;
        box-sizing: border-box;
        margin: $margin_small;
        border: solid 1px;
        /* Safari */
        border-radius: 3px;
        width: rem-calc(18);
        height: rem-calc(18);
        vertical-align: top;
        transition: border-color 0.2s, background-color 0.2s;
    }

    >.sw-checkbox-pseudo::after {
        content: "";
        display: block;
        position: absolute;
        top: rem-calc(4);
        left: rem-calc(4);
        width: rem-calc(10);
        height: rem-calc(5);
        border: solid 2px;
        border-right: none;
        border-top: none;
        transform: translate(3px, 4px) rotate(-45deg);
    }

    >input:indeterminate+.sw-checkbox-pseudo::after {
        border-left: none;
        transform: translate(4px, 3px);
    }
}

.checkbox-negated.sw-checkbox-val>input:checked+.sw-checkbox-pseudo:after {
    content: "\1F6C7";
    display: block;
    position: absolute;
    top: rem-calc(2);
    left: rem-calc(5);
    width: 0;
    height: 0;
    border: 0 solid;
    border-top: none;
    border-right: none;
    -webkit-transform: translate(0px, 0px) rotate(0deg);
    transform: translate(0px, 0px) rotate(0deg);
    color: rgb(255, 255, 255);
    font-weight: bold;
    font-size: medium;
}

.sw-property.sw-component {
    .sw-checkbox-val {
        .sw-property-val {
            width: rem-calc(30);
            min-width: rem-calc(30);
            max-width: rem-calc(30);
        }
    }

    // hover and focus
    &:not(.sw-readOnly) {
        &:hover {
            cursor: pointer;

            .sw-checkbox-pseudo::before {
                border-width: 3px;
            }
        }
    }
}

.sw-reverse.sw-property .sw-checkbox-val {
    margin-right: -6px;
}

// checkbox-list separator after selected vals
// and after preferred choices
.sw-lov-contentContainer {

    .afx-selected-vals .aw-widgets-cellListItem:last-child,
    .sw-lov-lastMru {
        border-bottom-style: solid;
        border-bottom-width: 1px;
    }
}

// checkbox-list filter
.aw-jswidgets-cbaSearch {
    margin: $margin_small rem-calc(10);

    .aw-widget-icon {
        height: $icon_button_height;
        width: $icon_button_width;
    }
}

.sw-checkbox-lov {
    .sw-cell-val {
        align-self: center;
    }

    .sw-checkbox-val {
        margin-right: $margin_xsmall;
    }

    &:hover {
        cursor: pointer;

        .sw-checkbox-pseudo::before {
            border-width: 3px;
        }
    }
}
