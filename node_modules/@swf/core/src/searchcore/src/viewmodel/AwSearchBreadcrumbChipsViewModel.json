{
    "schemaVersion": "1.0.0",
    "imports": [],
    "actions": {
        "render": {
            "method": "AwSearchBreadcrumbChipsRenderFunction",
            "deps": "js/AwSearchBreadcrumbChipsService",
            "options": {
                "elementRefList": [ "chiplist" ]
            }
        },
        "chipOverflowPopup": {
            "actionType": "popup",
            "options": {
                "placement": "bottom-start",
                "toggleMode": true,
                "whenParentScrolls": "close",
                "clickOutsideToClose": true,
                "anchor": "closePopupAnchor",
                "resizeToClose": true
            }
        },
        "buildSearchChips": {
            "actionType": "JSFunction",
            "method": "buildSearchChips",
            "inputData": {
                "searchObject": "{{props.searchObject}}",
                "existingBreadcrumbChips": "{{data.breadcrumbChips}}"
            },
            "outputData": {
                "breadcrumbChips": ""
            },
            "deps": "js/AwSearchBreadcrumbChipsUtils"
        },
        "calculateOverflow": {
            "actionType": "JSFunction",
            "method": "calculateOverflow",
            "inputData": {
                "elementRefList": "{{parameters.elementRefList}}",
                "totalVisibleArea": "{{data.visibleChipArea}}",
                "totalVisibleHeight": "{{data.visibleHeightChipArea}}",
                "breadcrumbChips": "{{data.breadcrumbChips}}",
                "currentOverflowChips": "{{data.overflowConfig.overflownChips}}",
                "displayBreadcrumbChips": "{{data.displayBreadcrumbChips}}",
                "inHeader": "{{data.inHeader}}",
                "searchFilterCategoryExpandMore": "{{i18n.searchFilterCategoryExpandMore}}",
                "visibleChipAreaMaintained":true
            },
            "outputData": {
                "displayBreadcrumbChips": "displayChips",
                "overflowConfig.overflownChips":"overflownChips",
                "displayOverflowButton": "displayOverflowButton",
                "visibleChipArea": "totalVisibleArea",
                "visibleHeightChipArea": "totalVisibleHeight"
            },
            "deps": "js/AwSearchBreadcrumbChipsUtils"
        },
        "attachResizeObserver": {
            "actionType": "JSFunction",
            "method": "attachResizeObserver",
            "inputData": {
                "data": "{{data}}",
                "elementRefList": "{{parameters.elementRefList}}"
            },
            "deps": "js/AwSearchBreadcrumbChipsService"
        },
        "removeFilterAction": {
            "actionType": "JSFunction",
            "method": "removeSelectedChip",
            "inputData": {
                "searchObject": "{{props.searchObject}}",
                "chipToRemove": "{{parameters.chip}}",
                "data":"{{data}}"
            },
            "outputData": {
                "displayBreadcrumbChips": "displayChips",
                "overflowConfig.overflownChips": "overflownChips"
            },
            "deps": "js/AwSearchBreadcrumbChipsUtils"
        },
        "clearAllAction": {
            "actionType": "JSFunction",
            "method": "clearAll",
            "inputData": {
                "searchObject": "{{props.searchObject}}"
            },
            "deps": "js/AwSearchBreadcrumbChipsUtils"
        },
        "onMount": {
            "actionType": "JSFunction",
            "method": "checkSearchLocation",
            "inputData": {
                "searchObject": "{{props.searchObject}}"
            },
            "outputData": {
                "inHeader": ""
            },
            "deps": "js/AwSearchBreadcrumbChipsUtils"
        },
        "resizeOverflowCalculation":{
            "actionType": "batchJob",
            "steps":[
                {
                    "action":"buildSearchChips"
                },
                {
                    "action":"calculateOverflow"
                }
            ]
        },
        "onMountActions":{
            "actionType": "batchJob",
            "steps":[
                {
                    "action":"onMount"
                },
                {
                    "action":"attachResizeObserver"
                }
            ]
        },
        "onUnMount": {
            "actionType": "JSFunction",
            "method": "onUnMount",
            "inputData": {
                "elementRefList": "{{parameters.elementRefList}}"
            },
            "deps": "js/AwSearchBreadcrumbChipsService"
        }
    },
    "data": {
        "breadcrumbChips": [],
        "displayBreadcrumbChips": [],
        "chipsModel": [],
        "inHeader": "",
        "displayOverflowButton": "",
        "clearAllDisplayName": "",
        "visibleHeightChipArea":"",
        "visibleChipArea": "",
        "searchFilterCategoryExpandMore":"{{i18n.searchFilterCategoryExpandMore}}",
        "overflowConfig": {
            "overflownChips": [],
            "hideMore": true
        },
        "clearAll": {
            "displayName": "{{i18n.clear}}",
            "type": "STRING",
            "uiValue": "{{i18n.clear}}",
            "isRequired": "false"
        }
    },
    "conditions": {
        "shouldShowFilterChips": {
            "expression": "data.breadcrumbChips && data.breadcrumbChips.length > 0"
        }
    },
    "onEvent": [],
    "lifecycleHooks": {
        "render": "render",
        "onMount": "onMountActions",
        "onUpdate": [
            {
                "action": "resizeOverflowCalculation",
                "observers": [
                    "props.searchObject.activeFilters",
                    "props.searchObject.activeFilterString",
                    "props.searchObject.categories"
                ]
            }
        ]
    },
    "props": {
        "search-object": {
            "type": "object"
        }
    },
    "i18n": {
        "clear": ["SearchMessages"],
        "searchFilterCategoryExpandMore": ["SearchMessages"]
    }
}