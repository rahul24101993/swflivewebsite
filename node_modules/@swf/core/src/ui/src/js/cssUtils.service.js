// Copyright (c) 2022 Siemens

/**
 * Defines {@link NgServices.cssUtils} which provides a set of utilities for extracting properties from css.
 *
 * @module js/cssUtils.service
 */
import _ from 'lodash';

/**
 * Get the value of a property from a CSS class. If that class does not have the property the default 'div'
 * property will be returned.
 *
 * @method getPropertyFromCssClass
 * @memberOf NgControllers.awColumnChartCtrl
 *
 * @param className {String} - Name of the class
 * @param property {String} - Name of the property
 *
 * @return {String} Property value
 */
export let getPropertyFromCssClass = function( className, property ) {
    //revisitme :Prasad
    // Here jquery is used to create a dummy element so that we can go runtime computed property.
    //I feel it is safe here to convert it to native dom approach.
    // Create and append div so CSS is computed
    const e = document.createElement( 'div' );
    e.classList.add( className );
    document.body.appendChild( e );
    var prop = getComputedStyle( e )[ property ];
    e.parentNode.removeChild( e );
    // var e = $( '<div>', {
    //     class: className
    // } ).appendTo( 'body' );
    // // Get the property
    // var prop = e.css( property );
    // // and remove the div
    // e.remove();
    return prop;
};

/**
 * Get the background color for the 'aw-charts-chartColor' classes 1-9.
 *
 * @method getPropertyFromCssClass
 * @memberOf NgControllers.awColumnChartCtrl
 *
 * @return {String[]} Chart colors
 */
export let getColumnChartColors = function( chartColorOverrideClass ) {
    return _.range( 1, 11 ).map( function( i ) {
        return exports.getPropertyFromCssClass( chartColorOverrideClass + i, 'background-color' );
    } );
};

const exports = {
    getPropertyFromCssClass,
    getColumnChartColors
};
export default exports;
