// Copyright (c) 2021 Siemens

/**
 * @module js/AwPopupCommandListService
 */
import AwPopupCommandCell from 'viewmodel/AwPopupCommandCellViewModel';

export const awCommandListRenderFunction = ( { ctxMin: { commandDisplays }, i18n: { NO_COMMANDS_TEXT }, childCommandClickCallback, commandContext, visibilityLoader, anchor } ) => {
    const visibleCommands = commandDisplays.filter( x => x.visible );
    if( !visibleCommands.length ) {
        return <div className='aw-widgets-noResultsLabel'>{ NO_COMMANDS_TEXT }</div>;
    }
    return (
        <div className='aw-popup-command-bar' anchor={anchor}>
            { visibleCommands.map( cmd => <AwPopupCommandCell key={cmd.id} command={cmd}
                childCommandClickCallback={childCommandClickCallback}
                commandContext={commandContext}
                visibilityLoader={visibilityLoader}>
            </AwPopupCommandCell> )}
        </div>
    );
};
