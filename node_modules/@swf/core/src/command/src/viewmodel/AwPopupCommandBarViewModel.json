{
    "schemaVersion": "1.0.0",
    "actions": {
        "initialize": {
            "actionType": "JSFunctionAsync",
            "deps": "js/AwCommandBarService",
            "method": "awCommandBarInitFunction",
            "inputData": {
                "0": {
                    "anchor": "{{props.anchor}}"
                }
            },
            "outputData": {
                "commandList": "commandList",
                "trace": "trace"
            }
        },
        "refreshServerVisibility": {
            "actionType": "JSFunctionAsync",
            "deps": "js/AwCommandBarService",
            "method": "refreshServerVisibility",
            "inputData": {
                "0": {
                    "anchor": "{{props.anchor}}",
                    "commandList": "{{data.commandList}}",
                    "visibilityLoader": "{{props.visibilityLoader}}",
                    "trace": "{{data.trace}}"
                }
            },
            "outputData": {
                "visibleServerCommands": ""
            },
            "events": {
                "success": [ {
                    "name": "nxCommands.update",
                    "condition": "ctx.aw_hosting_enabled && ctx.aw_host_type === 'NX'",
                    "eventData": {
                        "name": "visibleServerCommands",
                        "data": ""
                    }
                } ]
            }
        },
        "render": {
            "method": "awPopupCommandBarRenderFunction",
            "options": {
                "elementRefList": [
                    "commandBar"
                ]
            },
            "deps": "js/AwPopupCommandBarService"
        }
    },
    "lifecycleHooks": {
        "onMount": "initialize",
        "render": "render",
        "onUpdate": {
            "action": "refreshServerVisibility",
            "observers": [
                "props.visibilityLoader",
                "viewModel.data.commandList"
            ]
        }
    },
    "props": {
        "alignment": {
            "type": "string"
        },
        "anchor": {
            "type": "string"
        },
        "child-command-click-callback": {
            "type": "object"
        },
        "visibility-loader": {
            "type": "object"
        },
        "context": {
            "type": "object"
        }
    }
}
