// Copyright (c) 2021 Siemens
export const awShowObjectPageRenderFunction = ( props ) => {
    const { viewModel, ctx, i18n } = props;
    const {
        browserSubTitle,
        headerTitle
    } = props;

    const { data } = viewModel;
    data.preNarrowTitle = data.preNarrowTitle || null;
    data.headerTitle = headerTitle || data.headerTitle;

    if( data.headerTitle ) {
        document.title = data.headerTitle +
            ( browserSubTitle ? ' - ' + browserSubTitle : '' );
    }

    const getClassName = () => {
        return 'sw-showobject-page aw-layout-flexRowContainer aw-layout-flexbox aw-layout-locationPanel locationPanel';
    };
    const getClassNameHeader = () => {
        return 'sw-row demo-h-7f aw-layout-nowrap afx-layout-header-container';
    };
    const getSubLocationTabsView = () => {
        if( props.children[ 1 ] && props.children[ 1 ].props.tabContainerModel && props.children[ 1 ].props.tabContainerModel.length > 1 ) {
            return <div className='sw-row aw-layout-nowrap aw-layout-subLocationTitles afx-medium-background demo-h-4f'>
                <nav aria-label={i18n.secondaryNavigation} className='sw-column w-12 justify-flex-end'>
                    {props.children[1]}
                </nav>
            </div>;
        }
        return null;
    };
    const getContentView = () => <div className='sw-row h-9 aw-layout-nowrap aw-layout-subLocation afx-content-background'>
        <div className='sw-column flex-auto aw-layout-nowrap'>
            {props.children[2]}
        </div>
    </div>;

    const showObjectView = () => {
        return <div className={getClassName()}>
            <div className='sw-column aw-layout-nowrap flex-auto'>
                <div className={getClassNameHeader()}>
                    {props.children[0]}
                </div>

                {getSubLocationTabsView()}

                {getContentView()}
            </div>
        </div>;
    };

    return showObjectView();
};
