{"ast":null,"code":"// Copyright (c) 2020 Siemens\n\n/**\n * Selection model factory\n *\n * @module js/selectionModelFactory\n */\nimport _ from 'lodash';\nimport eventBus from 'js/eventBus';\nimport logger from 'js/logger'; // Factory definition\n\nvar exports = {};\n/**\n * The UwSelectionModel type definition. A selection model contains a list of UIDs that are selected and has other\n * internal state information such as multi select state, selection mode, and selection status\n *\n * @param {String} mode - The initial selection mode. Defaults to 'single' if not provided.\n * @param {Function} tracker - The function used to track selection\n *\n * @class UwSelectionModel\n */\n\nvar UwSelectionModel = function (mode, tracker) {\n  var self = this;\n  /**\n   * The selection mode. Single or multiple. Defaults to single.\n   *\n   * @member mode\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   * @private\n   */\n\n  mode = mode ? mode : 'single';\n  /**\n   * Read only copy of internal selection mode. Modifications to this will not be reflected in the selection\n   * model.\n   *\n   * @member mode\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   */\n\n  self.mode = mode;\n  /**\n   * Whether selection model is currently in multi select mode. False initially.\n   *\n   * @member multiSelectEnabled\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   * @private\n   */\n\n  var multiSelectEnabled = false;\n  /**\n   * Read only copy of internal multi select state. Modifications to this will not be reflected in the selection\n   * model.\n   *\n   * @member multiSelectEnabled\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   */\n\n  self.multiSelectEnabled = multiSelectEnabled;\n  /**\n   * Whether selection is currently enabled. When false any selection updates will be ignored. True initially.\n   *\n   * @member selectionEnabled\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   * @private\n   */\n\n  var selectionEnabled = mode !== 'none';\n  /**\n   * The current selection state. none / some / all\n   *\n   * @member selectionState\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   * @private\n   */\n\n  var selectionState = 'none';\n  /**\n   * The UIDs that are currently selected.\n   *\n   * @member selected\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   * @private\n   */\n\n  var selected = [];\n  /**\n   * The selection states last time selection state was updated.\n   *\n   * @member lastSelectionState\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   * @private\n   */\n\n  var lastSelectionState = {};\n  /**\n   * Utility to fire events that update select all / deselect all command visibility\n   */\n\n  var notifySelectionState = function () {\n    var canSelectLoaded = self.getCanExecuteSelectLoaded();\n    var canDeselect = self.getCanExecuteDeselect();\n\n    if (lastSelectionState.CanExecuteSelectLoaded !== canSelectLoaded || lastSelectionState.CanExecuteDeselect !== canDeselect) {\n      lastSelectionState.CanExecuteSelectLoaded = canSelectLoaded;\n      lastSelectionState.CanExecuteDeselect = canDeselect;\n      eventBus.publish('CanExecuteSelectLoaded', {});\n      eventBus.publish('CanExecuteDeselect', {});\n    }\n  };\n  /**\n   * Utility to exit multi select mode when selection is cleared\n   */\n\n\n  var checkResetMultiSelect = function () {\n    // Disable multi select when all selection is cleared\n    if (selected.length === 0 && !multiSelectEnabled) {\n      self.setMultiSelectionEnabled(false);\n      selectionState = 'none';\n    }\n  };\n  /**\n   * Change selection mode\n   *\n   * @function setMode\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   *\n   * @param {Boolean} newMode - The new mode\n   */\n\n\n  self.setMode = function (newMode) {\n    // Toggle internal mode\n    mode = newMode; // Update external (read only) mode\n\n    self.mode = mode;\n  };\n  /**\n   * Check if multi select mode is active\n   *\n   * @function isMultiSelectionEnabled\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   *\n   * @return {Boolean} Whether multi select mode is active\n   */\n\n\n  self.isMultiSelectionEnabled = function () {\n    return multiSelectEnabled;\n  };\n  /**\n   * Enable / disable multi select mode\n   *\n   * @function setMultiSelectionEnabled\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   *\n   * @param {Boolean} newMultiSelectState - The new multi select state\n   */\n\n\n  self.setMultiSelectionEnabled = function (newMultiSelectState) {\n    if (mode !== 'none' && multiSelectEnabled !== newMultiSelectState) {\n      if (newMultiSelectState && mode !== 'multiple') {\n        logger.warn('Cannot enter multi select mode when selection model is single select');\n      } else {\n        // Toggle internal multi select state\n        multiSelectEnabled = newMultiSelectState; // Update the external (read only) state\n\n        self.multiSelectEnabled = multiSelectEnabled; // Update select / deselect command visibility\n\n        notifySelectionState();\n      }\n    }\n  };\n  /**\n   * Check if selection is enabled\n   *\n   * @function isSelectionEnabled\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   *\n   * @return {Boolean} Whether selection is enabled\n   */\n\n\n  self.isSelectionEnabled = function () {\n    return selectionEnabled;\n  };\n  /**\n   * Enable / disable selection\n   *\n   * @function setSelectionEnabled\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   *\n   * @param {Boolean} isSelectionEnabled - Enable / disable selection state\n   */\n\n\n  self.setSelectionEnabled = function (isSelectionEnabled) {\n    if (mode !== 'none') {\n      selectionEnabled = isSelectionEnabled;\n    }\n  };\n  /**\n   * Determine if select all loaded should be visible\n   *\n   * @function getCanExecuteSelectLoaded\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   *\n   * @return {Boolean} Whether select all loaded should be visible\n   */\n\n\n  self.getCanExecuteSelectLoaded = function () {\n    // Visible when in multi select mode and not all objects are selected\n    return mode === 'multiple' && selectionState !== 'all';\n  };\n  /**\n   * Determine if clear selection should be visible\n   *\n   * @function getCanExecuteDeselect\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   *\n   * @return {Boolean} Whether deselect all should be visible\n   */\n\n\n  self.getCanExecuteDeselect = function () {\n    // Visible when in multi select mode and everything is selected\n    return mode === 'multiple' && selectionState === 'all';\n  };\n  /**\n   * Determine the selection state (as it relates to data provider - none selected, some selected, all selected\n   *\n   * @function evaluateSelectionStatusSummary\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   *\n   * @param {UwDataProvider} dataProvider - The data provider to evaluate the selection state against.\n   */\n\n\n  self.evaluateSelectionStatusSummary = function (dataProvider) {\n    if (dataProvider) {\n      if (dataProvider.viewModelCollection) {\n        // Check of there's any objects in the data provider that aren't selected\n        var loadedVmos = dataProvider.viewModelCollection.getLoadedViewModelObjects();\n        var objectsNotSelected = loadedVmos.filter(function (x) {\n          return !self.isSelected(x);\n        }); // If everything is selected state is 'all'\n\n        if (loadedVmos.length && objectsNotSelected.length === 0) {\n          selectionState = 'all';\n        } else {\n          // Otherwise it's some / none depending on what is selected\n          selectionState = selected.length > 0 ? 'some' : 'none';\n        }\n      } // Update select / deselect command visibility\n\n\n      notifySelectionState();\n    } else {\n      logger.error('No data provider given to evaluate selection status against. Data provider must now be passed to selectionModel.evaluateSelectionStatusSummary');\n    }\n  };\n  /**\n   * Get the current selection (as UIDs)\n   *\n   * @function getSelection\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   *\n   * @return {String[]} List of uids that are selected\n   */\n\n\n  self.getSelection = function () {\n    return selected;\n  };\n  /**\n   * Set the current selection\n   *\n   * @function setSelection\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   *\n   * @param {String|String[]|Object|Object[]} newSelection - What to set as selection\n   */\n\n\n  self.setSelection = function (newSelection) {\n    // If selection is not disabled\n    if (selectionEnabled) {\n      // Convert input to list of uids\n      var uidList = exports.asTrackedList(newSelection, tracker); // Replace selection\n\n      let oldSelection = selected;\n      selected = uidList; // Auto exit multi select\n\n      checkResetMultiSelect();\n\n      if (self.syncSelections) {\n        self.syncSelections(oldSelection, uidList);\n      }\n    }\n  };\n  /**\n   * Add something to the current selection\n   *\n   * @function addToSelection\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   *\n   * @param {String|String[]|Object|Object[]} newSelection - What to add to selection. Can be single or multiple\n   *            view model objects or uids\n   */\n\n\n  self.addToSelection = function (newSelection) {\n    // If selection is not disabled\n    if (selectionEnabled) {\n      // Convert input to list of uids\n      var uidList = exports.asTrackedList(newSelection, tracker); // Add to selection if not already in there\n\n      let oldSelection = selected;\n      selected = selected.concat(uidList.filter(function (uid) {\n        return selected.indexOf(uid) === -1;\n      }));\n\n      if (self.syncSelections) {\n        self.syncSelections(oldSelection, uidList);\n      }\n    }\n  };\n  /**\n   * Remove something from the current selection\n   *\n   * @function removeFromSelection\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   *\n   * @param {String|String[]|Object|Object[]} newSelection - What to remove from selection. Can be single or\n   *            multiple view model objects or uids\n   */\n\n\n  self.removeFromSelection = function (newSelection) {\n    // If selection is not disabled\n    if (selectionEnabled) {\n      // Convert input to list of uids\n      var uidList = exports.asTrackedList(newSelection, tracker); // Remove any uid that is in the list of uids from the selection\n\n      let oldSelection = selected;\n      selected = selected.filter(function (uid) {\n        return uidList.indexOf(uid) === -1;\n      });\n      checkResetMultiSelect();\n\n      if (self.syncSelections) {\n        self.syncSelections(oldSelection, uidList);\n      }\n    }\n  };\n  /**\n   * Toggle the selection of something\n   *\n   * @function toggleSelection\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   *\n   * @param {String|String[]|Object|Object[]} newSelection - What to toggle the selection for. Can be single or\n   *            multiple view model objects or uids\n   */\n\n\n  self.toggleSelection = function (newSelection) {\n    // If selection is not disabled\n    if (selectionEnabled) {\n      // Convert input to list of uids\n      var uidList = exports.asTrackedList(newSelection, tracker); // Get the list of uids that are selected / not selected\n\n      var uidsNotSelected = uidList.filter(function (uid) {\n        return selected.indexOf(uid) === -1;\n      });\n      var uidsSelected = uidList.filter(function (uid) {\n        return selected.indexOf(uid) !== -1;\n      }); // Remove any objects were selected\n\n      let oldSelection = selected;\n      selected = selected.filter(function (uid) {\n        return uidsSelected.indexOf(uid) === -1;\n      }) // And add the objects that were not selected\n      .concat(uidsNotSelected);\n      checkResetMultiSelect();\n\n      if (self.syncSelections) {\n        self.syncSelections(oldSelection, uidList);\n      }\n    }\n  };\n  /**\n   * Get the number of items that are selected.\n   *\n   * @function getCurrentSelectedCount\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   *\n   * @return {Number} Number of selected objects\n   */\n\n\n  self.getCurrentSelectedCount = function () {\n    return selected.length;\n  };\n  /**\n   * Clear selection. Alias for setSelection([]). Does not fire the data provider event that tables expect.\n   *\n   * @function selectNone\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   */\n\n\n  self.selectNone = function () {\n    self.setSelection([]);\n  };\n  /**\n   * Check if the given object is selected\n   *\n   * @function isSelected\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   *\n   * @param {String|Object} obj - Obj to check selection state for\n   *\n   * @return {Boolean} Whether the object is selected\n   */\n\n\n  self.isSelected = function (obj) {\n    return self.getSelectedIndex(obj) !== -1;\n  };\n  /**\n   * Get the index of an object in selected array, if selected\n   *\n   * @function getSelectedIndex\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   *\n   * @param {String|Object} obj - Obj to check selection state for\n   *\n   * @return {Number} The index of an object in the selected array, if exists\n   */\n\n\n  self.getSelectedIndex = function (obj) {\n    var tracked = tracker ? tracker(obj) : obj;\n    return selected.indexOf(tracked);\n  };\n  /**\n   * Get any objects in the list that are selected and sort them by their order in the selection model.\n   *\n   * @function getSortedSelection\n   * @memberof module:js/selectionModelFactory~UwSelectionModel\n   *\n   * @param {String[]|Object[]} objList - List of objects to process to get selection\n   *\n   * @return {String[]|Object[]} Filtered and sorted list of objects\n   */\n\n\n  self.getSortedSelection = function (objList) {\n    // Get the selected objects\n    return objList.filter(function (x) {\n      return self.isSelected(x);\n    }) // And sort by the order in selection model\n    .sort(function (a, b) {\n      var tracked = tracker ? tracker(a) : a;\n      var tracked2 = tracker ? tracker(b) : b;\n      return selected.indexOf(tracked) - selected.indexOf(tracked2);\n    });\n  }; // Old api functions that have moved or are no longer supported Including here in case some usage was missed /\n  // added while CP was being promoted Will log an error/warning explaining how to fix\n  // Still supported but split to make goal clearer\n\n\n  self.addOrRemoveSelectedObjects = function (x, add) {\n    if (add) {\n      logger.warn('Please use selectionModel.addToSelection() instead of selectionModel.addOrRemoveSelectedObjects()');\n      self.addToSelection(x);\n    } else {\n      logger.warn('Please use selectionModel.removeFromSelection() instead of selectionModel.addOrRemoveSelectedObjects()');\n      self.removeFromSelection(x);\n    }\n  }; // Still supported but renamed to make result clearer\n\n\n  self.updateSelectedObjects = function (x) {\n    logger.warn('Please use selectionModel.setSelection() instead of selectionModel.updateSelectedObjects()');\n    self.setSelection(x);\n  }; // Not supported, moved to data provider\n\n\n  self.selectAll = function () {\n    logger.error('Selection model no longer supports selectAll as it does not contain model object list. Use dataProvider.selectAll() instead');\n  };\n\n  self.changeObjectsSelection = function () {\n    logger.error('Selection model no longer supports changeObjectsSelection as it does not contain model object list. Use dataProvider.changeObjectsSelection() instead');\n  };\n\n  self.getSelectedObjects = function () {\n    logger.error('Selection model no longer supports getSelectedObjects as it does not contain model object list. Use dataProvider.getSelectedObjects() instead');\n  }; // Not supported (intentionally)\n\n\n  self.updatePreSelectedObjects = function () {\n    logger.error('Selection model no longer supports pre selection');\n  };\n\n  self.getPreSelectedObjects = function () {\n    logger.error('Selection model no longer supports pre selection');\n  };\n};\n/**\n * Create a new selection model to manage selection within a data provider.\n *\n * @param {String} selectionMode - The selection mode to use initially. Defaults to 'single' if not provided.\n * @param {Function} tracker - The function used to track selection.\n *\n * @return {UwSelectionModel} The newly created DeclDataProvider object.\n *\n * @memberof module:js/selectionModelFactory\n */\n\n\n_c = UwSelectionModel;\nexport let buildSelectionModel = function (selectionMode, tracker) {\n  return new UwSelectionModel(selectionMode, tracker);\n};\n/**\n * Utility to ensure input is a list of tracked objects.\n *\n * @param {String|String[]|Object|Object[]} newSelection - The input to convert to a list of tracked objects\n * @param {Object} tracker - (Optional) The 'tracker' for the collection.\n *\n * @return {String|String[]|Object|Object[]} Resulting selection.\n */\n\nexport let asTrackedList = function (newSelection, tracker) {\n  // Ensure it is array of some sort\n  if (!_.isArray(newSelection)) {\n    newSelection = [newSelection];\n  } // Ensure everything in array is tracked\n\n\n  return tracker ? newSelection.map(tracker) : newSelection;\n};\n/**\n * Synchronously execute the 'setSelection' API on the given {UwSelectionModel} object.\n *\n * @param {UwSelectionModel} selectionModel - The {UwSelectionModel} object to set the selection on.\n * @param {String|String[]|Object|Object[]} newSelection - What to set as selection\n */\n\nexport let setSelection = function (selectionModel, newSelection) {\n  selectionModel.setSelection(newSelection);\n};\nexports = {\n  buildSelectionModel,\n  asTrackedList,\n  setSelection\n};\nexport default exports;\n\nvar _c;\n\n$RefreshReg$(_c, \"UwSelectionModel\");","map":{"version":3,"names":["_","eventBus","logger","exports","UwSelectionModel","mode","tracker","self","multiSelectEnabled","selectionEnabled","selectionState","selected","lastSelectionState","notifySelectionState","canSelectLoaded","getCanExecuteSelectLoaded","canDeselect","getCanExecuteDeselect","CanExecuteSelectLoaded","CanExecuteDeselect","publish","checkResetMultiSelect","length","setMultiSelectionEnabled","setMode","newMode","isMultiSelectionEnabled","newMultiSelectState","warn","isSelectionEnabled","setSelectionEnabled","evaluateSelectionStatusSummary","dataProvider","viewModelCollection","loadedVmos","getLoadedViewModelObjects","objectsNotSelected","filter","x","isSelected","error","getSelection","setSelection","newSelection","uidList","asTrackedList","oldSelection","syncSelections","addToSelection","concat","uid","indexOf","removeFromSelection","toggleSelection","uidsNotSelected","uidsSelected","getCurrentSelectedCount","selectNone","obj","getSelectedIndex","tracked","getSortedSelection","objList","sort","a","b","tracked2","addOrRemoveSelectedObjects","add","updateSelectedObjects","selectAll","changeObjectsSelection","getSelectedObjects","updatePreSelectedObjects","getPreSelectedObjects","buildSelectionModel","selectionMode","isArray","map","selectionModel"],"sources":["C:/Users/rahukl57/Desktop/SWF/CreatingOwnComponentUsingJsx/node_modules/@swf/core/src/uiwidget/src/js/selectionModelFactory.js"],"sourcesContent":["// Copyright (c) 2020 Siemens\n\n/**\n * Selection model factory\n *\n * @module js/selectionModelFactory\n */\nimport _ from 'lodash';\nimport eventBus from 'js/eventBus';\nimport logger from 'js/logger';\n\n// Factory definition\nvar exports = {};\n\n/**\n * The UwSelectionModel type definition. A selection model contains a list of UIDs that are selected and has other\n * internal state information such as multi select state, selection mode, and selection status\n *\n * @param {String} mode - The initial selection mode. Defaults to 'single' if not provided.\n * @param {Function} tracker - The function used to track selection\n *\n * @class UwSelectionModel\n */\nvar UwSelectionModel = function( mode, tracker ) {\n    var self = this;\n\n    /**\n     * The selection mode. Single or multiple. Defaults to single.\n     *\n     * @member mode\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     * @private\n     */\n    mode = mode ? mode : 'single';\n\n    /**\n     * Read only copy of internal selection mode. Modifications to this will not be reflected in the selection\n     * model.\n     *\n     * @member mode\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     */\n    self.mode = mode;\n\n    /**\n     * Whether selection model is currently in multi select mode. False initially.\n     *\n     * @member multiSelectEnabled\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     * @private\n     */\n    var multiSelectEnabled = false;\n\n    /**\n     * Read only copy of internal multi select state. Modifications to this will not be reflected in the selection\n     * model.\n     *\n     * @member multiSelectEnabled\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     */\n    self.multiSelectEnabled = multiSelectEnabled;\n\n    /**\n     * Whether selection is currently enabled. When false any selection updates will be ignored. True initially.\n     *\n     * @member selectionEnabled\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     * @private\n     */\n    var selectionEnabled = mode !== 'none';\n\n    /**\n     * The current selection state. none / some / all\n     *\n     * @member selectionState\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     * @private\n     */\n    var selectionState = 'none';\n\n    /**\n     * The UIDs that are currently selected.\n     *\n     * @member selected\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     * @private\n     */\n    var selected = [];\n\n    /**\n     * The selection states last time selection state was updated.\n     *\n     * @member lastSelectionState\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     * @private\n     */\n    var lastSelectionState = {};\n\n    /**\n     * Utility to fire events that update select all / deselect all command visibility\n     */\n    var notifySelectionState = function() {\n        var canSelectLoaded = self.getCanExecuteSelectLoaded();\n        var canDeselect = self.getCanExecuteDeselect();\n\n        if( lastSelectionState.CanExecuteSelectLoaded !== canSelectLoaded ||\n            lastSelectionState.CanExecuteDeselect !== canDeselect ) {\n            lastSelectionState.CanExecuteSelectLoaded = canSelectLoaded;\n            lastSelectionState.CanExecuteDeselect = canDeselect;\n\n            eventBus.publish( 'CanExecuteSelectLoaded', {} );\n            eventBus.publish( 'CanExecuteDeselect', {} );\n        }\n    };\n\n    /**\n     * Utility to exit multi select mode when selection is cleared\n     */\n    var checkResetMultiSelect = function() {\n        // Disable multi select when all selection is cleared\n        if( selected.length === 0 && !multiSelectEnabled ) {\n            self.setMultiSelectionEnabled( false );\n            selectionState = 'none';\n        }\n    };\n\n    /**\n     * Change selection mode\n     *\n     * @function setMode\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     *\n     * @param {Boolean} newMode - The new mode\n     */\n    self.setMode = function( newMode ) {\n        // Toggle internal mode\n        mode = newMode;\n        // Update external (read only) mode\n        self.mode = mode;\n    };\n\n    /**\n     * Check if multi select mode is active\n     *\n     * @function isMultiSelectionEnabled\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     *\n     * @return {Boolean} Whether multi select mode is active\n     */\n    self.isMultiSelectionEnabled = function() {\n        return multiSelectEnabled;\n    };\n\n    /**\n     * Enable / disable multi select mode\n     *\n     * @function setMultiSelectionEnabled\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     *\n     * @param {Boolean} newMultiSelectState - The new multi select state\n     */\n    self.setMultiSelectionEnabled = function( newMultiSelectState ) {\n        if( mode !== 'none' && multiSelectEnabled !== newMultiSelectState ) {\n            if( newMultiSelectState && mode !== 'multiple' ) {\n                logger.warn( 'Cannot enter multi select mode when selection model is single select' );\n            } else {\n                // Toggle internal multi select state\n                multiSelectEnabled = newMultiSelectState;\n\n                // Update the external (read only) state\n                self.multiSelectEnabled = multiSelectEnabled;\n\n                // Update select / deselect command visibility\n                notifySelectionState();\n            }\n        }\n    };\n\n    /**\n     * Check if selection is enabled\n     *\n     * @function isSelectionEnabled\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     *\n     * @return {Boolean} Whether selection is enabled\n     */\n    self.isSelectionEnabled = function() {\n        return selectionEnabled;\n    };\n\n    /**\n     * Enable / disable selection\n     *\n     * @function setSelectionEnabled\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     *\n     * @param {Boolean} isSelectionEnabled - Enable / disable selection state\n     */\n    self.setSelectionEnabled = function( isSelectionEnabled ) {\n        if( mode !== 'none' ) {\n            selectionEnabled = isSelectionEnabled;\n        }\n    };\n\n    /**\n     * Determine if select all loaded should be visible\n     *\n     * @function getCanExecuteSelectLoaded\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     *\n     * @return {Boolean} Whether select all loaded should be visible\n     */\n    self.getCanExecuteSelectLoaded = function() {\n        // Visible when in multi select mode and not all objects are selected\n        return mode === 'multiple' && selectionState !== 'all';\n    };\n\n    /**\n     * Determine if clear selection should be visible\n     *\n     * @function getCanExecuteDeselect\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     *\n     * @return {Boolean} Whether deselect all should be visible\n     */\n    self.getCanExecuteDeselect = function() {\n        // Visible when in multi select mode and everything is selected\n        return mode === 'multiple' && selectionState === 'all';\n    };\n\n    /**\n     * Determine the selection state (as it relates to data provider - none selected, some selected, all selected\n     *\n     * @function evaluateSelectionStatusSummary\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     *\n     * @param {UwDataProvider} dataProvider - The data provider to evaluate the selection state against.\n     */\n    self.evaluateSelectionStatusSummary = function( dataProvider ) {\n        if( dataProvider ) {\n            if( dataProvider.viewModelCollection ) {\n                // Check of there's any objects in the data provider that aren't selected\n                var loadedVmos = dataProvider.viewModelCollection.getLoadedViewModelObjects();\n                var objectsNotSelected = loadedVmos.filter( function( x ) {\n                    return !self.isSelected( x );\n                } );\n                // If everything is selected state is 'all'\n                if( loadedVmos.length && objectsNotSelected.length === 0 ) {\n                    selectionState = 'all';\n                } else {\n                    // Otherwise it's some / none depending on what is selected\n                    selectionState = selected.length > 0 ? 'some' : 'none';\n                }\n            }\n            // Update select / deselect command visibility\n            notifySelectionState();\n        } else {\n            logger.error( 'No data provider given to evaluate selection status against. Data provider must now be passed to selectionModel.evaluateSelectionStatusSummary' );\n        }\n    };\n\n    /**\n     * Get the current selection (as UIDs)\n     *\n     * @function getSelection\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     *\n     * @return {String[]} List of uids that are selected\n     */\n    self.getSelection = function() {\n        return selected;\n    };\n\n    /**\n     * Set the current selection\n     *\n     * @function setSelection\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     *\n     * @param {String|String[]|Object|Object[]} newSelection - What to set as selection\n     */\n    self.setSelection = function( newSelection ) {\n        // If selection is not disabled\n        if( selectionEnabled ) {\n            // Convert input to list of uids\n            var uidList = exports.asTrackedList( newSelection, tracker );\n\n            // Replace selection\n            let oldSelection = selected;\n            selected = uidList;\n\n            // Auto exit multi select\n            checkResetMultiSelect();\n            if( self.syncSelections ) {\n                self.syncSelections( oldSelection, uidList );\n            }\n        }\n    };\n\n    /**\n     * Add something to the current selection\n     *\n     * @function addToSelection\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     *\n     * @param {String|String[]|Object|Object[]} newSelection - What to add to selection. Can be single or multiple\n     *            view model objects or uids\n     */\n    self.addToSelection = function( newSelection ) {\n        // If selection is not disabled\n        if( selectionEnabled ) {\n            // Convert input to list of uids\n            var uidList = exports.asTrackedList( newSelection, tracker );\n\n            // Add to selection if not already in there\n            let oldSelection = selected;\n            selected = selected.concat( uidList.filter( function( uid ) {\n                return selected.indexOf( uid ) === -1;\n            } ) );\n            if( self.syncSelections ) {\n                self.syncSelections( oldSelection, uidList );\n            }\n        }\n    };\n    /**\n     * Remove something from the current selection\n     *\n     * @function removeFromSelection\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     *\n     * @param {String|String[]|Object|Object[]} newSelection - What to remove from selection. Can be single or\n     *            multiple view model objects or uids\n     */\n    self.removeFromSelection = function( newSelection ) {\n        // If selection is not disabled\n        if( selectionEnabled ) {\n            // Convert input to list of uids\n            var uidList = exports.asTrackedList( newSelection, tracker );\n\n            // Remove any uid that is in the list of uids from the selection\n            let oldSelection = selected;\n            selected = selected.filter( function( uid ) {\n                return uidList.indexOf( uid ) === -1;\n            } );\n\n            checkResetMultiSelect();\n            if( self.syncSelections ) {\n                self.syncSelections( oldSelection, uidList );\n            }\n        }\n    };\n\n    /**\n     * Toggle the selection of something\n     *\n     * @function toggleSelection\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     *\n     * @param {String|String[]|Object|Object[]} newSelection - What to toggle the selection for. Can be single or\n     *            multiple view model objects or uids\n     */\n    self.toggleSelection = function( newSelection ) {\n        // If selection is not disabled\n        if( selectionEnabled ) {\n            // Convert input to list of uids\n            var uidList = exports.asTrackedList( newSelection, tracker );\n\n            // Get the list of uids that are selected / not selected\n            var uidsNotSelected = uidList.filter( function( uid ) {\n                return selected.indexOf( uid ) === -1;\n            } );\n            var uidsSelected = uidList.filter( function( uid ) {\n                return selected.indexOf( uid ) !== -1;\n            } );\n            // Remove any objects were selected\n            let oldSelection = selected;\n            selected = selected.filter( function( uid ) {\n                    return uidsSelected.indexOf( uid ) === -1;\n                } )\n                // And add the objects that were not selected\n                .concat( uidsNotSelected );\n            checkResetMultiSelect();\n            if( self.syncSelections ) {\n                self.syncSelections( oldSelection, uidList );\n            }\n        }\n    };\n\n    /**\n     * Get the number of items that are selected.\n     *\n     * @function getCurrentSelectedCount\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     *\n     * @return {Number} Number of selected objects\n     */\n    self.getCurrentSelectedCount = function() {\n        return selected.length;\n    };\n\n    /**\n     * Clear selection. Alias for setSelection([]). Does not fire the data provider event that tables expect.\n     *\n     * @function selectNone\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     */\n    self.selectNone = function() {\n        self.setSelection( [] );\n    };\n\n    /**\n     * Check if the given object is selected\n     *\n     * @function isSelected\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     *\n     * @param {String|Object} obj - Obj to check selection state for\n     *\n     * @return {Boolean} Whether the object is selected\n     */\n    self.isSelected = function( obj ) {\n        return self.getSelectedIndex( obj ) !== -1;\n    };\n\n    /**\n     * Get the index of an object in selected array, if selected\n     *\n     * @function getSelectedIndex\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     *\n     * @param {String|Object} obj - Obj to check selection state for\n     *\n     * @return {Number} The index of an object in the selected array, if exists\n     */\n    self.getSelectedIndex = function( obj ) {\n        var tracked = tracker ? tracker( obj ) : obj;\n        return selected.indexOf( tracked );\n    };\n\n    /**\n     * Get any objects in the list that are selected and sort them by their order in the selection model.\n     *\n     * @function getSortedSelection\n     * @memberof module:js/selectionModelFactory~UwSelectionModel\n     *\n     * @param {String[]|Object[]} objList - List of objects to process to get selection\n     *\n     * @return {String[]|Object[]} Filtered and sorted list of objects\n     */\n    self.getSortedSelection = function( objList ) {\n        // Get the selected objects\n        return objList.filter( function( x ) {\n                return self.isSelected( x );\n            } )\n            // And sort by the order in selection model\n            .sort( function( a, b ) {\n                var tracked = tracker ? tracker( a ) : a;\n                var tracked2 = tracker ? tracker( b ) : b;\n                return selected.indexOf( tracked ) - selected.indexOf( tracked2 );\n            } );\n    };\n\n    // Old api functions that have moved or are no longer supported Including here in case some usage was missed /\n    // added while CP was being promoted Will log an error/warning explaining how to fix\n\n    // Still supported but split to make goal clearer\n    self.addOrRemoveSelectedObjects = function( x, add ) {\n        if( add ) {\n            logger.warn( 'Please use selectionModel.addToSelection() instead of selectionModel.addOrRemoveSelectedObjects()' );\n            self.addToSelection( x );\n        } else {\n            logger.warn( 'Please use selectionModel.removeFromSelection() instead of selectionModel.addOrRemoveSelectedObjects()' );\n            self.removeFromSelection( x );\n        }\n    };\n\n    // Still supported but renamed to make result clearer\n    self.updateSelectedObjects = function( x ) {\n        logger.warn( 'Please use selectionModel.setSelection() instead of selectionModel.updateSelectedObjects()' );\n        self.setSelection( x );\n    };\n\n    // Not supported, moved to data provider\n    self.selectAll = function() {\n        logger.error( 'Selection model no longer supports selectAll as it does not contain model object list. Use dataProvider.selectAll() instead' );\n    };\n    self.changeObjectsSelection = function() {\n        logger.error( 'Selection model no longer supports changeObjectsSelection as it does not contain model object list. Use dataProvider.changeObjectsSelection() instead' );\n    };\n    self.getSelectedObjects = function() {\n        logger.error( 'Selection model no longer supports getSelectedObjects as it does not contain model object list. Use dataProvider.getSelectedObjects() instead' );\n    };\n\n    // Not supported (intentionally)\n    self.updatePreSelectedObjects = function() {\n        logger.error( 'Selection model no longer supports pre selection' );\n    };\n    self.getPreSelectedObjects = function() {\n        logger.error( 'Selection model no longer supports pre selection' );\n    };\n};\n\n/**\n * Create a new selection model to manage selection within a data provider.\n *\n * @param {String} selectionMode - The selection mode to use initially. Defaults to 'single' if not provided.\n * @param {Function} tracker - The function used to track selection.\n *\n * @return {UwSelectionModel} The newly created DeclDataProvider object.\n *\n * @memberof module:js/selectionModelFactory\n */\nexport let buildSelectionModel = function( selectionMode, tracker ) {\n    return new UwSelectionModel( selectionMode, tracker );\n};\n\n/**\n * Utility to ensure input is a list of tracked objects.\n *\n * @param {String|String[]|Object|Object[]} newSelection - The input to convert to a list of tracked objects\n * @param {Object} tracker - (Optional) The 'tracker' for the collection.\n *\n * @return {String|String[]|Object|Object[]} Resulting selection.\n */\nexport let asTrackedList = function( newSelection, tracker ) {\n    // Ensure it is array of some sort\n    if( !_.isArray( newSelection ) ) {\n        newSelection = [ newSelection ];\n    }\n    // Ensure everything in array is tracked\n    return tracker ? newSelection.map( tracker ) : newSelection;\n};\n\n/**\n * Synchronously execute the 'setSelection' API on the given {UwSelectionModel} object.\n *\n * @param {UwSelectionModel} selectionModel - The {UwSelectionModel} object to set the selection on.\n * @param {String|String[]|Object|Object[]} newSelection - What to set as selection\n */\nexport let setSelection = function( selectionModel, newSelection ) {\n    selectionModel.setSelection( newSelection );\n};\n\nexports = {\n    buildSelectionModel,\n    asTrackedList,\n    setSelection\n};\nexport default exports;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}