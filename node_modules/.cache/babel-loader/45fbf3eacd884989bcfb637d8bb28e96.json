{"ast":null,"code":"// Copyright (c) 2020 Siemens\n\n/* eslint-env es6 */\n\n/* eslint-disable class-methods-use-this */\n\n/**\n * This service provides core angularJS $q/promise service abstraction.\n * https://github.com/angular/angular.js/blob/master/src/ng/q.js\n *\n * @module js/awPromiseService\n */\nimport _ from 'lodash';\n/**\n * static resolve function\n * @param {*} resolveFunc resolver\n * @param {*} val value\n * @returns {Promise} promise with resolved result\n */\n\nfunction resolveInternal(resolveFunc, val) {\n  return resolveFunc ? resolveFunc(val) : Promise.resolve(val);\n}\n/**\n * static reject function\n * @param {*} rejectFunc rejecter\n * @param {*} val value\n * @returns {Promise} promise with resolved result\n */\n\n\nfunction rejectInternal(rejectFunc, val) {\n  return rejectFunc ? rejectFunc(val) : Promise.reject(val);\n}\n/**\n * instance function for AwPromiseService\n * @param {fn} callback as function( resolve, reject )\n * @returns {Promise} promise object\n */\n\n\nfunction createPromise(callback) {\n  return new Promise((resolve, reject) => {\n    const resolveWrapper = value => {\n      return resolveInternal(resolve, value);\n    };\n\n    const rejectWrapper = value => {\n      return rejectInternal(reject, value);\n    };\n\n    callback ? callback(resolveWrapper, rejectWrapper) : resolve();\n  });\n} // Decorate instance\n\n\ncreatePromise.resolve = resolveInternal.bind(null, undefined);\ncreatePromise.reject = rejectInternal.bind(null, undefined);\n\ncreatePromise.defer = () => {\n  let deferred = {};\n  deferred.promise = new Promise((resolve, reject) => {\n    deferred.resolve = resolve;\n    deferred.reject = reject;\n  });\n  return deferred;\n};\n\ncreatePromise.all = promises => {\n  let isPromisesArray = Array.isArray(promises);\n  let result = isPromisesArray ? promises : []; //Angular use cases support- promises could be object\n\n  if (!isPromisesArray) {\n    _.forEach(promises, (promise, key) => {\n      result.push(promise.then(data => {\n        return {\n          [key]: data\n        };\n      }));\n    }); //resolve promise as a object, bydefault promise.all resolves promise as a array\n\n\n    return Promise.all(result).then(arrayData => {\n      let responseObj = {};\n\n      _.forEach(arrayData, obj => {\n        _.forEach(obj, (val, key) => {\n          responseObj[key] = val;\n        });\n      });\n\n      return responseObj;\n    });\n  }\n\n  return Promise.all(result);\n};\n\ncreatePromise.when = value => {\n  return Promise.resolve(value);\n};\n\ncreatePromise.race = promises => {\n  return Promise.race(promises);\n};\n\nconst getNativeInstance = () => createPromise;\n\nexport default {\n  getNativeInstance,\n\n  get instance() {\n    return createPromise;\n  }\n\n};","map":{"version":3,"names":["_","resolveInternal","resolveFunc","val","Promise","resolve","rejectInternal","rejectFunc","reject","createPromise","callback","resolveWrapper","value","rejectWrapper","bind","undefined","defer","deferred","promise","all","promises","isPromisesArray","Array","isArray","result","forEach","key","push","then","data","arrayData","responseObj","obj","when","race","getNativeInstance","instance"],"sources":["C:/Users/rahukl57/Desktop/SWF/CreatingOwnComponentUsingJsx/node_modules/@swf/core/src/services/src/js/awPromiseService.js"],"sourcesContent":["// Copyright (c) 2020 Siemens\n/* eslint-env es6 */\n/* eslint-disable class-methods-use-this */\n\n/**\n * This service provides core angularJS $q/promise service abstraction.\n * https://github.com/angular/angular.js/blob/master/src/ng/q.js\n *\n * @module js/awPromiseService\n */\nimport _ from 'lodash';\n\n/**\n * static resolve function\n * @param {*} resolveFunc resolver\n * @param {*} val value\n * @returns {Promise} promise with resolved result\n */\nfunction resolveInternal( resolveFunc, val ) {\n    return resolveFunc ? resolveFunc( val ) : Promise.resolve( val );\n}\n/**\n * static reject function\n * @param {*} rejectFunc rejecter\n * @param {*} val value\n * @returns {Promise} promise with resolved result\n */\nfunction rejectInternal( rejectFunc, val ) {\n    return rejectFunc ? rejectFunc( val ) : Promise.reject( val );\n}\n\n/**\n * instance function for AwPromiseService\n * @param {fn} callback as function( resolve, reject )\n * @returns {Promise} promise object\n */\nfunction createPromise( callback ) {\n    return new Promise( ( resolve, reject ) => {\n        const resolveWrapper = ( value ) => {\n            return resolveInternal( resolve, value );\n        };\n        const rejectWrapper = ( value ) => {\n            return rejectInternal( reject, value );\n        };\n        callback ? callback( resolveWrapper, rejectWrapper ) : resolve();\n    } );\n}\n\n// Decorate instance\ncreatePromise.resolve = resolveInternal.bind( null, undefined );\n\ncreatePromise.reject = rejectInternal.bind( null, undefined );\n\ncreatePromise.defer = () => {\n    let deferred = {};\n    deferred.promise = new Promise( ( resolve, reject ) => {\n        deferred.resolve = resolve;\n        deferred.reject = reject;\n    } );\n    return deferred;\n};\n\ncreatePromise.all = ( promises ) => {\n    let isPromisesArray = Array.isArray( promises );\n    let result = isPromisesArray ? promises : [];\n    //Angular use cases support- promises could be object\n    if( !isPromisesArray ) {\n        _.forEach( promises, ( promise, key ) => {\n            result.push( promise.then( ( data ) => {\n                return {\n                    [ key ]: data\n                };\n            } ) );\n        } );\n        //resolve promise as a object, bydefault promise.all resolves promise as a array\n        return Promise.all( result ).then( ( arrayData ) => {\n            let responseObj = {};\n            _.forEach( arrayData, ( obj ) => {\n                _.forEach( obj, ( val, key ) => {\n                    responseObj[ key ] = val;\n                } );\n            } );\n            return responseObj;\n        } );\n    }\n    return Promise.all( result );\n};\n\ncreatePromise.when = ( value ) => {\n    return Promise.resolve( value );\n};\n\ncreatePromise.race = ( promises ) => {\n    return Promise.race( promises );\n};\n\nconst getNativeInstance = () => createPromise;\n\nexport default {\n    getNativeInstance,\n    get instance() {\n        return createPromise;\n    }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}