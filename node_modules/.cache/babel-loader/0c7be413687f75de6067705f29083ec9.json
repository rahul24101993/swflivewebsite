{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rahukl57\\\\Desktop\\\\SWF\\\\CreatingOwnComponentUsingJsx\\\\node_modules\\\\@swf\\\\core\\\\src\\\\components\\\\src\\\\js\\\\AwHeaderPropertiesService.js\";\nimport AwHeaderProps from 'viewmodel/AwHeaderPropsViewModel';\nimport AwInclude from 'viewmodel/AwIncludeViewModel';\nimport conditionSvc from 'js/conditionService';\nimport { DerivedStateResult } from 'js/derivedContextService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst getHeaderState = header => {\n  if (header.visibleWhen) {\n    const conditionSplits = header.visibleWhen.split(' ');\n    let abc = [];\n    conditionSplits.forEach(split => {\n      if (/^!?ctx\\.?/.test(split)) {\n        abc.push(split.replace(/^!?ctx\\.?/, ''));\n      }\n    });\n    return abc;\n  }\n\n  return [];\n};\n\nexport const getApplicableViews = (vmDef, props) => {\n  const {\n    contributedHeaders,\n    context\n  } = props.props;\n  return contributedHeaders.map(contributedHeader => {\n    const ctxParameters = getHeaderState(contributedHeader);\n\n    const compute = _ref => {\n      let {\n        ctx\n      } = _ref;\n      var isActive = conditionSvc.evaluateCondition({\n        ctx: ctx,\n        subPanelContext: context //The selection info was being sent in ng-afx, not sure why it is needed\n        //Keeping it here for reference if a usecase is found\n        //selection: selection,\n\n      }, contributedHeader.visibleWhen);\n\n      if (isActive) {\n        return contributedHeader.view;\n      }\n\n      return null;\n    };\n\n    return new DerivedStateResult({\n      ctxParameters,\n      additionalParameters: [context],\n      compute\n    });\n  });\n};\nexport const awHeaderPropertiesRenderFn = props => {\n  const {\n    ctxMin,\n    ...prop\n  } = props;\n  const {\n    headerProps,\n    context\n  } = prop.props;\n  const {\n    contributedHeaders\n  } = ctxMin;\n  let headerContributedView = contributedHeaders && contributedHeaders.find(header => header !== null);\n  let headerPropsRenderers = [];\n\n  if (headerContributedView) {\n    headerPropsRenderers.push( /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"aw-layout-flexRowContainer aw-layout-headerContribution\",\n      children: /*#__PURE__*/_jsxDEV(AwInclude, {\n        name: headerContributedView,\n        subPanelContext: context\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this)\n    }, 'headerPropertiesRender0', false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 36\n    }, this));\n  }\n\n  if (headerProps && headerProps.length) {\n    headerPropsRenderers.push( /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"aw-layout-flexRowContainer aw-layout-headerContribution\",\n      children: /*#__PURE__*/_jsxDEV(AwHeaderProps, {\n        headerProperties: headerProps\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this)\n    }, 'headerPropertiesRender1', false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 36\n    }, this));\n  }\n\n  return headerPropsRenderers;\n};","map":{"version":3,"names":["AwHeaderProps","AwInclude","conditionSvc","DerivedStateResult","getHeaderState","header","visibleWhen","conditionSplits","split","abc","forEach","test","push","replace","getApplicableViews","vmDef","props","contributedHeaders","context","map","contributedHeader","ctxParameters","compute","ctx","isActive","evaluateCondition","subPanelContext","view","additionalParameters","awHeaderPropertiesRenderFn","ctxMin","prop","headerProps","headerContributedView","find","headerPropsRenderers","length"],"sources":["C:/Users/rahukl57/Desktop/SWF/CreatingOwnComponentUsingJsx/node_modules/@swf/core/src/components/src/js/AwHeaderPropertiesService.js"],"sourcesContent":["import AwHeaderProps from 'viewmodel/AwHeaderPropsViewModel';\nimport AwInclude from 'viewmodel/AwIncludeViewModel';\nimport conditionSvc from 'js/conditionService';\nimport { DerivedStateResult } from 'js/derivedContextService';\n\nconst getHeaderState = ( header ) => {\n    if( header.visibleWhen ) {\n        const conditionSplits = header.visibleWhen.split( ' ' );\n        let abc = [];\n        conditionSplits.forEach( split => {\n            if( /^!?ctx\\.?/.test( split ) ) {\n                abc.push( split.replace( /^!?ctx\\.?/, '' ) );\n            }\n        } );\n        return abc;\n    }\n    return [];\n};\n\nexport const getApplicableViews = ( vmDef, props ) => {\n    const { contributedHeaders, context } = props.props;\n    return contributedHeaders.map( contributedHeader => {\n        const ctxParameters = getHeaderState( contributedHeader );\n        const compute = ( { ctx } ) => {\n            var isActive = conditionSvc.evaluateCondition( {\n                ctx: ctx,\n                subPanelContext: context\n                //The selection info was being sent in ng-afx, not sure why it is needed\n                //Keeping it here for reference if a usecase is found\n                //selection: selection,\n            }, contributedHeader.visibleWhen );\n\n            if( isActive ) {\n                return contributedHeader.view;\n            }\n            return null;\n        };\n        return new DerivedStateResult( {\n            ctxParameters,\n            additionalParameters: [ context ],\n            compute\n        } );\n    } );\n};\n\nexport const awHeaderPropertiesRenderFn = ( props ) => {\n    const {\n        ctxMin,\n        ...prop\n    } = props;\n    const { headerProps, context } = prop.props;\n    const { contributedHeaders } = ctxMin;\n    let headerContributedView = contributedHeaders && contributedHeaders.find( header => header !== null );\n\n    let headerPropsRenderers = [];\n    if( headerContributedView ) {\n        headerPropsRenderers.push( <div key={'headerPropertiesRender0'} className='aw-layout-flexRowContainer aw-layout-headerContribution' >\n            <AwInclude name={headerContributedView} subPanelContext={context}></AwInclude>\n        </div> );\n    }\n    if( headerProps && headerProps.length ) {\n        headerPropsRenderers.push( <div key={'headerPropertiesRender1'}  className='aw-layout-flexRowContainer aw-layout-headerContribution'>\n            <AwHeaderProps headerProperties={headerProps}></AwHeaderProps>\n        </div> );\n    }\n    return headerPropsRenderers;\n};\n"],"mappings":";AAAA,OAAOA,aAAP,MAA0B,kCAA1B;AACA,OAAOC,SAAP,MAAsB,8BAAtB;AACA,OAAOC,YAAP,MAAyB,qBAAzB;AACA,SAASC,kBAAT,QAAmC,0BAAnC;;;AAEA,MAAMC,cAAc,GAAKC,MAAF,IAAc;EACjC,IAAIA,MAAM,CAACC,WAAX,EAAyB;IACrB,MAAMC,eAAe,GAAGF,MAAM,CAACC,WAAP,CAAmBE,KAAnB,CAA0B,GAA1B,CAAxB;IACA,IAAIC,GAAG,GAAG,EAAV;IACAF,eAAe,CAACG,OAAhB,CAAyBF,KAAK,IAAI;MAC9B,IAAI,YAAYG,IAAZ,CAAkBH,KAAlB,CAAJ,EAAgC;QAC5BC,GAAG,CAACG,IAAJ,CAAUJ,KAAK,CAACK,OAAN,CAAe,WAAf,EAA4B,EAA5B,CAAV;MACH;IACJ,CAJD;IAKA,OAAOJ,GAAP;EACH;;EACD,OAAO,EAAP;AACH,CAZD;;AAcA,OAAO,MAAMK,kBAAkB,GAAG,CAAEC,KAAF,EAASC,KAAT,KAAoB;EAClD,MAAM;IAAEC,kBAAF;IAAsBC;EAAtB,IAAkCF,KAAK,CAACA,KAA9C;EACA,OAAOC,kBAAkB,CAACE,GAAnB,CAAwBC,iBAAiB,IAAI;IAChD,MAAMC,aAAa,GAAGjB,cAAc,CAAEgB,iBAAF,CAApC;;IACA,MAAME,OAAO,GAAG,QAAe;MAAA,IAAb;QAAEC;MAAF,CAAa;MAC3B,IAAIC,QAAQ,GAAGtB,YAAY,CAACuB,iBAAb,CAAgC;QAC3CF,GAAG,EAAEA,GADsC;QAE3CG,eAAe,EAAER,OAF0B,CAG3C;QACA;QACA;;MAL2C,CAAhC,EAMZE,iBAAiB,CAACd,WANN,CAAf;;MAQA,IAAIkB,QAAJ,EAAe;QACX,OAAOJ,iBAAiB,CAACO,IAAzB;MACH;;MACD,OAAO,IAAP;IACH,CAbD;;IAcA,OAAO,IAAIxB,kBAAJ,CAAwB;MAC3BkB,aAD2B;MAE3BO,oBAAoB,EAAE,CAAEV,OAAF,CAFK;MAG3BI;IAH2B,CAAxB,CAAP;EAKH,CArBM,CAAP;AAsBH,CAxBM;AA0BP,OAAO,MAAMO,0BAA0B,GAAKb,KAAF,IAAa;EACnD,MAAM;IACFc,MADE;IAEF,GAAGC;EAFD,IAGFf,KAHJ;EAIA,MAAM;IAAEgB,WAAF;IAAed;EAAf,IAA2Ba,IAAI,CAACf,KAAtC;EACA,MAAM;IAAEC;EAAF,IAAyBa,MAA/B;EACA,IAAIG,qBAAqB,GAAGhB,kBAAkB,IAAIA,kBAAkB,CAACiB,IAAnB,CAAyB7B,MAAM,IAAIA,MAAM,KAAK,IAA9C,CAAlD;EAEA,IAAI8B,oBAAoB,GAAG,EAA3B;;EACA,IAAIF,qBAAJ,EAA4B;IACxBE,oBAAoB,CAACvB,IAArB,eAA2B;MAAqC,SAAS,EAAC,yDAA/C;MAAA,uBACvB,QAAC,SAAD;QAAW,IAAI,EAAEqB,qBAAjB;QAAwC,eAAe,EAAEf;MAAzD;QAAA;QAAA;QAAA;MAAA;IADuB,GAAU,yBAAV;MAAA;MAAA;MAAA;IAAA,QAA3B;EAGH;;EACD,IAAIc,WAAW,IAAIA,WAAW,CAACI,MAA/B,EAAwC;IACpCD,oBAAoB,CAACvB,IAArB,eAA2B;MAAsC,SAAS,EAAC,yDAAhD;MAAA,uBACvB,QAAC,aAAD;QAAe,gBAAgB,EAAEoB;MAAjC;QAAA;QAAA;QAAA;MAAA;IADuB,GAAU,yBAAV;MAAA;MAAA;MAAA;IAAA,QAA3B;EAGH;;EACD,OAAOG,oBAAP;AACH,CArBM"},"metadata":{},"sourceType":"module"}