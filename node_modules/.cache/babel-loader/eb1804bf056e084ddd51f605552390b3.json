{"ast":null,"code":"// Copyright (c) 2022 Siemens\n\n/**\n * This module provides the native implementation of the awHttpService.\n *\n * @module js/awHttpService\n */\nimport axios from 'axios';\nimport AwCacheFactoryService from 'js/awCacheFactoryService';\nconst cache = AwCacheFactoryService.instance('http');\nconst pendingHttpCalls = {};\n/**\n * create HTTP request\n * @param {Object} config http config object\n * @returns {Promise} http promise\n */\n\nfunction createHttpRequest(config) {\n  return axios(config);\n}\n\ncreateHttpRequest.patch = (url, data, config) => {\n  return new Promise((resolve, reject) => {\n    axios.patch(url, data, config).then(data => resolve(data), error => reject(error));\n  });\n};\n\ncreateHttpRequest.put = (url, data, config) => {\n  return new Promise((resolve, reject) => {\n    axios.put(url, data, config).then(data => resolve(data), error => reject(error));\n  });\n};\n\ncreateHttpRequest.post = (url, data, config) => {\n  // window.webdriverIsEnabled is set when we launch the browser from Selenium\n  // this is a temporary hack to get past some file upload issues. Browser\n  // is cancelling the network requests for some unknown reason\n  if (window.webdriverIsEnabled === true) {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        axios.post(url, data, config).then(data => resolve(data), error => reject(error));\n      }, 0);\n    });\n  }\n\n  return new Promise((resolve, reject) => {\n    axios.post(url, data, config).then(data => resolve(data), error => reject(error));\n  });\n};\n\ncreateHttpRequest.head = (url, config) => {\n  return new Promise((resolve, reject) => {\n    axios.head(url, config).then(data => resolve(data), error => reject(error));\n  });\n};\n\ncreateHttpRequest.delete = (url, config) => {\n  return new Promise((resolve, reject) => {\n    axios.delete(url, config).then(data => resolve(data), error => reject(error));\n  });\n};\n\ncreateHttpRequest.get = (url, config) => {\n  if (config && config.cache) {\n    const cachedData = cache.get(url);\n\n    if (cachedData) {\n      return cachedData;\n    }\n\n    const getCallPromise = new Promise((resolve, reject) => {\n      axios.get(url, config).then(data => resolve(data), error => reject(error));\n    });\n    cache.put(url, getCallPromise);\n    return getCallPromise;\n  }\n\n  return new Promise((resolve, reject) => {\n    axios.get(url, config).then(data => resolve(data), error => reject(error));\n  });\n}; // Add a request interceptor\n\n\naxios.interceptors.request.use(function (config) {\n  pendingHttpCalls[config.url] = config;\n  updatePendingRequests();\n  return config;\n}, function (error) {\n  return Promise.reject(error);\n}); // Add a response interceptor\n\naxios.interceptors.response.use(function (response) {\n  delete pendingHttpCalls[response.config.url];\n  updatePendingRequests();\n  return response;\n}, function (error) {\n  delete pendingHttpCalls[error.config.url];\n  updatePendingRequests();\n  return Promise.reject(error);\n});\n/**\n */\n\nfunction updatePendingRequests() {\n  createHttpRequest.pendingRequests = Object.values(pendingHttpCalls);\n}\n\nupdatePendingRequests();\nconst exports = {\n  instance: createHttpRequest\n};\nexport default exports;","map":{"version":3,"names":["axios","AwCacheFactoryService","cache","instance","pendingHttpCalls","createHttpRequest","config","patch","url","data","Promise","resolve","reject","then","error","put","post","window","webdriverIsEnabled","setTimeout","head","delete","get","cachedData","getCallPromise","interceptors","request","use","updatePendingRequests","response","pendingRequests","Object","values","exports"],"sources":["C:/Users/rahukl57/Desktop/SWF/CreatingOwnComponentUsingJsx/node_modules/@swf/core/src/services/src/js/awHttpService.js"],"sourcesContent":["// Copyright (c) 2022 Siemens\n\n/**\n * This module provides the native implementation of the awHttpService.\n *\n * @module js/awHttpService\n */\n\nimport axios from 'axios';\nimport AwCacheFactoryService from 'js/awCacheFactoryService';\n\nconst cache = AwCacheFactoryService.instance( 'http' );\nconst pendingHttpCalls = {};\n\n/**\n * create HTTP request\n * @param {Object} config http config object\n * @returns {Promise} http promise\n */\nfunction createHttpRequest( config ) {\n    return axios( config );\n}\n\ncreateHttpRequest.patch = ( url, data, config ) => {\n    return new Promise( ( resolve, reject ) => {\n        axios.patch( url, data, config ).then( ( data ) => resolve( data ), ( error ) => reject( error ) );\n    } );\n};\n\ncreateHttpRequest.put = ( url, data, config ) => {\n    return new Promise( ( resolve, reject ) => {\n        axios.put( url, data, config ).then( ( data ) => resolve( data ), ( error ) => reject( error ) );\n    } );\n};\n\ncreateHttpRequest.post = ( url, data, config ) => {\n    // window.webdriverIsEnabled is set when we launch the browser from Selenium\n    // this is a temporary hack to get past some file upload issues. Browser\n    // is cancelling the network requests for some unknown reason\n    if( window.webdriverIsEnabled === true ) {\n        return new Promise( ( resolve, reject ) => {\n            setTimeout( () => {\n                axios.post( url, data, config ).then( ( data ) => resolve( data ), ( error ) => reject( error ) );\n            }, 0 );\n        } );\n    }\n\n    return new Promise( ( resolve, reject ) => {\n        axios.post( url, data, config ).then( ( data ) => resolve( data ), ( error ) => reject( error ) );\n    } );\n};\n\ncreateHttpRequest.head = ( url, config ) => {\n    return new Promise( ( resolve, reject ) => {\n        axios.head( url, config ).then( ( data ) => resolve( data ), ( error ) => reject( error ) );\n    } );\n};\ncreateHttpRequest.delete = ( url, config ) => {\n    return new Promise( ( resolve, reject ) => {\n        axios.delete( url, config ).then( ( data ) => resolve( data ), ( error ) => reject( error ) );\n    } );\n};\n\ncreateHttpRequest.get = ( url, config ) => {\n    if( config && config.cache ) {\n        const cachedData = cache.get( url );\n        if( cachedData ) {\n            return cachedData;\n        }\n        const getCallPromise = new Promise( ( resolve, reject ) => {\n            axios.get( url, config ).then( ( data ) => resolve( data ), ( error ) => reject( error ) );\n        } );\n        cache.put( url, getCallPromise );\n        return getCallPromise;\n    }\n\n    return new Promise( ( resolve, reject ) => {\n        axios.get( url, config ).then( ( data ) => resolve( data ), ( error ) => reject( error ) );\n    } );\n};\n\n// Add a request interceptor\naxios.interceptors.request.use( function( config ) {\n    pendingHttpCalls[ config.url ] = config;\n    updatePendingRequests();\n    return config;\n}, function( error ) {\n    return Promise.reject( error );\n} );\n\n// Add a response interceptor\naxios.interceptors.response.use( function( response ) {\n    delete pendingHttpCalls[ response.config.url ];\n    updatePendingRequests();\n    return response;\n}, function( error ) {\n    delete pendingHttpCalls[ error.config.url ];\n    updatePendingRequests();\n    return Promise.reject( error );\n} );\n\n/**\n */\nfunction updatePendingRequests() {\n    createHttpRequest.pendingRequests = Object.values( pendingHttpCalls );\n}\n\nupdatePendingRequests();\n\nconst exports = {\n    instance: createHttpRequest\n};\n\nexport default exports;\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;AACA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,qBAAP,MAAkC,0BAAlC;AAEA,MAAMC,KAAK,GAAGD,qBAAqB,CAACE,QAAtB,CAAgC,MAAhC,CAAd;AACA,MAAMC,gBAAgB,GAAG,EAAzB;AAEA;AACA;AACA;AACA;AACA;;AACA,SAASC,iBAAT,CAA4BC,MAA5B,EAAqC;EACjC,OAAON,KAAK,CAAEM,MAAF,CAAZ;AACH;;AAEDD,iBAAiB,CAACE,KAAlB,GAA0B,CAAEC,GAAF,EAAOC,IAAP,EAAaH,MAAb,KAAyB;EAC/C,OAAO,IAAII,OAAJ,CAAa,CAAEC,OAAF,EAAWC,MAAX,KAAuB;IACvCZ,KAAK,CAACO,KAAN,CAAaC,GAAb,EAAkBC,IAAlB,EAAwBH,MAAxB,EAAiCO,IAAjC,CAAyCJ,IAAF,IAAYE,OAAO,CAAEF,IAAF,CAA1D,EAAsEK,KAAF,IAAaF,MAAM,CAAEE,KAAF,CAAvF;EACH,CAFM,CAAP;AAGH,CAJD;;AAMAT,iBAAiB,CAACU,GAAlB,GAAwB,CAAEP,GAAF,EAAOC,IAAP,EAAaH,MAAb,KAAyB;EAC7C,OAAO,IAAII,OAAJ,CAAa,CAAEC,OAAF,EAAWC,MAAX,KAAuB;IACvCZ,KAAK,CAACe,GAAN,CAAWP,GAAX,EAAgBC,IAAhB,EAAsBH,MAAtB,EAA+BO,IAA/B,CAAuCJ,IAAF,IAAYE,OAAO,CAAEF,IAAF,CAAxD,EAAoEK,KAAF,IAAaF,MAAM,CAAEE,KAAF,CAArF;EACH,CAFM,CAAP;AAGH,CAJD;;AAMAT,iBAAiB,CAACW,IAAlB,GAAyB,CAAER,GAAF,EAAOC,IAAP,EAAaH,MAAb,KAAyB;EAC9C;EACA;EACA;EACA,IAAIW,MAAM,CAACC,kBAAP,KAA8B,IAAlC,EAAyC;IACrC,OAAO,IAAIR,OAAJ,CAAa,CAAEC,OAAF,EAAWC,MAAX,KAAuB;MACvCO,UAAU,CAAE,MAAM;QACdnB,KAAK,CAACgB,IAAN,CAAYR,GAAZ,EAAiBC,IAAjB,EAAuBH,MAAvB,EAAgCO,IAAhC,CAAwCJ,IAAF,IAAYE,OAAO,CAAEF,IAAF,CAAzD,EAAqEK,KAAF,IAAaF,MAAM,CAAEE,KAAF,CAAtF;MACH,CAFS,EAEP,CAFO,CAAV;IAGH,CAJM,CAAP;EAKH;;EAED,OAAO,IAAIJ,OAAJ,CAAa,CAAEC,OAAF,EAAWC,MAAX,KAAuB;IACvCZ,KAAK,CAACgB,IAAN,CAAYR,GAAZ,EAAiBC,IAAjB,EAAuBH,MAAvB,EAAgCO,IAAhC,CAAwCJ,IAAF,IAAYE,OAAO,CAAEF,IAAF,CAAzD,EAAqEK,KAAF,IAAaF,MAAM,CAAEE,KAAF,CAAtF;EACH,CAFM,CAAP;AAGH,CAfD;;AAiBAT,iBAAiB,CAACe,IAAlB,GAAyB,CAAEZ,GAAF,EAAOF,MAAP,KAAmB;EACxC,OAAO,IAAII,OAAJ,CAAa,CAAEC,OAAF,EAAWC,MAAX,KAAuB;IACvCZ,KAAK,CAACoB,IAAN,CAAYZ,GAAZ,EAAiBF,MAAjB,EAA0BO,IAA1B,CAAkCJ,IAAF,IAAYE,OAAO,CAAEF,IAAF,CAAnD,EAA+DK,KAAF,IAAaF,MAAM,CAAEE,KAAF,CAAhF;EACH,CAFM,CAAP;AAGH,CAJD;;AAKAT,iBAAiB,CAACgB,MAAlB,GAA2B,CAAEb,GAAF,EAAOF,MAAP,KAAmB;EAC1C,OAAO,IAAII,OAAJ,CAAa,CAAEC,OAAF,EAAWC,MAAX,KAAuB;IACvCZ,KAAK,CAACqB,MAAN,CAAcb,GAAd,EAAmBF,MAAnB,EAA4BO,IAA5B,CAAoCJ,IAAF,IAAYE,OAAO,CAAEF,IAAF,CAArD,EAAiEK,KAAF,IAAaF,MAAM,CAAEE,KAAF,CAAlF;EACH,CAFM,CAAP;AAGH,CAJD;;AAMAT,iBAAiB,CAACiB,GAAlB,GAAwB,CAAEd,GAAF,EAAOF,MAAP,KAAmB;EACvC,IAAIA,MAAM,IAAIA,MAAM,CAACJ,KAArB,EAA6B;IACzB,MAAMqB,UAAU,GAAGrB,KAAK,CAACoB,GAAN,CAAWd,GAAX,CAAnB;;IACA,IAAIe,UAAJ,EAAiB;MACb,OAAOA,UAAP;IACH;;IACD,MAAMC,cAAc,GAAG,IAAId,OAAJ,CAAa,CAAEC,OAAF,EAAWC,MAAX,KAAuB;MACvDZ,KAAK,CAACsB,GAAN,CAAWd,GAAX,EAAgBF,MAAhB,EAAyBO,IAAzB,CAAiCJ,IAAF,IAAYE,OAAO,CAAEF,IAAF,CAAlD,EAA8DK,KAAF,IAAaF,MAAM,CAAEE,KAAF,CAA/E;IACH,CAFsB,CAAvB;IAGAZ,KAAK,CAACa,GAAN,CAAWP,GAAX,EAAgBgB,cAAhB;IACA,OAAOA,cAAP;EACH;;EAED,OAAO,IAAId,OAAJ,CAAa,CAAEC,OAAF,EAAWC,MAAX,KAAuB;IACvCZ,KAAK,CAACsB,GAAN,CAAWd,GAAX,EAAgBF,MAAhB,EAAyBO,IAAzB,CAAiCJ,IAAF,IAAYE,OAAO,CAAEF,IAAF,CAAlD,EAA8DK,KAAF,IAAaF,MAAM,CAAEE,KAAF,CAA/E;EACH,CAFM,CAAP;AAGH,CAhBD,C,CAkBA;;;AACAd,KAAK,CAACyB,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAAgC,UAAUrB,MAAV,EAAmB;EAC/CF,gBAAgB,CAAEE,MAAM,CAACE,GAAT,CAAhB,GAAiCF,MAAjC;EACAsB,qBAAqB;EACrB,OAAOtB,MAAP;AACH,CAJD,EAIG,UAAUQ,KAAV,EAAkB;EACjB,OAAOJ,OAAO,CAACE,MAAR,CAAgBE,KAAhB,CAAP;AACH,CAND,E,CAQA;;AACAd,KAAK,CAACyB,YAAN,CAAmBI,QAAnB,CAA4BF,GAA5B,CAAiC,UAAUE,QAAV,EAAqB;EAClD,OAAOzB,gBAAgB,CAAEyB,QAAQ,CAACvB,MAAT,CAAgBE,GAAlB,CAAvB;EACAoB,qBAAqB;EACrB,OAAOC,QAAP;AACH,CAJD,EAIG,UAAUf,KAAV,EAAkB;EACjB,OAAOV,gBAAgB,CAAEU,KAAK,CAACR,MAAN,CAAaE,GAAf,CAAvB;EACAoB,qBAAqB;EACrB,OAAOlB,OAAO,CAACE,MAAR,CAAgBE,KAAhB,CAAP;AACH,CARD;AAUA;AACA;;AACA,SAASc,qBAAT,GAAiC;EAC7BvB,iBAAiB,CAACyB,eAAlB,GAAoCC,MAAM,CAACC,MAAP,CAAe5B,gBAAf,CAApC;AACH;;AAEDwB,qBAAqB;AAErB,MAAMK,OAAO,GAAG;EACZ9B,QAAQ,EAAEE;AADE,CAAhB;AAIA,eAAe4B,OAAf"},"metadata":{},"sourceType":"module"}