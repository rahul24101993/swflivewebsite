{"ast":null,"code":"// Copyright (c) 2020 Siemens\n/**\n * Defines {@link breadCrumbService} which provides the data for navigation bread crumb from url.\n *\n * @module js/breadCrumbService\n */import searchFilterSvc from'js/aw.searchFilter.service';import appCtxSvc from'js/appCtxService';import eventBus from'js/eventBus';import _ from'lodash';/**\n * Reset the breadcrumb provider to loading\n *\n * @param {Object} breadCrumbConfig - bread crumb config info\n * @return {Object} breadcrumb provider\n */export let resetBreadcrumbProvider=function(breadCrumbConfig){var breadCrumbProvider;if(breadCrumbConfig&&breadCrumbConfig.type==='navigate'&&!breadCrumbProvider){breadCrumbProvider={crumbs:[]};}return breadCrumbProvider;};/**\n * Refresh the breadcrumb provider\n *\n * @param {Object} breadCrumbConfig - bread crumb config info\n * @param {Object} pwaSelectionModel - selection model of primary workarea\n * @param {Object} searchFilterCategories - search filter categories\n * @param {Object} searchFilterMap - search filter map\n * @param {Object} searchCriteria - search criteria\n * @param {Object} label - breadcrumb label when there is no search criteria\n * @param {Object} secondarySearchEnabled - true if secondary search is enabled\n *\n * @return {Object} breadcrumb provider and total found information\n */export let refreshBreadcrumbProvider=function(breadCrumbConfig,pwaSelectionModel,searchFilterCategories,searchFilterMap,searchCriteria,label,secondarySearchEnabled){var breadCrumbProvider;if(breadCrumbConfig&&breadCrumbConfig.type==='navigate'){eventBus.publish('navigateBreadcrumb.refresh',breadCrumbConfig.id);eventBus.publish(breadCrumbConfig.vm+'.refresh',breadCrumbConfig.id);}else{breadCrumbProvider=searchFilterSvc.buildBreadcrumbProvider(breadCrumbConfig,!_.isEmpty(searchCriteria)?searchCriteria:label,appCtxSvc.getCtx('search.totalFound'),pwaSelectionModel,searchFilterCategories,searchFilterMap,secondarySearchEnabled,searchCriteria);}return breadCrumbProvider;};const breadCrumbService={resetBreadcrumbProvider,refreshBreadcrumbProvider};export default breadCrumbService;","map":null,"metadata":{},"sourceType":"module"}