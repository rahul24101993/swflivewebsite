{"ast":null,"code":"// Copyright (c) 2020 Siemens\n\n/**\n * This module is part of declarative UI framework and provides view model processing functionalities.\n *\n * @module js/parsingUtils\n */\nimport _ from 'lodash';\nimport logger from 'js/logger';\n/**\n * Define the base object used to provide all of this module's external API on.\n *\n * @private\n */\n\nvar exports = {};\n/**\n * {Regex} Regular expression that allows extraction of the text between starting '{{' and ending '}}' using String\n * class 'match' function.\n * <P>\n * Note: The regex will only extract 4 segments w/the following for [1] & [3]<BR>\n * results[1] === '{{' && results[3] === '}}' *\n */\n\nexport let REGEX_DATABINDING = /^({{)([a-zA-Z0-9$._\\s:\\[\\]\\']+)(}})$/;\n/**\n * @param {String} expression -\n * @return {String} The string between mustaches or 'undefined'\n */\n\nexport let getStringInDoubleMustachMarkup = function (expression) {\n  if (expression.match) {\n    var results = expression.match(exports.REGEX_DATABINDING);\n\n    if (results && results.length === 4) {\n      return results[2];\n    }\n  }\n\n  return undefined;\n};\n/**\n * @param {String} expression -\n * @return {String} insertionString - the string between mustaches\n */\n\nexport let getStringBetweenDoubleMustaches = function (expression) {\n  var insertionString = expression;\n\n  if (_.isString(insertionString)) {\n    if (_.startsWith(insertionString, '{{')) {\n      insertionString = _.trimStart(insertionString, '{{');\n      insertionString = _.trimEnd(insertionString, '}}');\n    }\n\n    return insertionString;\n  }\n\n  return undefined;\n};\n/**\n * Get the required value from the JSON.\n *\n * @param {Object} input - Input object.\n * @param {Object} path - path from which to search the input.\n * @return {Object} - searched output.\n */\n\nexport let parentGet = function (input, path) {\n  var retVal = _.get(input, path);\n\n  if (retVal !== undefined) {\n    return retVal;\n  } // drill down by data - i18n case\n\n\n  if (input && input.data) {\n    return exports.parentGet(input.data, path);\n  }\n\n  return undefined;\n};\n/**\n * Try to parse the JSON string, return the JavaScript Object after parsing, false if cannot parse.\n *\n * @param {String} jsonString - JSON string to parse into Object\n */\n\nexport let parseJsonString = function (jsonString) {\n  try {\n    var jsonObject = JSON.parse(jsonString);\n\n    if (jsonObject && typeof jsonObject === 'object') {\n      return jsonObject;\n    }\n  } catch (exception) {\n    logger.error('Error parsing the JSON string: ' + exception);\n  }\n\n  return false;\n};\n/**\n * @param {String} expression -\n * @return {String} key of i18n ex- incase of i18n.Close,it will return \"Close\".\n */\n\nexport let geti18nKey = function (expression) {\n  var regex = /{{i18n.([_a-zA-Z0-9]+)}}/i;\n\n  if (arguments.length === 1 && _.isString(expression)) {\n    return expression.match(regex)[1];\n  }\n\n  return true;\n};\nexports = {\n  REGEX_DATABINDING,\n  getStringInDoubleMustachMarkup,\n  getStringBetweenDoubleMustaches,\n  parentGet,\n  parseJsonString,\n  geti18nKey\n};\nexport default exports;","map":{"version":3,"names":["_","logger","exports","REGEX_DATABINDING","getStringInDoubleMustachMarkup","expression","match","results","length","undefined","getStringBetweenDoubleMustaches","insertionString","isString","startsWith","trimStart","trimEnd","parentGet","input","path","retVal","get","data","parseJsonString","jsonString","jsonObject","JSON","parse","exception","error","geti18nKey","regex","arguments"],"sources":["C:/Users/rahukl57/Desktop/SWF/CreatingOwnComponentUsingJsx/node_modules/@swf/core/src/declarativeui/src/js/parsingUtils.js"],"sourcesContent":["// Copyright (c) 2020 Siemens\n\n/**\n * This module is part of declarative UI framework and provides view model processing functionalities.\n *\n * @module js/parsingUtils\n */\n\nimport _ from 'lodash';\nimport logger from 'js/logger';\n\n/**\n * Define the base object used to provide all of this module's external API on.\n *\n * @private\n */\nvar exports = {};\n\n/**\n * {Regex} Regular expression that allows extraction of the text between starting '{{' and ending '}}' using String\n * class 'match' function.\n * <P>\n * Note: The regex will only extract 4 segments w/the following for [1] & [3]<BR>\n * results[1] === '{{' && results[3] === '}}' *\n */\nexport let REGEX_DATABINDING = /^({{)([a-zA-Z0-9$._\\s:\\[\\]\\']+)(}})$/;\n\n/**\n * @param {String} expression -\n * @return {String} The string between mustaches or 'undefined'\n */\nexport let getStringInDoubleMustachMarkup = function( expression ) {\n    if( expression.match ) {\n        var results = expression.match( exports.REGEX_DATABINDING );\n        if( results && results.length === 4 ) {\n            return results[ 2 ];\n        }\n    }\n    return undefined;\n};\n\n/**\n * @param {String} expression -\n * @return {String} insertionString - the string between mustaches\n */\nexport let getStringBetweenDoubleMustaches = function( expression ) {\n    var insertionString = expression;\n    if( _.isString( insertionString ) ) {\n        if( _.startsWith( insertionString, '{{' ) ) {\n            insertionString = _.trimStart( insertionString, '{{' );\n            insertionString = _.trimEnd( insertionString, '}}' );\n        }\n        return insertionString;\n    }\n    return undefined;\n};\n\n/**\n * Get the required value from the JSON.\n *\n * @param {Object} input - Input object.\n * @param {Object} path - path from which to search the input.\n * @return {Object} - searched output.\n */\nexport let parentGet = function( input, path ) {\n    var retVal = _.get( input, path );\n\n    if( retVal !== undefined ) {\n        return retVal;\n    }\n\n    // drill down by data - i18n case\n    if( input && input.data ) {\n        return exports.parentGet( input.data, path );\n    }\n    return undefined;\n};\n\n/**\n * Try to parse the JSON string, return the JavaScript Object after parsing, false if cannot parse.\n *\n * @param {String} jsonString - JSON string to parse into Object\n */\nexport let parseJsonString = function( jsonString ) {\n    try {\n        var jsonObject = JSON.parse( jsonString );\n\n        if( jsonObject && typeof jsonObject === 'object' ) {\n            return jsonObject;\n        }\n    } catch ( exception ) {\n        logger.error( 'Error parsing the JSON string: ' + exception );\n    }\n\n    return false;\n};\n\n/**\n * @param {String} expression -\n * @return {String} key of i18n ex- incase of i18n.Close,it will return \"Close\".\n */\nexport let geti18nKey = function( expression ) {\n    var regex = /{{i18n.([_a-zA-Z0-9]+)}}/i;\n    if( arguments.length === 1 && _.isString( expression ) ) {\n        return expression.match( regex )[ 1 ];\n    }\n    return true;\n};\n\nexports = {\n    REGEX_DATABINDING,\n    getStringInDoubleMustachMarkup,\n    getStringBetweenDoubleMustaches,\n    parentGet,\n    parseJsonString,\n    geti18nKey\n};\nexport default exports;\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;AACA;AAEA,OAAOA,CAAP,MAAc,QAAd;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEA;AACA;AACA;AACA;AACA;;AACA,IAAIC,OAAO,GAAG,EAAd;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIC,iBAAiB,GAAG,sCAAxB;AAEP;AACA;AACA;AACA;;AACA,OAAO,IAAIC,8BAA8B,GAAG,UAAUC,UAAV,EAAuB;EAC/D,IAAIA,UAAU,CAACC,KAAf,EAAuB;IACnB,IAAIC,OAAO,GAAGF,UAAU,CAACC,KAAX,CAAkBJ,OAAO,CAACC,iBAA1B,CAAd;;IACA,IAAII,OAAO,IAAIA,OAAO,CAACC,MAAR,KAAmB,CAAlC,EAAsC;MAClC,OAAOD,OAAO,CAAE,CAAF,CAAd;IACH;EACJ;;EACD,OAAOE,SAAP;AACH,CARM;AAUP;AACA;AACA;AACA;;AACA,OAAO,IAAIC,+BAA+B,GAAG,UAAUL,UAAV,EAAuB;EAChE,IAAIM,eAAe,GAAGN,UAAtB;;EACA,IAAIL,CAAC,CAACY,QAAF,CAAYD,eAAZ,CAAJ,EAAoC;IAChC,IAAIX,CAAC,CAACa,UAAF,CAAcF,eAAd,EAA+B,IAA/B,CAAJ,EAA4C;MACxCA,eAAe,GAAGX,CAAC,CAACc,SAAF,CAAaH,eAAb,EAA8B,IAA9B,CAAlB;MACAA,eAAe,GAAGX,CAAC,CAACe,OAAF,CAAWJ,eAAX,EAA4B,IAA5B,CAAlB;IACH;;IACD,OAAOA,eAAP;EACH;;EACD,OAAOF,SAAP;AACH,CAVM;AAYP;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIO,SAAS,GAAG,UAAUC,KAAV,EAAiBC,IAAjB,EAAwB;EAC3C,IAAIC,MAAM,GAAGnB,CAAC,CAACoB,GAAF,CAAOH,KAAP,EAAcC,IAAd,CAAb;;EAEA,IAAIC,MAAM,KAAKV,SAAf,EAA2B;IACvB,OAAOU,MAAP;EACH,CAL0C,CAO3C;;;EACA,IAAIF,KAAK,IAAIA,KAAK,CAACI,IAAnB,EAA0B;IACtB,OAAOnB,OAAO,CAACc,SAAR,CAAmBC,KAAK,CAACI,IAAzB,EAA+BH,IAA/B,CAAP;EACH;;EACD,OAAOT,SAAP;AACH,CAZM;AAcP;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIa,eAAe,GAAG,UAAUC,UAAV,EAAuB;EAChD,IAAI;IACA,IAAIC,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAYH,UAAZ,CAAjB;;IAEA,IAAIC,UAAU,IAAI,OAAOA,UAAP,KAAsB,QAAxC,EAAmD;MAC/C,OAAOA,UAAP;IACH;EACJ,CAND,CAME,OAAQG,SAAR,EAAoB;IAClB1B,MAAM,CAAC2B,KAAP,CAAc,oCAAoCD,SAAlD;EACH;;EAED,OAAO,KAAP;AACH,CAZM;AAcP;AACA;AACA;AACA;;AACA,OAAO,IAAIE,UAAU,GAAG,UAAUxB,UAAV,EAAuB;EAC3C,IAAIyB,KAAK,GAAG,2BAAZ;;EACA,IAAIC,SAAS,CAACvB,MAAV,KAAqB,CAArB,IAA0BR,CAAC,CAACY,QAAF,CAAYP,UAAZ,CAA9B,EAAyD;IACrD,OAAOA,UAAU,CAACC,KAAX,CAAkBwB,KAAlB,EAA2B,CAA3B,CAAP;EACH;;EACD,OAAO,IAAP;AACH,CANM;AAQP5B,OAAO,GAAG;EACNC,iBADM;EAENC,8BAFM;EAGNM,+BAHM;EAINM,SAJM;EAKNM,eALM;EAMNO;AANM,CAAV;AAQA,eAAe3B,OAAf"},"metadata":{},"sourceType":"module"}