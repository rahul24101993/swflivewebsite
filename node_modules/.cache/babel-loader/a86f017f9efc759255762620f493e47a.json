{"ast":null,"code":"// Copyright (c) 2020 Siemens\n\n/**\n * Defines {@link NgServices.commandPanelService} which manages command panels.\n *\n * @module js/commandPanel.service\n */\nimport appCtxService from 'js/appCtxService';\nimport eventBus from 'js/eventBus';\nimport { getEditHandler } from 'js/editHandlerService';\n/**\n * Command service to manage commands.\n *\n * @param appCtxService {Object} - App context service\n */\n\nlet exports = {};\n/**\n * Activate a command. Closes any panel that is open in the opposite panel location. If the command is\n * same as the command active at that location it will be closed.\n * If any setup is required for the command just wrap this service.\n *\n * @param {inputObj} inputObj - Input object\n * The input object need to have following values\n * commandId\n * location\n * context\n * push\n * closeWhenCommandHidden\n * config = {}\n * editContext = String\n */\n\nexport let activateCommandPanel2 = function (inputObj) {\n  //Create event data for awsidenav.openClose event\n  let {\n    commandId,\n    location,\n    context,\n    push,\n    closeWhenCommandHidden,\n    config,\n    editContext\n  } = inputObj; //Create config object for achieving slide push\n\n  config = config || {};\n  editContext = editContext || 'INFO_PANEL_CONTEXT';\n\n  if (push !== undefined) {\n    config.slide = push === true ? 'PUSH' : 'FLOAT';\n  }\n\n  var eventData = {\n    id: location,\n    commandId: commandId,\n    includeView: commandId,\n    command: {\n      commandId: commandId,\n      declarativeCommandId: commandId,\n      closeWhenCommandHidden: closeWhenCommandHidden !== false,\n      getDeclarativeCommandId: function () {\n        return commandId;\n      },\n      // Register panel context on activation of command\n      setupDeclarativeView: function (deferred) {\n        if (context) {\n          appCtxService.registerCtx('panelContext', context);\n        }\n\n        deferred.resolve();\n      },\n      // Unregister panel context on close of command\n      callbackApi: {\n        getPanelLifeCycleClose: function (_, deferred) {\n          if (context) {\n            appCtxService.unRegisterCtx('panelContext');\n          }\n\n          if (editContext && getEditHandler(editContext)) {\n            return getEditHandler(editContext).leaveConfirmation(function () {\n              deferred.resolve();\n            });\n          }\n\n          return deferred.resolve();\n        }\n      }\n    },\n    config: config\n  };\n  eventBus.publish('awsidenav.openClose', eventData);\n};\n/**\n * Activate a command. Closes any panel that is open in the opposite panel location. If the command jas the\n * same is as the command active at that location it will be closed. If any setup is required for the\n * command just wrap this service.\n *\n * @param {String} commandId - ID of the command to open. Should map to the view model to activate.\n * @param {String} location - Which panel to open the command in. \"aw_navigation\" (left edge of screen) or \"aw_toolsAndInfo\" (right edge of screen)\n * @param {Object} context - The panel context.\n * @param {Boolean} push - Optional parameter to push workarea content when opening command panel\n * @param {Boolean} closeWhenCommandHidden - Optional parameter to disable the automatic closing of the panel when a command is hidden. Defaults to true.\n * @param {Object} config - Optional parameter to override the configuration attributes of sidenav, which includes width, height and slide.\n */\n\nexport let activateCommandPanel = function (commandId, location, context, push, closeWhenCommandHidden, config) {\n  activateCommandPanel2({\n    commandId,\n    location,\n    context,\n    push,\n    closeWhenCommandHidden,\n    config\n  });\n};\nexports = {\n  activateCommandPanel,\n  activateCommandPanel2\n};\nexport default exports;","map":{"version":3,"sources":["C:/Users/rahukl57/Desktop/SWF/CreatingOwnComponentUsingJsx/node_modules/@swf/core/src/command/src/js/commandPanel.service.js"],"names":["exports","activateCommandPanel2","editContext","config","push","eventData","id","commandId","includeView","command","declarativeCommandId","closeWhenCommandHidden","getDeclarativeCommandId","setupDeclarativeView","appCtxService","deferred","callbackApi","getPanelLifeCycleClose","getEditHandler","eventBus","activateCommandPanel"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAA,aAAA,MAAA,kBAAA;AACA,OAAA,QAAA,MAAA,aAAA;AACA,SAAA,cAAA,QAAA,uBAAA;AAEA;AACA;AACA;AACA;AACA;;AACA,IAAIA,OAAO,GAAX,EAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,IAAIC,qBAAqB,GAAG,UAAA,QAAA,EAAqB;EACpD;EACA,IAAI;IAAA,SAAA;IAAA,QAAA;IAAA,OAAA;IAAA,IAAA;IAAA,sBAAA;IAAA,MAAA;IAAsEC;EAAtE,IAFgD,QAEpD,CAFoD,CAGpD;;EACAC,MAAM,GAAGA,MAAM,IAAfA,EAAAA;EACAD,WAAW,GAAGA,WAAW,IAAzBA,oBAAAA;;EACA,IAAIE,IAAI,KAAR,SAAA,EAAyB;IACrBD,MAAM,CAANA,KAAAA,GAAeC,IAAI,KAAJA,IAAAA,GAAAA,MAAAA,GAAfD,OAAAA;EACH;;EACD,IAAIE,SAAS,GAAG;IACZC,EAAE,EADU,QAAA;IAEZC,SAAS,EAFG,SAAA;IAGZC,WAAW,EAHC,SAAA;IAIZC,OAAO,EAAE;MACLF,SAAS,EADJ,SAAA;MAELG,oBAAoB,EAFf,SAAA;MAILC,sBAAsB,EAAEA,sBAAsB,KAJzC,KAAA;MAKLC,uBAAuB,EAAE,YAAW;QAChC,OAAA,SAAA;MANC,CAAA;MAQL;MACAC,oBAAoB,EAAE,UAAA,QAAA,EAAqB;QACvC,IAAA,OAAA,EAAc;UACVC,aAAa,CAAbA,WAAAA,CAAAA,cAAAA,EAAAA,OAAAA;QACH;;QACDC,QAAQ,CAARA,OAAAA;MAbC,CAAA;MAeL;MACAC,WAAW,EAAE;QACTC,sBAAsB,EAAE,UAAA,CAAA,EAAA,QAAA,EAAwB;UAC5C,IAAA,OAAA,EAAc;YACVH,aAAa,CAAbA,aAAAA,CAAAA,cAAAA;UACH;;UACD,IAAIZ,WAAW,IAAIgB,cAAc,CAAjC,WAAiC,CAAjC,EAAmD;YAC/C,OAAO,cAAc,CAAd,WAAc,CAAd,CAAA,iBAAA,CAAiD,YAAW;cAC/DH,QAAQ,CAARA,OAAAA;YADJ,CAAO,CAAP;UAGH;;UACD,OAAOA,QAAQ,CAAf,OAAOA,EAAP;QACH;MAXQ;IAhBR,CAJG;IAkCZZ,MAAM,EAAEA;EAlCI,CAAhB;EAoCAgB,QAAQ,CAARA,OAAAA,CAAAA,qBAAAA,EAAAA,SAAAA;AA7CG,CAAA;AAgDP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIC,oBAAoB,GAAG,UAAA,SAAA,EAAA,QAAA,EAAA,OAAA,EAAA,IAAA,EAAA,sBAAA,EAAA,MAAA,EAA+E;EAC7GnB,qBAAqB,CAAE;IAAA,SAAA;IAAA,QAAA;IAAA,OAAA;IAAA,IAAA;IAAA,sBAAA;IAMnBE;EANmB,CAAF,CAArBF;AADG,CAAA;AAWPD,OAAO,GAAG;EAAA,oBAAA;EAENC;AAFM,CAAVD;AAIA,eAAA,OAAA","sourcesContent":["// Copyright (c) 2020 Siemens\n\n/**\n * Defines {@link NgServices.commandPanelService} which manages command panels.\n *\n * @module js/commandPanel.service\n */\nimport appCtxService from 'js/appCtxService';\nimport eventBus from 'js/eventBus';\nimport { getEditHandler } from 'js/editHandlerService';\n\n/**\n * Command service to manage commands.\n *\n * @param appCtxService {Object} - App context service\n */\nlet exports = {};\n\n/**\n * Activate a command. Closes any panel that is open in the opposite panel location. If the command is\n * same as the command active at that location it will be closed.\n * If any setup is required for the command just wrap this service.\n *\n * @param {inputObj} inputObj - Input object\n * The input object need to have following values\n * commandId\n * location\n * context\n * push\n * closeWhenCommandHidden\n * config = {}\n * editContext = String\n */\n\nexport let activateCommandPanel2 = function( inputObj ) {\n    //Create event data for awsidenav.openClose event\n    let { commandId, location, context, push, closeWhenCommandHidden, config, editContext } = inputObj;\n    //Create config object for achieving slide push\n    config = config || {};\n    editContext = editContext || 'INFO_PANEL_CONTEXT';\n    if( push !== undefined ) {\n        config.slide = push === true ? 'PUSH' : 'FLOAT';\n    }\n    var eventData = {\n        id: location,\n        commandId: commandId,\n        includeView: commandId,\n        command: {\n            commandId: commandId,\n            declarativeCommandId: commandId,\n\n            closeWhenCommandHidden: closeWhenCommandHidden !== false,\n            getDeclarativeCommandId: function() {\n                return commandId;\n            },\n            // Register panel context on activation of command\n            setupDeclarativeView: function( deferred ) {\n                if( context ) {\n                    appCtxService.registerCtx( 'panelContext', context );\n                }\n                deferred.resolve();\n            },\n            // Unregister panel context on close of command\n            callbackApi: {\n                getPanelLifeCycleClose: function( _, deferred ) {\n                    if( context ) {\n                        appCtxService.unRegisterCtx( 'panelContext' );\n                    }\n                    if( editContext && getEditHandler( editContext ) ) {\n                        return getEditHandler( editContext ).leaveConfirmation( function() {\n                            deferred.resolve();\n                        } );\n                    }\n                    return deferred.resolve();\n                }\n            }\n        },\n        config: config\n    };\n    eventBus.publish( 'awsidenav.openClose', eventData );\n};\n\n/**\n * Activate a command. Closes any panel that is open in the opposite panel location. If the command jas the\n * same is as the command active at that location it will be closed. If any setup is required for the\n * command just wrap this service.\n *\n * @param {String} commandId - ID of the command to open. Should map to the view model to activate.\n * @param {String} location - Which panel to open the command in. \"aw_navigation\" (left edge of screen) or \"aw_toolsAndInfo\" (right edge of screen)\n * @param {Object} context - The panel context.\n * @param {Boolean} push - Optional parameter to push workarea content when opening command panel\n * @param {Boolean} closeWhenCommandHidden - Optional parameter to disable the automatic closing of the panel when a command is hidden. Defaults to true.\n * @param {Object} config - Optional parameter to override the configuration attributes of sidenav, which includes width, height and slide.\n */\nexport let activateCommandPanel = function( commandId, location, context, push, closeWhenCommandHidden, config ) {\n    activateCommandPanel2( {\n        commandId,\n        location,\n        context,\n        push,\n        closeWhenCommandHidden,\n        config\n    } );\n};\n\nexports = {\n    activateCommandPanel,\n    activateCommandPanel2\n};\nexport default exports;\n"]},"metadata":{},"sourceType":"module"}