{"ast":null,"code":"// Copyright (c) 2021 Siemens\nimport AwPropertyNonEditVal from'viewmodel/AwPropertyNonEditValViewModel';import AwCommandBar from'viewmodel/AwCommandBarViewModel';import{getValClass}from'js/componentUtils';import sanitizer from'js/sanitizer';/**\n * render function for AwTextareaVal\n * @param {*} param0 context for render function interpolation\n * @returns {JSX.Element} react component\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const awTextareaValRenderFunction=props=>{const{viewModel,ctxMin,actions,i18n,fields,grids,formProp,messages,...prop}=props;let filteredAttrs=sanitizer.sanitizeHTMLTagProps(prop,'textarea');const textAreaClass=getValClass(prop);// use simple non-edit val if not editing\nif(!prop.fielddata.isEditable||prop.modifiable===false){return/*#__PURE__*/_jsx(AwPropertyNonEditVal,{...prop});}var keyPressed=event=>{if(event.key==='Enter'||event.type==='blur'&&prop.typex==='STRINGARRAY'){event.preventDefault();prop.onChange(event);event.target.value='';}};let numberOfLines=3;if(prop.fielddata.numberOfLines){numberOfLines=prop.fielddata.numberOfLines;}if(!filteredAttrs.value){filteredAttrs.value='';}if(prop.typex==='STRINGARRAY'){return/*#__PURE__*/_jsx(\"textarea\",{rows:numberOfLines,\"aria-required\":prop.isRequired,\"data-locator\":prop.label,placeholder:prop.placeholder,className:textAreaClass,maxLength:prop.maxLength,onBlur:keyPressed,onKeyPress:keyPressed});}if(prop.fielddata.uwAnchor){const commandConext={...prop.fielddata,dbValue:prop.fielddata.displayValues};return/*#__PURE__*/_jsxs(\"div\",{className:\"sw-row\",children:[/*#__PURE__*/_jsx(\"textarea\",{...filteredAttrs,rows:numberOfLines,className:textAreaClass}),/*#__PURE__*/_jsx(AwCommandBar,{anchor:prop.fielddata.uwAnchor,alignment:\"HORIZONTAL\",context:commandConext})]});}return/*#__PURE__*/_jsx(\"textarea\",{...filteredAttrs,rows:numberOfLines,className:textAreaClass});};","map":null,"metadata":{},"sourceType":"module"}