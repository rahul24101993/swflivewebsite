{"ast":null,"code":"// Copyright (c) 2020 Siemens\n\n/**\n * @module js/defaultLocationService\n */\nimport appCtxService from 'js/appCtxService';\nimport keyboardService from 'js/keyboardService';\nimport _ from 'lodash';\nimport eventBus from 'js/eventBus'; // Service\n\nimport AwStateService from 'js/awStateService';\nlet exports;\nexport let getCurrentState = function () {\n  return AwStateService.instance.current;\n};\nexport let normalizeStateName = function () {\n  // note the this is here before conversion\n  return exports.getCurrentState().parent.replace(/_/g, '.');\n};\nexport let subscribeForLocationUnloadEvent = function (name) {\n  var locContUnLoadedSub = eventBus.subscribe(name + '.contentUnloaded', function () {\n    appCtxService.unRegisterCtx('locationContext');\n    keyboardService.unRegisterKeyDownEvent();\n    eventBus.unsubscribe(locContUnLoadedSub);\n  });\n};\nexport let handleLocationUnload = () => {\n  appCtxService.unRegisterCtx('locationContext');\n  keyboardService.unRegisterKeyDownEvent();\n};\nexport let updateTabs = function (subLocationTabCondition) {\n  var stateName = exports.getCurrentState().name;\n\n  if (!subLocationTabCondition || subLocationTabCondition.currentTab !== stateName) {\n    var subLocationTabCond = {};\n    subLocationTabCond.currentTab = stateName;\n    return subLocationTabCond;\n  }\n};\nexports = {\n  getCurrentState,\n  normalizeStateName,\n  subscribeForLocationUnloadEvent,\n  updateTabs,\n  handleLocationUnload\n};\nexport default exports;","map":{"version":3,"names":["appCtxService","keyboardService","_","eventBus","AwStateService","exports","getCurrentState","instance","current","normalizeStateName","parent","replace","subscribeForLocationUnloadEvent","name","locContUnLoadedSub","subscribe","unRegisterCtx","unRegisterKeyDownEvent","unsubscribe","handleLocationUnload","updateTabs","subLocationTabCondition","stateName","currentTab","subLocationTabCond"],"sources":["C:/Users/rahukl57/Desktop/SWF/CreatingOwnComponentUsingJsx/node_modules/@swf/core/src/layout/src/js/defaultLocationService.js"],"sourcesContent":["// Copyright (c) 2020 Siemens\n\n/**\n * @module js/defaultLocationService\n */\nimport appCtxService from 'js/appCtxService';\nimport keyboardService from 'js/keyboardService';\nimport _ from 'lodash';\nimport eventBus from 'js/eventBus';\n\n// Service\nimport AwStateService from 'js/awStateService';\n\nlet exports;\n\nexport let getCurrentState = function() {\n    return AwStateService.instance.current;\n};\n\nexport let normalizeStateName = function() {\n    // note the this is here before conversion\n    return exports.getCurrentState().parent.replace( /_/g, '.' );\n};\n\nexport let subscribeForLocationUnloadEvent = function( name ) {\n    var locContUnLoadedSub = eventBus.subscribe( name + '.contentUnloaded', function() {\n        appCtxService.unRegisterCtx( 'locationContext' );\n        keyboardService.unRegisterKeyDownEvent();\n        eventBus.unsubscribe( locContUnLoadedSub );\n    } );\n};\n\nexport let handleLocationUnload = () => {\n    appCtxService.unRegisterCtx( 'locationContext' );\n    keyboardService.unRegisterKeyDownEvent();\n};\n\nexport let updateTabs = function( subLocationTabCondition ) {\n    var stateName = exports.getCurrentState().name;\n    if( !subLocationTabCondition || subLocationTabCondition.currentTab !== stateName ) {\n        var subLocationTabCond = {};\n        subLocationTabCond.currentTab = stateName;\n        return subLocationTabCond;\n    }\n};\n\nexports = {\n    getCurrentState,\n    normalizeStateName,\n    subscribeForLocationUnloadEvent,\n    updateTabs,\n    handleLocationUnload\n};\nexport default exports;\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA,OAAOA,aAAP,MAA0B,kBAA1B;AACA,OAAOC,eAAP,MAA4B,oBAA5B;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,QAAP,MAAqB,aAArB,C,CAEA;;AACA,OAAOC,cAAP,MAA2B,mBAA3B;AAEA,IAAIC,OAAJ;AAEA,OAAO,IAAIC,eAAe,GAAG,YAAW;EACpC,OAAOF,cAAc,CAACG,QAAf,CAAwBC,OAA/B;AACH,CAFM;AAIP,OAAO,IAAIC,kBAAkB,GAAG,YAAW;EACvC;EACA,OAAOJ,OAAO,CAACC,eAAR,GAA0BI,MAA1B,CAAiCC,OAAjC,CAA0C,IAA1C,EAAgD,GAAhD,CAAP;AACH,CAHM;AAKP,OAAO,IAAIC,+BAA+B,GAAG,UAAUC,IAAV,EAAiB;EAC1D,IAAIC,kBAAkB,GAAGX,QAAQ,CAACY,SAAT,CAAoBF,IAAI,GAAG,kBAA3B,EAA+C,YAAW;IAC/Eb,aAAa,CAACgB,aAAd,CAA6B,iBAA7B;IACAf,eAAe,CAACgB,sBAAhB;IACAd,QAAQ,CAACe,WAAT,CAAsBJ,kBAAtB;EACH,CAJwB,CAAzB;AAKH,CANM;AAQP,OAAO,IAAIK,oBAAoB,GAAG,MAAM;EACpCnB,aAAa,CAACgB,aAAd,CAA6B,iBAA7B;EACAf,eAAe,CAACgB,sBAAhB;AACH,CAHM;AAKP,OAAO,IAAIG,UAAU,GAAG,UAAUC,uBAAV,EAAoC;EACxD,IAAIC,SAAS,GAAGjB,OAAO,CAACC,eAAR,GAA0BO,IAA1C;;EACA,IAAI,CAACQ,uBAAD,IAA4BA,uBAAuB,CAACE,UAAxB,KAAuCD,SAAvE,EAAmF;IAC/E,IAAIE,kBAAkB,GAAG,EAAzB;IACAA,kBAAkB,CAACD,UAAnB,GAAgCD,SAAhC;IACA,OAAOE,kBAAP;EACH;AACJ,CAPM;AASPnB,OAAO,GAAG;EACNC,eADM;EAENG,kBAFM;EAGNG,+BAHM;EAINQ,UAJM;EAKND;AALM,CAAV;AAOA,eAAed,OAAf"},"metadata":{},"sourceType":"module"}