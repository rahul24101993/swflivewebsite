{"ast":null,"code":"// Copyright (c) 2020 Siemens\n/* eslint-env es6 */ /**\n * Memory Processor\n *\n * @module js/splmStatsMemProcessor\n */ /**\n * Instances of this class represent a profiler for Memory Usage\n *\n * @class SPLMStatsMemProcessor\n */function SPLMStatsMemProcessor(){let self=this;let _processingTime=0;let _startProcessorTime=0;let _endProcessorTime=0;let _memoryCaptures=[];const _reset=function(){_memoryCaptures=[];};self.start=function(){_startProcessorTime=window.performance.now();_reset();if(window.performance&&window.performance.memory){_memoryCaptures.push({_usedJSHeapSize:(window.performance.memory.usedJSHeapSize/window.performance.memory.jsHeapSizeLimit*100).toFixed(2)+'%',_bytesUsed:window.performance.memory.usedJSHeapSize});}_endProcessorTime=window.performance.now();_processingTime+=_endProcessorTime-_startProcessorTime;};self.stop=function(){_startProcessorTime=window.performance.now();if(window.performance&&window.performance.memory){_memoryCaptures.push({_usedJSHeapSize:(window.performance.memory.usedJSHeapSize/window.performance.memory.jsHeapSizeLimit*100).toFixed(2)+'%',_bytesUsed:window.performance.memory.usedJSHeapSize});}_endProcessorTime=window.performance.now();_processingTime+=_endProcessorTime-_startProcessorTime;};self.getProcessingTime=function(){const _time=_processingTime;_processingTime=0;return{MemProcessorOverhead:_time};};self.getMetrics=function(){if(window.performance&&window.performance.memory){let memoryConsumption=_memoryCaptures[_memoryCaptures.length-1]._bytesUsed-_memoryCaptures[0]._bytesUsed;//end minus beginning\nreturn{MemoryConsumption:memoryConsumption,//Bytes base value\nMemoryUsed:_memoryCaptures[_memoryCaptures.length-1]._bytesUsed,MemoryStart:_memoryCaptures[_memoryCaptures.length-1]._bytesUsed,MemoryEnd:_memoryCaptures[0]._bytesUsed};}return{MemoryConsumption:0,MemoryUsed:0};};return self;}export default SPLMStatsMemProcessor;","map":null,"metadata":{},"sourceType":"module"}