{"ast":null,"code":"// Copyright (c) 2020 Siemens\n\n/**\n * This module is part of declarative UI framework and provides view model processing functionalities.\n *\n * @module js/parsingUtils\n */\nimport _ from 'lodash';\nimport logger from 'js/logger';\n/**\n * Define the base object used to provide all of this module's external API on.\n *\n * @private\n */\n\nvar exports = {};\n/**\n * {Regex} Regular expression that allows extraction of the text between starting '{{' and ending '}}' using String\n * class 'match' function.\n * <P>\n * Note: The regex will only extract 4 segments w/the following for [1] & [3]<BR>\n * results[1] === '{{' && results[3] === '}}' *\n */\n\nexport let REGEX_DATABINDING = /^({{)([a-zA-Z0-9$._\\s:\\[\\]\\']+)(}})$/;\n/**\n * @param {String} expression -\n * @return {String} The string between mustaches or 'undefined'\n */\n\nexport let getStringInDoubleMustachMarkup = function (expression) {\n  if (expression.match) {\n    var results = expression.match(exports.REGEX_DATABINDING);\n\n    if (results && results.length === 4) {\n      return results[2];\n    }\n  }\n\n  return undefined;\n};\n/**\n * @param {String} expression -\n * @return {String} insertionString - the string between mustaches\n */\n\nexport let getStringBetweenDoubleMustaches = function (expression) {\n  var insertionString = expression;\n\n  if (_.isString(insertionString)) {\n    if (_.startsWith(insertionString, '{{')) {\n      insertionString = _.trimStart(insertionString, '{{');\n      insertionString = _.trimEnd(insertionString, '}}');\n    }\n\n    return insertionString;\n  }\n\n  return undefined;\n};\n/**\n * Get the required value from the JSON.\n *\n * @param {Object} input - Input object.\n * @param {Object} path - path from which to search the input.\n * @return {Object} - searched output.\n */\n\nexport let parentGet = function (input, path) {\n  var retVal = _.get(input, path);\n\n  if (retVal !== undefined) {\n    return retVal;\n  } // drill down by data - i18n case\n\n\n  if (input && input.data) {\n    return exports.parentGet(input.data, path);\n  }\n\n  return undefined;\n};\n/**\n * Try to parse the JSON string, return the JavaScript Object after parsing, false if cannot parse.\n *\n * @param {String} jsonString - JSON string to parse into Object\n */\n\nexport let parseJsonString = function (jsonString) {\n  try {\n    var jsonObject = JSON.parse(jsonString);\n\n    if (jsonObject && typeof jsonObject === 'object') {\n      return jsonObject;\n    }\n  } catch (exception) {\n    logger.error('Error parsing the JSON string: ' + exception);\n  }\n\n  return false;\n};\n/**\n * @param {String} expression -\n * @return {String} key of i18n ex- incase of i18n.Close,it will return \"Close\".\n */\n\nexport let geti18nKey = function (expression) {\n  var regex = /{{i18n.([_a-zA-Z0-9]+)}}/i;\n\n  if (arguments.length === 1 && _.isString(expression)) {\n    return expression.match(regex)[1];\n  }\n\n  return true;\n};\nexports = {\n  REGEX_DATABINDING,\n  getStringInDoubleMustachMarkup,\n  getStringBetweenDoubleMustaches,\n  parentGet,\n  parseJsonString,\n  geti18nKey\n};\nexport default exports;","map":{"version":3,"sources":["C:/Users/rahukl57/Desktop/SWF/CreatingOwnComponentUsingJsx/node_modules/@swf/core/src/declarativeui/src/js/parsingUtils.js"],"names":["exports","REGEX_DATABINDING","getStringInDoubleMustachMarkup","expression","results","getStringBetweenDoubleMustaches","insertionString","_","parentGet","retVal","input","parseJsonString","jsonObject","JSON","logger","geti18nKey","regex","arguments"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;AACA;AAEA,OAAA,CAAA,MAAA,QAAA;AACA,OAAA,MAAA,MAAA,WAAA;AAEA;AACA;AACA;AACA;AACA;;AACA,IAAIA,OAAO,GAAX,EAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIC,iBAAiB,GAArB,sCAAA;AAEP;AACA;AACA;AACA;;AACA,OAAO,IAAIC,8BAA8B,GAAG,UAAA,UAAA,EAAuB;EAC/D,IAAIC,UAAU,CAAd,KAAA,EAAuB;IACnB,IAAIC,OAAO,GAAGD,UAAU,CAAVA,KAAAA,CAAkBH,OAAO,CAAvC,iBAAcG,CAAd;;IACA,IAAIC,OAAO,IAAIA,OAAO,CAAPA,MAAAA,KAAf,CAAA,EAAsC;MAClC,OAAOA,OAAO,CAAd,CAAc,CAAd;IACH;EACJ;;EACD,OAAA,SAAA;AAPG,CAAA;AAUP;AACA;AACA;AACA;;AACA,OAAO,IAAIC,+BAA+B,GAAG,UAAA,UAAA,EAAuB;EAChE,IAAIC,eAAe,GAAnB,UAAA;;EACA,IAAIC,CAAC,CAADA,QAAAA,CAAJ,eAAIA,CAAJ,EAAoC;IAChC,IAAIA,CAAC,CAADA,UAAAA,CAAAA,eAAAA,EAAJ,IAAIA,CAAJ,EAA4C;MACxCD,eAAe,GAAGC,CAAC,CAADA,SAAAA,CAAAA,eAAAA,EAAlBD,IAAkBC,CAAlBD;MACAA,eAAe,GAAGC,CAAC,CAADA,OAAAA,CAAAA,eAAAA,EAAlBD,IAAkBC,CAAlBD;IACH;;IACD,OAAA,eAAA;EACH;;EACD,OAAA,SAAA;AATG,CAAA;AAYP;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIE,SAAS,GAAG,UAAA,KAAA,EAAA,IAAA,EAAwB;EAC3C,IAAIC,MAAM,GAAGF,CAAC,CAADA,GAAAA,CAAAA,KAAAA,EAAb,IAAaA,CAAb;;EAEA,IAAIE,MAAM,KAAV,SAAA,EAA2B;IACvB,OAAA,MAAA;EAJuC,CAAA,CAO3C;;;EACA,IAAIC,KAAK,IAAIA,KAAK,CAAlB,IAAA,EAA0B;IACtB,OAAOV,OAAO,CAAPA,SAAAA,CAAmBU,KAAK,CAAxBV,IAAAA,EAAP,IAAOA,CAAP;EACH;;EACD,OAAA,SAAA;AAXG,CAAA;AAcP;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIW,eAAe,GAAG,UAAA,UAAA,EAAuB;EAChD,IAAI;IACA,IAAIC,UAAU,GAAGC,IAAI,CAAJA,KAAAA,CAAjB,UAAiBA,CAAjB;;IAEA,IAAID,UAAU,IAAI,OAAA,UAAA,KAAlB,QAAA,EAAmD;MAC/C,OAAA,UAAA;IACH;EALL,CAAA,CAME,OAAA,SAAA,EAAoB;IAClBE,MAAM,CAANA,KAAAA,CAAc,oCAAdA,SAAAA;EACH;;EAED,OAAA,KAAA;AAXG,CAAA;AAcP;AACA;AACA;AACA;;AACA,OAAO,IAAIC,UAAU,GAAG,UAAA,UAAA,EAAuB;EAC3C,IAAIC,KAAK,GAAT,2BAAA;;EACA,IAAIC,SAAS,CAATA,MAAAA,KAAAA,CAAAA,IAA0BV,CAAC,CAADA,QAAAA,CAA9B,UAA8BA,CAA9B,EAAyD;IACrD,OAAOJ,UAAU,CAAVA,KAAAA,CAAAA,KAAAA,EAAP,CAAOA,CAAP;EACH;;EACD,OAAA,IAAA;AALG,CAAA;AAQPH,OAAO,GAAG;EAAA,iBAAA;EAAA,8BAAA;EAAA,+BAAA;EAAA,SAAA;EAAA,eAAA;EAMNe;AANM,CAAVf;AAQA,eAAA,OAAA","sourcesContent":["// Copyright (c) 2020 Siemens\n\n/**\n * This module is part of declarative UI framework and provides view model processing functionalities.\n *\n * @module js/parsingUtils\n */\n\nimport _ from 'lodash';\nimport logger from 'js/logger';\n\n/**\n * Define the base object used to provide all of this module's external API on.\n *\n * @private\n */\nvar exports = {};\n\n/**\n * {Regex} Regular expression that allows extraction of the text between starting '{{' and ending '}}' using String\n * class 'match' function.\n * <P>\n * Note: The regex will only extract 4 segments w/the following for [1] & [3]<BR>\n * results[1] === '{{' && results[3] === '}}' *\n */\nexport let REGEX_DATABINDING = /^({{)([a-zA-Z0-9$._\\s:\\[\\]\\']+)(}})$/;\n\n/**\n * @param {String} expression -\n * @return {String} The string between mustaches or 'undefined'\n */\nexport let getStringInDoubleMustachMarkup = function( expression ) {\n    if( expression.match ) {\n        var results = expression.match( exports.REGEX_DATABINDING );\n        if( results && results.length === 4 ) {\n            return results[ 2 ];\n        }\n    }\n    return undefined;\n};\n\n/**\n * @param {String} expression -\n * @return {String} insertionString - the string between mustaches\n */\nexport let getStringBetweenDoubleMustaches = function( expression ) {\n    var insertionString = expression;\n    if( _.isString( insertionString ) ) {\n        if( _.startsWith( insertionString, '{{' ) ) {\n            insertionString = _.trimStart( insertionString, '{{' );\n            insertionString = _.trimEnd( insertionString, '}}' );\n        }\n        return insertionString;\n    }\n    return undefined;\n};\n\n/**\n * Get the required value from the JSON.\n *\n * @param {Object} input - Input object.\n * @param {Object} path - path from which to search the input.\n * @return {Object} - searched output.\n */\nexport let parentGet = function( input, path ) {\n    var retVal = _.get( input, path );\n\n    if( retVal !== undefined ) {\n        return retVal;\n    }\n\n    // drill down by data - i18n case\n    if( input && input.data ) {\n        return exports.parentGet( input.data, path );\n    }\n    return undefined;\n};\n\n/**\n * Try to parse the JSON string, return the JavaScript Object after parsing, false if cannot parse.\n *\n * @param {String} jsonString - JSON string to parse into Object\n */\nexport let parseJsonString = function( jsonString ) {\n    try {\n        var jsonObject = JSON.parse( jsonString );\n\n        if( jsonObject && typeof jsonObject === 'object' ) {\n            return jsonObject;\n        }\n    } catch ( exception ) {\n        logger.error( 'Error parsing the JSON string: ' + exception );\n    }\n\n    return false;\n};\n\n/**\n * @param {String} expression -\n * @return {String} key of i18n ex- incase of i18n.Close,it will return \"Close\".\n */\nexport let geti18nKey = function( expression ) {\n    var regex = /{{i18n.([_a-zA-Z0-9]+)}}/i;\n    if( arguments.length === 1 && _.isString( expression ) ) {\n        return expression.match( regex )[ 1 ];\n    }\n    return true;\n};\n\nexports = {\n    REGEX_DATABINDING,\n    getStringInDoubleMustachMarkup,\n    getStringBetweenDoubleMustaches,\n    parentGet,\n    parseJsonString,\n    geti18nKey\n};\nexport default exports;\n"]},"metadata":{},"sourceType":"module"}