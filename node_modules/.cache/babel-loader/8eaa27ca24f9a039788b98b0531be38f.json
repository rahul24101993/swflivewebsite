{"ast":null,"code":"// Copyright (c) 2020 Siemens\n\n/**\n * This service is used for simpletabe as Column Resizer, all column resize logic are here for now\n *\n * @module js/splmTableColumnResizer\n *\n */\nimport splmTableDragHandler from 'js/splmTableDragHandler';\nimport Const from 'js/splmTableConstants'; // Write it here for reuse purporse\n\nvar exports = {};\n/**\n * @memberOf js/splmTableColumnResizer\n *\n * apply column resize logic to splitter\n * @param {Object} tableCtrl - PL Table Controller\n * @param {DOMElement} elem - Column header splitter element\n */\n\nexport let applyColumnResizeHandler = function (tableCtrl, elem, menuService) {\n  var _startPageX = -1;\n\n  var _gripPosX = -1;\n\n  var _deltaWidth = -1;\n\n  var columDef = elem.parentElement.children[1].columnDef;\n  var _columnIdx = columDef.index;\n  splmTableDragHandler.enableDragging(elem);\n  elem.addEventListener(Const.EVENT_ON_ELEM_DRAG_START, function (customEvent) {\n    var e = customEvent.detail;\n    _startPageX = e.pageX;\n    _deltaWidth = 0; // Clean up menu if exist\n\n    menuService.ensureAllTableMenusDismissed(); // Scroll left adjustment is not needed if the column is pinned\n\n    var scrollLeft = columDef.pinnedLeft === true ? tableCtrl.getPinCanvasScrollLeftPosition() : tableCtrl.getScrollCanvasScrollLeftPosition();\n    _gripPosX = tableCtrl.getTotalColumnWidth(_columnIdx) - (Const.WIDTH_COLUMN_SPLITTER - e.offsetX) + scrollLeft;\n    tableCtrl.showColumnGrip(_gripPosX);\n  });\n  elem.addEventListener(Const.EVENT_ON_ELEM_DRAG, function (customEvent) {\n    var e = customEvent.detail;\n    var deltaWidth = e.pageX - _startPageX;\n\n    if (tableCtrl.isColumnWidthChangeValid(_columnIdx, deltaWidth)) {\n      _deltaWidth = deltaWidth;\n      tableCtrl.setColumnGripPosition(_gripPosX + _deltaWidth);\n    }\n  });\n  elem.addEventListener(Const.EVENT_ON_ELEM_DRAG_END, function () {\n    tableCtrl.hideColumnGrip();\n    tableCtrl.updateColumnWidth(_columnIdx, _deltaWidth);\n  });\n  elem.addEventListener('dblclick', function () {\n    tableCtrl.fitColumnWidth(_columnIdx);\n  });\n};\nexports = {\n  applyColumnResizeHandler\n};\nexport default exports;","map":{"version":3,"names":["splmTableDragHandler","Const","exports","applyColumnResizeHandler","tableCtrl","elem","menuService","_startPageX","_gripPosX","_deltaWidth","columDef","parentElement","children","columnDef","_columnIdx","index","enableDragging","addEventListener","EVENT_ON_ELEM_DRAG_START","customEvent","e","detail","pageX","ensureAllTableMenusDismissed","scrollLeft","pinnedLeft","getPinCanvasScrollLeftPosition","getScrollCanvasScrollLeftPosition","getTotalColumnWidth","WIDTH_COLUMN_SPLITTER","offsetX","showColumnGrip","EVENT_ON_ELEM_DRAG","deltaWidth","isColumnWidthChangeValid","setColumnGripPosition","EVENT_ON_ELEM_DRAG_END","hideColumnGrip","updateColumnWidth","fitColumnWidth"],"sources":["C:/Users/rahukl57/Desktop/SWF/CreatingOwnComponentUsingJsx/node_modules/@swf/core/src/pltable/src/js/splmTableColumnResizer.js"],"sourcesContent":["// Copyright (c) 2020 Siemens\n\n/**\n * This service is used for simpletabe as Column Resizer, all column resize logic are here for now\n *\n * @module js/splmTableColumnResizer\n *\n */\nimport splmTableDragHandler from 'js/splmTableDragHandler';\nimport Const from 'js/splmTableConstants';\n\n// Write it here for reuse purporse\n\nvar exports = {};\n\n/**\n * @memberOf js/splmTableColumnResizer\n *\n * apply column resize logic to splitter\n * @param {Object} tableCtrl - PL Table Controller\n * @param {DOMElement} elem - Column header splitter element\n */\nexport let applyColumnResizeHandler = function( tableCtrl, elem, menuService ) {\n    var _startPageX = -1;\n    var _gripPosX = -1;\n    var _deltaWidth = -1;\n    var columDef = elem.parentElement.children[ 1 ].columnDef;\n    var _columnIdx = columDef.index;\n\n    splmTableDragHandler.enableDragging( elem );\n    elem.addEventListener( Const.EVENT_ON_ELEM_DRAG_START, function( customEvent ) {\n        var e = customEvent.detail;\n        _startPageX = e.pageX;\n        _deltaWidth = 0;\n\n        // Clean up menu if exist\n        menuService.ensureAllTableMenusDismissed();\n\n        // Scroll left adjustment is not needed if the column is pinned\n        var scrollLeft = columDef.pinnedLeft === true ? tableCtrl.getPinCanvasScrollLeftPosition() : tableCtrl.getScrollCanvasScrollLeftPosition();\n\n        _gripPosX = tableCtrl.getTotalColumnWidth( _columnIdx ) - ( Const.WIDTH_COLUMN_SPLITTER - e.offsetX ) + scrollLeft;\n\n        tableCtrl.showColumnGrip( _gripPosX );\n    } );\n\n    elem.addEventListener( Const.EVENT_ON_ELEM_DRAG, function( customEvent ) {\n        var e = customEvent.detail;\n        var deltaWidth = e.pageX - _startPageX;\n        if( tableCtrl.isColumnWidthChangeValid( _columnIdx, deltaWidth ) ) {\n            _deltaWidth = deltaWidth;\n            tableCtrl.setColumnGripPosition( _gripPosX + _deltaWidth );\n        }\n    } );\n\n    elem.addEventListener( Const.EVENT_ON_ELEM_DRAG_END, function() {\n        tableCtrl.hideColumnGrip();\n        tableCtrl.updateColumnWidth( _columnIdx, _deltaWidth );\n    } );\n\n    elem.addEventListener( 'dblclick', function() {\n        tableCtrl.fitColumnWidth( _columnIdx );\n    } );\n};\n\nexports = {\n    applyColumnResizeHandler\n};\nexport default exports;\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,oBAAP,MAAiC,yBAAjC;AACA,OAAOC,KAAP,MAAkB,uBAAlB,C,CAEA;;AAEA,IAAIC,OAAO,GAAG,EAAd;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIC,wBAAwB,GAAG,UAAUC,SAAV,EAAqBC,IAArB,EAA2BC,WAA3B,EAAyC;EAC3E,IAAIC,WAAW,GAAG,CAAC,CAAnB;;EACA,IAAIC,SAAS,GAAG,CAAC,CAAjB;;EACA,IAAIC,WAAW,GAAG,CAAC,CAAnB;;EACA,IAAIC,QAAQ,GAAGL,IAAI,CAACM,aAAL,CAAmBC,QAAnB,CAA6B,CAA7B,EAAiCC,SAAhD;EACA,IAAIC,UAAU,GAAGJ,QAAQ,CAACK,KAA1B;EAEAf,oBAAoB,CAACgB,cAArB,CAAqCX,IAArC;EACAA,IAAI,CAACY,gBAAL,CAAuBhB,KAAK,CAACiB,wBAA7B,EAAuD,UAAUC,WAAV,EAAwB;IAC3E,IAAIC,CAAC,GAAGD,WAAW,CAACE,MAApB;IACAd,WAAW,GAAGa,CAAC,CAACE,KAAhB;IACAb,WAAW,GAAG,CAAd,CAH2E,CAK3E;;IACAH,WAAW,CAACiB,4BAAZ,GAN2E,CAQ3E;;IACA,IAAIC,UAAU,GAAGd,QAAQ,CAACe,UAAT,KAAwB,IAAxB,GAA+BrB,SAAS,CAACsB,8BAAV,EAA/B,GAA4EtB,SAAS,CAACuB,iCAAV,EAA7F;IAEAnB,SAAS,GAAGJ,SAAS,CAACwB,mBAAV,CAA+Bd,UAA/B,KAAgDb,KAAK,CAAC4B,qBAAN,GAA8BT,CAAC,CAACU,OAAhF,IAA4FN,UAAxG;IAEApB,SAAS,CAAC2B,cAAV,CAA0BvB,SAA1B;EACH,CAdD;EAgBAH,IAAI,CAACY,gBAAL,CAAuBhB,KAAK,CAAC+B,kBAA7B,EAAiD,UAAUb,WAAV,EAAwB;IACrE,IAAIC,CAAC,GAAGD,WAAW,CAACE,MAApB;IACA,IAAIY,UAAU,GAAGb,CAAC,CAACE,KAAF,GAAUf,WAA3B;;IACA,IAAIH,SAAS,CAAC8B,wBAAV,CAAoCpB,UAApC,EAAgDmB,UAAhD,CAAJ,EAAmE;MAC/DxB,WAAW,GAAGwB,UAAd;MACA7B,SAAS,CAAC+B,qBAAV,CAAiC3B,SAAS,GAAGC,WAA7C;IACH;EACJ,CAPD;EASAJ,IAAI,CAACY,gBAAL,CAAuBhB,KAAK,CAACmC,sBAA7B,EAAqD,YAAW;IAC5DhC,SAAS,CAACiC,cAAV;IACAjC,SAAS,CAACkC,iBAAV,CAA6BxB,UAA7B,EAAyCL,WAAzC;EACH,CAHD;EAKAJ,IAAI,CAACY,gBAAL,CAAuB,UAAvB,EAAmC,YAAW;IAC1Cb,SAAS,CAACmC,cAAV,CAA0BzB,UAA1B;EACH,CAFD;AAGH,CAzCM;AA2CPZ,OAAO,GAAG;EACNC;AADM,CAAV;AAGA,eAAeD,OAAf"},"metadata":{},"sourceType":"module"}