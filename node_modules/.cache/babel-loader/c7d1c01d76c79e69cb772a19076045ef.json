{"ast":null,"code":"// Copyright (c) 2020 Siemens\n\n/**\n * @module js/awHeaderService\n */\nimport _ from 'lodash';\nimport AwPromiseService from 'js/awPromiseService';\nimport AwStateService from 'js/awStateService';\nimport localeService from 'js/localeService';\nimport appCtxService from 'js/appCtxService';\nimport configurationService from 'js/configurationService';\nimport breadCrumbService from 'js/breadCrumbService';\nimport logger from 'js/logger';\nimport { getActiveSublocationTab } from 'js/awSearchSublocationService';\nvar contextName = 'location.titles';\nexport let getTitles = function () {\n  var output = {};\n  var promises = [];\n  promises.push(configurationService.getCfg('solutionDef').then(function (solution) {\n    var browserTitle = solution ? solution.browserTitle : 'Apollo';\n    output.browserTitle = browserTitle;\n    return output;\n  }));\n  ['browserSubTitle', 'headerTitle'].forEach(function (key) {\n    var property = AwStateService.instance.current.data[key];\n\n    if (property) {\n      if (typeof property === 'string') {\n        output[key] = property;\n        promises.push(AwPromiseService.instance.when(output));\n      } else {\n        promises.push(localeService.getLocalizedText(property.source, property.key).then(function (result) {\n          output[key] = result;\n          return output;\n        }));\n      }\n    }\n  });\n  return AwPromiseService.instance.all(promises).then(function () {\n    return output;\n  });\n};\nexport const getBreadcrumbConfig = () => {\n  return AwStateService.instance.current.data ? AwStateService.instance.current.data.breadcrumbConfig : {};\n};\nexport let updateBreadCrumb = function (eventData) {\n  var output = {};\n  const searchCriteria = AwStateService.instance.current.data && AwStateService.instance.current.data.params ? AwStateService.instance.current.data.params : '';\n  const label = AwStateService.instance.current.data && AwStateService.instance.current.data.label ? AwStateService.instance.current.data.label : '';\n  output.breadcrumbConfig = appCtxService.getCtx('breadCrumbConfig');\n  output.breadCrumbProvider = breadCrumbService.refreshBreadcrumbProvider(output.breadcrumbConfig, appCtxService.getCtx('mselected'), eventData.searchFilterCategories, eventData.searchFilterMap, searchCriteria, label, true);\n  return output;\n};\nexport let resetBreadCrumb = function () {\n  var output = {};\n  output.breadcrumbConfig = appCtxService.getCtx('breadCrumbConfig');\n  output.breadCrumbProvider = breadCrumbService.resetBreadcrumbProvider(output.breadcrumbConfig);\n  return output;\n};\nexport let updateDocumentTitles = function () {\n  if (appCtxService.ctx.location) {\n    document.title = appCtxService.ctx.location.titles.browserTitle + (appCtxService.ctx.location.titles.browserSubTitle ? ' - ' + appCtxService.ctx.location.titles.browserSubTitle : '');\n  }\n};\nexport let constructTabs = function (subPages) {\n  var subLocationTabs = [];\n  var promises = [];\n\n  var constructTabFromState = function (name, pageId, priority, isSelected, stateName, selectWhen, isCloseable) {\n    return {\n      classValue: 'sw-tab-title',\n      name: name,\n      tabKey: name,\n      displayTab: true,\n      pageId: pageId,\n      priority: priority,\n      selectedTab: isSelected,\n      state: stateName,\n      selectWhen: selectWhen,\n      visible: true,\n      closeable: isCloseable,\n      closeCommandIcon: 'cmdCloseTab',\n      closeCallback: 'closeTab',\n      closeCommandTitle: 'Close Tab'\n    };\n  };\n\n  subPages.sort(function (obj1, obj2) {\n    return obj1.data.priority - obj2.data.priority;\n  });\n\n  _.forEach(subPages, function (page, index) {\n    var label = page.data.label;\n    var isCloseable = page.data.closeable;\n    var isSelectedTab = page.url === AwStateService.instance.current.url;\n    var priority = page.data.priority ? page.data.priority : 0;\n    var stateName = page.name;\n\n    if (label) {\n      var selectWhen = 'data.subLocationTabCond.currentTab === \\'' + stateName + '\\'';\n\n      if (_.isString(label)) {\n        subLocationTabs.push(constructTabFromState(label, index, priority, isSelectedTab, stateName, selectWhen, isCloseable));\n        promises.push(AwPromiseService.instance.when());\n      } else {\n        promises.push(localeService.getLocalizedText(label.source, label.key).then(function (result) {\n          subLocationTabs.push(constructTabFromState(result, index, priority, isSelectedTab, stateName, selectWhen, isCloseable));\n        }));\n      }\n    }\n  });\n\n  return AwPromiseService.instance.all(promises).then(function () {\n    return subLocationTabs;\n  });\n};\nexport let constructTabsAndGetActiveTab = subPages => {\n  return constructTabs(subPages).then(function (subLocationTabs) {\n    return {\n      subLocationTabs: subLocationTabs,\n      activeTab: getActiveSublocationTab(subLocationTabs)\n    };\n  });\n};\nexport let switchSubLocation = function (pageId, tabTitle, tabsModel, data) {\n  var title = tabTitle || pageId;\n\n  if (title && data && title === data.primaryActiveTab) {\n    return;\n  }\n\n  const {\n    dispatch\n  } = data;\n  var tabToSelect = tabsModel.find(function (tab) {\n    return tab.name === title;\n  });\n\n  if (tabToSelect) {\n    // When the tab widget is forced to update after the state has already changed it will still trigger callback\n    if (tabToSelect.state !== AwStateService.instance.current.name) {\n      dispatch && dispatch({\n        path: 'data.primaryActiveTab',\n        value: title\n      });\n\n      if (tabToSelect.params) {\n        AwStateService.instance.go(tabToSelect.state, tabToSelect.params);\n      } else {\n        AwStateService.instance.go(tabToSelect.state, AwStateService.instance.params);\n      }\n    }\n  } else {\n    logger.error('Missing tab was selected: ' + tabTitle);\n  }\n};\nexport let closeTab = function (subLocationTabs, removedTab) {\n  if (removedTab !== undefined) {\n    const index = subLocationTabs.indexOf(removedTab);\n\n    if (index >= 0) {\n      subLocationTabs.splice(index, 1);\n    }\n  }\n};\nconst awHeaderService = {\n  getTitles,\n  updateBreadCrumb,\n  resetBreadCrumb,\n  updateDocumentTitles,\n  constructTabs,\n  constructTabsAndGetActiveTab,\n  switchSubLocation,\n  getBreadcrumbConfig,\n  closeTab\n};\nexport default awHeaderService;","map":{"version":3,"names":["_","AwPromiseService","AwStateService","localeService","appCtxService","configurationService","breadCrumbService","logger","getActiveSublocationTab","contextName","getTitles","output","promises","push","getCfg","then","solution","browserTitle","forEach","key","property","instance","current","data","when","getLocalizedText","source","result","all","getBreadcrumbConfig","breadcrumbConfig","updateBreadCrumb","eventData","searchCriteria","params","label","getCtx","breadCrumbProvider","refreshBreadcrumbProvider","searchFilterCategories","searchFilterMap","resetBreadCrumb","resetBreadcrumbProvider","updateDocumentTitles","ctx","location","document","title","titles","browserSubTitle","constructTabs","subPages","subLocationTabs","constructTabFromState","name","pageId","priority","isSelected","stateName","selectWhen","isCloseable","classValue","tabKey","displayTab","selectedTab","state","visible","closeable","closeCommandIcon","closeCallback","closeCommandTitle","sort","obj1","obj2","page","index","isSelectedTab","url","isString","constructTabsAndGetActiveTab","activeTab","switchSubLocation","tabTitle","tabsModel","primaryActiveTab","dispatch","tabToSelect","find","tab","path","value","go","error","closeTab","removedTab","undefined","indexOf","splice","awHeaderService"],"sources":["C:/Users/rahukl57/Desktop/SWF/CreatingOwnComponentUsingJsx/node_modules/@swf/core/src/layout/src/js/awHeaderService.js"],"sourcesContent":["// Copyright (c) 2020 Siemens\n/**\n * @module js/awHeaderService\n */\nimport _ from 'lodash';\nimport AwPromiseService from 'js/awPromiseService';\nimport AwStateService from 'js/awStateService';\nimport localeService from 'js/localeService';\nimport appCtxService from 'js/appCtxService';\nimport configurationService from 'js/configurationService';\nimport breadCrumbService from 'js/breadCrumbService';\nimport logger from 'js/logger';\nimport { getActiveSublocationTab } from 'js/awSearchSublocationService';\n\nvar contextName = 'location.titles';\n\nexport let getTitles = function() {\n    var output = {};\n    var promises = [];\n\n    promises.push( configurationService.getCfg( 'solutionDef' ).then( function( solution ) {\n        var browserTitle = solution ? solution.browserTitle : 'Apollo';\n        output.browserTitle = browserTitle;\n        return output;\n    } ) );\n\n    [ 'browserSubTitle', 'headerTitle' ].forEach( function( key ) {\n        var property = AwStateService.instance.current.data[ key ];\n        if( property ) {\n            if( typeof property === 'string' ) {\n                output[ key ] = property;\n                promises.push( AwPromiseService.instance.when( output ) );\n            } else {\n                promises.push( localeService.getLocalizedText( property.source, property.key )\n                    .then( function( result ) {\n                        output[ key ] = result;\n                        return output;\n                    } ) );\n            }\n        }\n    } );\n\n    return AwPromiseService.instance.all( promises ).then( function() {\n        return output;\n    } );\n};\n\nexport const getBreadcrumbConfig = () => {\n    return AwStateService.instance.current.data ? AwStateService.instance.current.data.breadcrumbConfig : {};\n};\n\nexport let updateBreadCrumb = function( eventData ) {\n    var output = {};\n    const searchCriteria = AwStateService.instance.current.data && AwStateService.instance.current.data.params ? AwStateService.instance.current.data.params : '';\n    const label = AwStateService.instance.current.data && AwStateService.instance.current.data.label ? AwStateService.instance.current.data.label : '';\n    output.breadcrumbConfig = appCtxService.getCtx( 'breadCrumbConfig' );\n    output.breadCrumbProvider = breadCrumbService.refreshBreadcrumbProvider( output.breadcrumbConfig,\n        appCtxService.getCtx( 'mselected' ),\n        eventData.searchFilterCategories, eventData.searchFilterMap,\n        searchCriteria, label, true );\n\n    return output;\n};\n\nexport let resetBreadCrumb = function() {\n    var output = {};\n    output.breadcrumbConfig = appCtxService.getCtx( 'breadCrumbConfig' );\n    output.breadCrumbProvider = breadCrumbService.resetBreadcrumbProvider( output.breadcrumbConfig );\n    return output;\n};\n\nexport let updateDocumentTitles = function() {\n    if( appCtxService.ctx.location ) {\n        document.title = appCtxService.ctx.location.titles.browserTitle +\n             ( appCtxService.ctx.location.titles.browserSubTitle ? ' - ' + appCtxService.ctx.location.titles.browserSubTitle : '' );\n    }\n};\n\nexport let constructTabs = function( subPages ) {\n    var subLocationTabs = [];\n    var promises = [];\n\n    var constructTabFromState = function( name, pageId, priority, isSelected, stateName, selectWhen, isCloseable ) {\n        return {\n            classValue: 'sw-tab-title',\n            name: name,\n            tabKey: name,\n            displayTab: true,\n            pageId: pageId,\n            priority: priority,\n            selectedTab: isSelected,\n            state: stateName,\n            selectWhen: selectWhen,\n            visible: true,\n            closeable: isCloseable,\n            closeCommandIcon: 'cmdCloseTab',\n            closeCallback: 'closeTab',\n            closeCommandTitle: 'Close Tab'\n        };\n    };\n\n    subPages.sort( function( obj1, obj2 ) {\n        return obj1.data.priority - obj2.data.priority;\n    } );\n\n    _.forEach( subPages, function( page, index ) {\n        var label = page.data.label;\n        var isCloseable = page.data.closeable;\n        var isSelectedTab = page.url === AwStateService.instance.current.url;\n        var priority = page.data.priority ? page.data.priority : 0;\n        var stateName = page.name;\n        if( label ) {\n            var selectWhen = 'data.subLocationTabCond.currentTab === \\'' + stateName + '\\'';\n            if( _.isString( label ) ) {\n                subLocationTabs.push( constructTabFromState( label, index, priority, isSelectedTab, stateName, selectWhen, isCloseable ) );\n                promises.push( AwPromiseService.instance.when() );\n            } else {\n                promises.push( localeService.getLocalizedText( label.source, label.key ).then( function( result ) {\n                    subLocationTabs.push( constructTabFromState( result, index, priority, isSelectedTab, stateName, selectWhen, isCloseable ) );\n                } ) );\n            }\n        }\n    } );\n\n    return AwPromiseService.instance.all( promises ).then( function() {\n        return subLocationTabs;\n    } );\n};\n\nexport let constructTabsAndGetActiveTab = ( subPages ) => {\n    return constructTabs( subPages ).then( function( subLocationTabs ) {\n        return {\n            subLocationTabs: subLocationTabs,\n            activeTab: getActiveSublocationTab( subLocationTabs )\n        };\n    } );\n};\n\nexport let switchSubLocation = function( pageId, tabTitle, tabsModel, data ) {\n    var title = tabTitle || pageId;\n    if( title && data && title === data.primaryActiveTab ) {\n        return;\n    }\n    const { dispatch } = data;\n    var tabToSelect = tabsModel.find( function( tab ) {\n        return tab.name === title;\n    } );\n\n    if( tabToSelect ) {\n        // When the tab widget is forced to update after the state has already changed it will still trigger callback\n        if( tabToSelect.state !== AwStateService.instance.current.name ) {\n            dispatch && dispatch( { path: 'data.primaryActiveTab', value: title } );\n            if( tabToSelect.params ) {\n                AwStateService.instance.go( tabToSelect.state, tabToSelect.params );\n            } else {\n                AwStateService.instance.go( tabToSelect.state, AwStateService.instance.params );\n            }\n        }\n    } else {\n        logger.error( 'Missing tab was selected: ' + tabTitle );\n    }\n};\nexport let closeTab = function( subLocationTabs, removedTab ) {\n    if( removedTab !== undefined ) {\n        const index = subLocationTabs.indexOf( removedTab );\n        if( index >= 0 ) {\n            subLocationTabs.splice( index, 1 );\n        }\n    }\n};\n\nconst awHeaderService = {\n    getTitles,\n    updateBreadCrumb,\n    resetBreadCrumb,\n    updateDocumentTitles,\n    constructTabs,\n    constructTabsAndGetActiveTab,\n    switchSubLocation,\n    getBreadcrumbConfig,\n    closeTab\n};\nexport default awHeaderService;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}