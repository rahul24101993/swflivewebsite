{"ast":null,"code":"// Copyright (c) 2020 Siemens\n\n/**\n * This service is for js based momentum scrolling for touch scrolling.\n *\n * @module js/splmTableMomentumScrolling\n */\n\n/**\n * Momentum Scrolling.\n *\n * @constructor\n */\nvar SPLMTableMomentumScrolling = function () {\n  var self = this;\n  var _pinCanvasElement = null;\n  var _scrollCanvasElement = null;\n\n  var _referenceY;\n\n  var _referenceX;\n\n  var _velocityX;\n\n  var _velocityY;\n\n  var _timestamp;\n\n  var _ticker;\n\n  var _amplitudeX;\n\n  var _amplitudeY;\n\n  var _deltaX = 0;\n  var _deltaY = 0;\n\n  var yPosition = function (e) {\n    return e.touches[0].pageY;\n  };\n\n  var xPosition = function (e) {\n    return e.touches[0].pageX;\n  };\n\n  var scroll = function () {\n    if (_scrollCanvasElement.scrollTop - _deltaY >= 0) {\n      _scrollCanvasElement.scrollTop -= _deltaY;\n    }\n\n    if (_scrollCanvasElement.scrollLeft - _deltaX >= 0) {\n      _scrollCanvasElement.scrollLeft -= _deltaX;\n    }\n  };\n\n  var track = function () {\n    var now = Date.now();\n    var elapsed = now - _timestamp;\n    _timestamp = now;\n    var vY = 1000 * _deltaY / (1 + elapsed);\n    var vX = 1000 * _deltaX / (1 + elapsed);\n    _deltaY = 0;\n    _deltaX = 0;\n    _velocityY = Math.round(0.4 * vY + 0.2 * _velocityY);\n    _velocityX = Math.round(0.4 * vX + 0.2 * _velocityX);\n  };\n\n  var autoScroll = function () {\n    if (_amplitudeY || _amplitudeX) {\n      var elapsed = Date.now() - _timestamp;\n\n      var timeConstant = 325;\n      _deltaY = -_amplitudeY * Math.exp(-elapsed / timeConstant);\n      _deltaX = -_amplitudeX * Math.exp(-elapsed / timeConstant);\n\n      if (_deltaY > 0.5 || _deltaY < -0.5 || _deltaX > 0.5 || _deltaX < -0.5) {\n        scroll();\n        requestAnimationFrame(autoScroll);\n      } else {\n        scroll();\n      }\n    }\n  };\n\n  var tap = function (e) {\n    _referenceY = yPosition(e);\n    _referenceX = xPosition(e);\n    _velocityY = 0;\n    _velocityX = 0;\n    _amplitudeY = 0;\n    _amplitudeX = 0;\n    _timestamp = Date.now();\n    clearInterval(_ticker);\n    _ticker = setInterval(track, 50);\n  };\n\n  var drag = function (e) {\n    if (_scrollCanvasElement.scrollTop - (_referenceY - yPosition(e)) <= 0 || _scrollCanvasElement.scrollLeft - (_referenceX - xPosition(e)) <= 0) {\n      e.preventDefault();\n      e.stopPropagation();\n    } else {\n      var y = yPosition(e);\n      _deltaY = _referenceY - y;\n      _referenceY = y;\n      var x = xPosition(e);\n      _deltaX = _referenceX - x;\n      _referenceX = x;\n    }\n  };\n\n  var release = function () {\n    clearInterval(_ticker);\n\n    if (_velocityY > 10 || _velocityY < -10 || _velocityX > 10 || _velocityX < -10) {\n      _amplitudeY = 0.6 * _velocityY;\n      _amplitudeX = 0.6 * _velocityX;\n      _timestamp = Date.now();\n      requestAnimationFrame(autoScroll);\n    }\n  };\n\n  self.enable = function (pinCanvasElement, scrollCanvasElement) {\n    if (pinCanvasElement !== null) {\n      _pinCanvasElement = pinCanvasElement;\n\n      _pinCanvasElement.addEventListener('touchstart', tap, {\n        passive: true\n      });\n\n      _pinCanvasElement.addEventListener('touchmove', drag, {\n        passive: true\n      });\n\n      _pinCanvasElement.addEventListener('touchend', release, {\n        passive: true\n      });\n    }\n\n    if (scrollCanvasElement !== null) {\n      _scrollCanvasElement = scrollCanvasElement;\n\n      _scrollCanvasElement.addEventListener('touchstart', tap, {\n        passive: true\n      });\n\n      _scrollCanvasElement.addEventListener('touchmove', drag, {\n        passive: true\n      });\n\n      _scrollCanvasElement.addEventListener('touchend', release, {\n        passive: true\n      });\n    }\n  };\n\n  self.disable = function () {\n    if (_pinCanvasElement !== null) {\n      _pinCanvasElement.removeEventListener('touchstart', tap);\n\n      _pinCanvasElement.removeEventListener('touchmove', drag);\n\n      _pinCanvasElement.removeEventListener('touchend', release);\n\n      _pinCanvasElement = null;\n    }\n\n    if (_scrollCanvasElement !== null) {\n      _scrollCanvasElement.removeEventListener('touchstart', tap);\n\n      _scrollCanvasElement.removeEventListener('touchmove', drag);\n\n      _scrollCanvasElement.removeEventListener('touchend', release);\n\n      _scrollCanvasElement = null;\n    }\n  };\n};\n\n_c = SPLMTableMomentumScrolling;\nexport default SPLMTableMomentumScrolling;\n\nvar _c;\n\n$RefreshReg$(_c, \"SPLMTableMomentumScrolling\");","map":{"version":3,"names":["SPLMTableMomentumScrolling","self","_pinCanvasElement","_scrollCanvasElement","_referenceY","_referenceX","_velocityX","_velocityY","_timestamp","_ticker","_amplitudeX","_amplitudeY","_deltaX","_deltaY","yPosition","e","touches","pageY","xPosition","pageX","scroll","scrollTop","scrollLeft","track","now","Date","elapsed","vY","vX","Math","round","autoScroll","timeConstant","exp","requestAnimationFrame","tap","clearInterval","setInterval","drag","preventDefault","stopPropagation","y","x","release","enable","pinCanvasElement","scrollCanvasElement","addEventListener","passive","disable","removeEventListener"],"sources":["C:/Users/rahukl57/Desktop/SWF/CreatingOwnComponentUsingJsx/node_modules/@swf/core/src/pltable/src/js/splmTableMomentumScrolling.js"],"sourcesContent":["// Copyright (c) 2020 Siemens\n\n/**\n * This service is for js based momentum scrolling for touch scrolling.\n *\n * @module js/splmTableMomentumScrolling\n */\n\n/**\n * Momentum Scrolling.\n *\n * @constructor\n */\nvar SPLMTableMomentumScrolling = function() {\n    var self = this;\n    var _pinCanvasElement = null;\n    var _scrollCanvasElement = null;\n    var _referenceY;\n    var _referenceX;\n    var _velocityX;\n    var _velocityY;\n    var _timestamp;\n    var _ticker;\n    var _amplitudeX;\n    var _amplitudeY;\n    var _deltaX = 0;\n    var _deltaY = 0;\n\n    var yPosition = function( e ) {\n        return e.touches[ 0 ].pageY;\n    };\n\n    var xPosition = function( e ) {\n        return e.touches[ 0 ].pageX;\n    };\n\n    var scroll = function() {\n       if( _scrollCanvasElement.scrollTop - _deltaY >= 0 ) {\n           _scrollCanvasElement.scrollTop -= _deltaY;\n       }\n       if( _scrollCanvasElement.scrollLeft - _deltaX >= 0 ) {\n           _scrollCanvasElement.scrollLeft -= _deltaX;\n       }\n    };\n\n    var track = function() {\n        var now = Date.now();\n        var elapsed = now - _timestamp;\n        _timestamp = now;\n\n        var vY = 1000 * _deltaY / ( 1 + elapsed );\n        var vX = 1000 * _deltaX / ( 1 + elapsed );\n        _deltaY = 0;\n        _deltaX = 0;\n        _velocityY = Math.round( 0.4 * vY + 0.2 * _velocityY );\n        _velocityX = Math.round( 0.4 * vX + 0.2 * _velocityX );\n    };\n\n    var autoScroll = function() {\n         if( _amplitudeY || _amplitudeX ) {\n             var elapsed = Date.now() - _timestamp;\n             var timeConstant = 325;\n             _deltaY = -_amplitudeY * Math.exp( -elapsed / timeConstant );\n             _deltaX = -_amplitudeX * Math.exp( -elapsed / timeConstant );\n             if( _deltaY > 0.5 || _deltaY < -0.5 || _deltaX > 0.5 || _deltaX < -0.5 ) {\n                 scroll();\n                 requestAnimationFrame( autoScroll );\n             } else {\n                 scroll();\n             }\n         }\n    };\n\n    var tap = function( e ) {\n        _referenceY = yPosition( e );\n        _referenceX = xPosition( e );\n        _velocityY = 0;\n        _velocityX = 0;\n        _amplitudeY = 0;\n        _amplitudeX = 0;\n        _timestamp = Date.now();\n        clearInterval( _ticker );\n        _ticker = setInterval( track, 50 );\n    };\n\n    var drag = function( e ) {\n        if( _scrollCanvasElement.scrollTop - ( _referenceY - yPosition( e ) ) <= 0 || _scrollCanvasElement.scrollLeft - ( _referenceX - xPosition( e ) ) <= 0 ) {\n            e.preventDefault();\n            e.stopPropagation();\n        } else {\n            var y = yPosition( e );\n            _deltaY = _referenceY - y;\n            _referenceY = y;\n\n            var x = xPosition( e );\n            _deltaX = _referenceX - x;\n            _referenceX = x;\n        }\n    };\n\n    var release = function() {\n         clearInterval( _ticker );\n         if( _velocityY > 10 || _velocityY < -10 || _velocityX > 10 || _velocityX < -10 ) {\n             _amplitudeY = 0.6 * _velocityY;\n             _amplitudeX = 0.6 * _velocityX;\n             _timestamp = Date.now();\n             requestAnimationFrame( autoScroll );\n         }\n    };\n\n    self.enable = function( pinCanvasElement, scrollCanvasElement ) {\n        if( pinCanvasElement !== null ) {\n            _pinCanvasElement = pinCanvasElement;\n            _pinCanvasElement.addEventListener( 'touchstart', tap, { passive: true } );\n            _pinCanvasElement.addEventListener( 'touchmove', drag, { passive: true }  );\n            _pinCanvasElement.addEventListener( 'touchend', release, { passive: true }  );\n        }\n\n        if( scrollCanvasElement !== null ) {\n            _scrollCanvasElement = scrollCanvasElement;\n            _scrollCanvasElement.addEventListener( 'touchstart', tap, { passive: true } );\n            _scrollCanvasElement.addEventListener( 'touchmove', drag, { passive: true }  );\n            _scrollCanvasElement.addEventListener( 'touchend', release, { passive: true }  );\n        }\n    };\n\n    self.disable = function() {\n        if( _pinCanvasElement !== null ) {\n            _pinCanvasElement.removeEventListener( 'touchstart', tap );\n            _pinCanvasElement.removeEventListener( 'touchmove', drag );\n            _pinCanvasElement.removeEventListener( 'touchend', release );\n            _pinCanvasElement = null;\n        }\n\n        if( _scrollCanvasElement !== null ) {\n            _scrollCanvasElement.removeEventListener( 'touchstart', tap );\n            _scrollCanvasElement.removeEventListener( 'touchmove', drag );\n            _scrollCanvasElement.removeEventListener( 'touchend', release );\n            _scrollCanvasElement = null;\n        }\n    };\n};\n\nexport default SPLMTableMomentumScrolling;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}