{"ast":null,"code":"// Copyright (c) 2021 Siemens\nimport sanitizer from'js/sanitizer';import{getValClass}from'js/componentUtils';/**\n * render function for AwToggleButtonVal\n * @param {*} param0 context for render function interpolation\n * @returns {JSX.Element} react component\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";let onChangeActionHandler=undefined;let getAriaChecked=undefined;export const awToggleButtonValRenderFunction=props=>{const{viewModel,ctxMin,actions,i18n,fields,grids,formProp,messages,...prop}=props;let filteredAttrs=sanitizer.sanitizeHTMLTagProps(prop,'input');const inputClass=getValClass(prop);const doAction=ev=>{prop.onChange(ev);return prop.action?prop.action(ev):'';};const onKeyPress=(event,prop)=>{if(prop.fielddata.displayValsModel&&prop.fielddata.displayValsModel.length>0){for(let index=0;index<prop.fielddata.displayValsModel.length;index++){if(prop.fielddata.displayValsModel[index].isInEditMode){event.updateArray=true;event.index=index;break;}}}if(event.key==='Enter'){event.preventDefault();prop.onChange(event);}};if(prop.typex==='BOOLEANARRAY'){let ariaChecked=getAriaChecked===undefined?false:getAriaChecked();return/*#__PURE__*/_jsx(\"div\",{className:\"sw-toggle-val-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sw-toggle-val\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:prop.value,\"data-locator\":prop.label,\"aria-checked\":ariaChecked,onChange:onChangeActionHandler,onKeyPress:event=>onKeyPress(event,prop)}),/*#__PURE__*/_jsx(\"span\",{className:\"slider round\"})]})});}return/*#__PURE__*/_jsxs(\"span\",{className:\"sw-toggle-val\",children:[/*#__PURE__*/_jsx(\"input\",{...filteredAttrs,type:\"checkbox\",\"aria-checked\":prop.value,onChange:doAction,className:inputClass}),/*#__PURE__*/_jsx(\"span\",{className:\"slider round\"})]});};export const initialize=(props,_ref)=>{let{dispatch,dirty}=_ref;let currentVal=undefined;if(props.typex==='BOOLEANARRAY'){onChangeActionHandler=event=>{currentVal=event===undefined?false:event.target.checked;dispatch({path:'data.dirty',value:dirty++});return()=>{return currentVal;};};getAriaChecked=onChangeActionHandler();}};","map":null,"metadata":{},"sourceType":"module"}