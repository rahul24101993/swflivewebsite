{"ast":null,"code":"// Copyright (c) 2020 Siemens\n\n/* eslint-env es6 */\n\n/* eslint-disable require-jsdoc */\nimport _ from 'lodash';\nimport awDateFilterService from 'js/awDateFilterService';\nimport awLimitToFilterService from 'js/awLimitToFilterService';\nimport awNumberAndCurrencyFilterService from 'js/awNumberAndCurrencyFilterService';\nimport awOrderByFilterService from 'js/awOrderByFilterService';\n/**\n * This module provides core angularJS service abstraction over filter service.\n *\n * @module js/awFilterService\n */\n\nlet filters = {};\n/**\n * filter\n * @param {String} filterName  filtername\n * @returns {Function} filterFunc\n */\n\nlet getFilter = filterName => {\n  return filters[filterName];\n};\n\nlet register = (filterName, filterFunction) => {\n  if (filters[filterName]) {\n    throw new Error(`awFilterService, filter ${filterName} is already registered!`);\n  }\n\n  filters[filterName] = filterFunction;\n};\n\nfunction dateFilter(date, format, timezone) {\n  return awDateFilterService.getFilteredDate(date, format, timezone);\n}\n\nfunction filterFilter(array, expression) {\n  return _.filter(array, expression);\n}\n\nfunction lowerCaseFilter(text) {\n  return text.toLowerCase();\n}\n\nfunction upperCaseFilter(text) {\n  return text.toUpperCase();\n}\n\nfunction filterInFiltersSearch(items, text) {\n  if (text === undefined || !text || text.length === 0) {\n    return items;\n  }\n\n  var _text = text;\n\n  if (_text.indexOf('*') > -1) {\n    _text = _text.replace(/[*]/gi, ' ');\n  } // split search text on space\n\n\n  var searchTerms = _text.split(' '); // search for single terms.\n  // this reduces the item list step by step\n\n\n  searchTerms.forEach(function (term) {\n    if (term && term.length) {\n      items = filterFilter(items, {\n        displayName: term\n      });\n    }\n  });\n  return _.orderBy(items, 'displayName');\n}\n\nfunction limitToFilter(input, limit, begin) {\n  return awLimitToFilterService.limitToFilter(input, limit, begin);\n}\n\nfunction numberFilter(number, fractionSize) {\n  return awNumberAndCurrencyFilterService.numberFilter(number, fractionSize);\n}\n\nfunction currencyFilter(amount, currencySymbol, fractionSize) {\n  return awNumberAndCurrencyFilterService.currencyFilter(amount, currencySymbol, fractionSize);\n}\n\nfunction jsonFilter(object, spacing) {\n  if (typeof object === 'undefined') {\n    return undefined;\n  }\n\n  if (typeof spacing === 'undefined') {\n    spacing = 2;\n  }\n\n  if (typeof spacing !== 'number') {\n    spacing = spacing ? 2 : null;\n  }\n\n  return JSON.stringify(object, (key, value) => {\n    var val = value;\n\n    if (value && value.window === value) {\n      val = 'WINDOW';\n    } else if (value && window.document === value) {\n      val = 'DOCUMENT';\n    }\n\n    return val;\n  }, spacing);\n}\n\nfunction orderByFilter(array, sortPredicate, reverseOrder, compareFn) {\n  return awOrderByFilterService.getOrderByFilter(array, sortPredicate, reverseOrder, compareFn);\n}\n\nregister('date', dateFilter);\nregister('filter', filterFilter);\nregister('uppercase', upperCaseFilter);\nregister('lowercase', lowerCaseFilter);\nregister('limitTo', limitToFilter);\nregister('json', jsonFilter);\nregister('number', numberFilter);\nregister('currency', currencyFilter);\nregister('orderBy', orderByFilter);\nregister('filterInFiltersSearch', filterInFiltersSearch);\nexport default {\n  instance: getFilter,\n  register\n};","map":{"version":3,"sources":["C:/Users/rahukl57/Desktop/SWF/CreatingOwnComponentUsingJsx/node_modules/@swf/core/src/services/src/js/awFilterService.js"],"names":["filters","getFilter","filterName","register","awDateFilterService","_","text","_text","searchTerms","term","items","filterFilter","displayName","awLimitToFilterService","awNumberAndCurrencyFilterService","spacing","val","value","window","awOrderByFilterService","instance"],"mappings":"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","sourcesContent":["// Copyright (c) 2020 Siemens\n/* eslint-env es6 */\n/* eslint-disable require-jsdoc */\nimport _ from 'lodash';\nimport awDateFilterService from 'js/awDateFilterService';\nimport awLimitToFilterService from 'js/awLimitToFilterService';\nimport awNumberAndCurrencyFilterService from 'js/awNumberAndCurrencyFilterService';\nimport awOrderByFilterService from 'js/awOrderByFilterService';\n/**\n * This module provides core angularJS service abstraction over filter service.\n *\n * @module js/awFilterService\n */\n\nlet filters = {};\n\n/**\n * filter\n * @param {String} filterName  filtername\n * @returns {Function} filterFunc\n */\nlet getFilter = ( filterName ) => {\n    return filters[ filterName ];\n};\n\nlet register = ( filterName, filterFunction ) => {\n    if( filters[ filterName ] ) {\n        throw new Error( `awFilterService, filter ${filterName} is already registered!` );\n    }\n    filters[ filterName ] = filterFunction;\n};\n\nfunction dateFilter( date, format, timezone ) {\n    return awDateFilterService.getFilteredDate( date, format, timezone );\n}\n\nfunction filterFilter( array, expression ) {\n    return _.filter( array, expression );\n}\n\nfunction lowerCaseFilter( text ) {\n    return text.toLowerCase();\n}\n\nfunction upperCaseFilter( text ) {\n    return text.toUpperCase();\n}\n\nfunction filterInFiltersSearch( items, text ) {\n    if( text === undefined || !text || text.length === 0 ) {\n        return items;\n    }\n    var _text = text;\n    if( _text.indexOf( '*' ) > -1 ) {\n        _text = _text.replace( /[*]/gi, ' ' );\n    }\n    // split search text on space\n    var searchTerms = _text.split( ' ' );\n\n    // search for single terms.\n    // this reduces the item list step by step\n    searchTerms.forEach( function( term ) {\n        if( term && term.length ) {\n            items = filterFilter( items, {\n                displayName: term\n            } );\n        }\n    } );\n\n    return _.orderBy( items, 'displayName' );\n}\n\nfunction limitToFilter( input, limit, begin ) {\n    return awLimitToFilterService.limitToFilter( input, limit, begin );\n}\n\nfunction numberFilter( number, fractionSize ) {\n    return awNumberAndCurrencyFilterService.numberFilter( number, fractionSize );\n}\n\nfunction currencyFilter( amount, currencySymbol, fractionSize ) {\n    return awNumberAndCurrencyFilterService.currencyFilter( amount, currencySymbol, fractionSize );\n}\n\nfunction jsonFilter( object, spacing ) {\n    if( typeof object === 'undefined' ) {\n        return undefined;\n    }\n    if( typeof spacing === 'undefined' ) {\n        spacing = 2;\n    }\n    if( typeof spacing !== 'number' ) {\n        spacing = spacing ? 2 : null;\n    }\n    return JSON.stringify( object, ( key, value ) => {\n        var val = value;\n        if( value && value.window === value ) {\n            val = 'WINDOW';\n        } else if( value && window.document === value ) {\n            val = 'DOCUMENT';\n        }\n        return val;\n    }, spacing );\n}\n\nfunction orderByFilter( array, sortPredicate, reverseOrder, compareFn ) {\n    return awOrderByFilterService.getOrderByFilter( array, sortPredicate, reverseOrder, compareFn );\n}\nregister( 'date', dateFilter );\nregister( 'filter', filterFilter );\nregister( 'uppercase', upperCaseFilter );\nregister( 'lowercase', lowerCaseFilter );\nregister( 'limitTo', limitToFilter );\nregister( 'json', jsonFilter );\nregister( 'number', numberFilter );\nregister( 'currency', currencyFilter );\nregister( 'orderBy', orderByFilter );\nregister( 'filterInFiltersSearch', filterInFiltersSearch );\n\nexport default {\n    instance: getFilter,\n    register\n};\n"]},"metadata":{},"sourceType":"module"}