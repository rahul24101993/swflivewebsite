{"ast":null,"code":"// Copyright (c) 2021 Siemens\nimport AwIconButton from'viewmodel/AwIconButtonViewModel';import AwPropertyLovVal from'viewmodel/AwPropertyLovValViewModel';import{getValClass}from'js/componentUtils';import commandPanelService from'js/commandPanel.service';/**\n * render function for AwList\n * @param {*} param0 context for render function interpolation\n * @returns {JSX.Element} react component\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const awObjectValRenderFunction=props=>{const{viewModel,ctxMin,actions,i18n,fields,grids,formProp,messages,...prop}=props;const{hasLov,isArray}=prop.fielddata;if(hasLov){return/*#__PURE__*/_jsx(AwPropertyLovVal,{...prop});}const uiValue=prop.fielddata.uiValue;if(uiValue===null||uiValue===undefined||uiValue.length===0||isArray){return/*#__PURE__*/ (// if no uiValue, show add button\n_jsx(\"div\",{className:\"sw-fit-content\",children:/*#__PURE__*/_jsx(AwIconButton,{command:fields.addObject,className:getValClass(prop)})}));}return/*#__PURE__*/_jsxs(\"span\",{className:\"aw-layout-flexRow align-center aw-jswidgets-objectLinkContainer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"aw-jswidgets-objectLink\",children:uiValue}),/*#__PURE__*/_jsx(AwIconButton,{command:fields.removeObject,className:getValClass(prop)})]});};export const addObjectHandler=props=>{const{vmo,name,activeState}=props;let uiProperty;if(vmo){uiProperty=vmo.props[name];}else{uiProperty=props;}if(uiProperty.propApi&&uiProperty.propApi.showAddObject){uiProperty.propApi.showAddObject(uiProperty.propertyName);}else{let filterType;if(uiProperty.propertyDescriptor&&uiProperty.propertyDescriptor.constantsMap&&uiProperty.propertyDescriptor.constantsMap.ReferencedTypeName){filterType=uiProperty.referenceTypeName!==undefined&&uiProperty.referenceTypeName.length>0?uiProperty.referenceTypeName:uiProperty.propertyDescriptor.constantsMap.ReferencedTypeName;}let searchFilter;if(props&&props.parameterMap){searchFilter=props.parameterMap.searchFilter;}let context={title:uiProperty.propertyDisplayName,recreatePanel:true,supportGoBack:true,isolateMode:true,viewModelProperty:{onChange:props.onChange},addTypeRef:true,filterTypes:filterType,searchFilter:searchFilter,vmo:vmo};// add reference title: Add <reference property>\ncontext.title=uiProperty.propertyDisplayName;if(activeState&&activeState.activeView){let newActiveState={...activeState.getValue()};newActiveState.activeView='AddReferenceSub';newActiveState.context=context;activeState.update(newActiveState);}else{// Reference view can be leverage to pass a custom component\nif(props.referenceView){commandPanelService.activateCommandPanel(props.referenceView,'aw_toolsAndInfo',context);}else{commandPanelService.activateCommandPanel('Awp0AddReference','aw_toolsAndInfo',context);}}}};export const removeObjectHandler=props=>{event.preventDefault();props.onChange({target:{value:{uid:''}}});};","map":null,"metadata":{},"sourceType":"module"}