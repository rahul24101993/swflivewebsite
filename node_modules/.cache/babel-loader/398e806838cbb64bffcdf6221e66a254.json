{"ast":null,"code":"// Compiler result to JSON file\nimport{createComponent}from'js/declViewModelService';import{registerDynImportEntry}from'js/moduleLoader';import AwParseService from'js/awParseService';import AwFilterService from'js/awFilterService';import{getField}from'js/utils';import{Fragment}from'react';let filterSer=AwFilterService.instance;import AwPopupCommandBar from'viewmodel/AwPopupCommandBarViewModel';import AwFlexColumn from'viewmodel/AwFlexColumnViewModel';import AwLabel from'viewmodel/AwLabelViewModel';import AwDate from'viewmodel/AwDateViewModel';import AwIcon from'viewmodel/AwIconViewModel';import AwTogglebutton from'viewmodel/AwTogglebuttonViewModel';import AwFlexRow from'viewmodel/AwFlexRowViewModel';import AwList from'viewmodel/AwListViewModel';import AwListCheckboxItem from'viewmodel/AwListCheckboxItemViewModel';import AwButton from'viewmodel/AwButtonViewModel';import AwI18n from'viewmodel/AwI18nViewModel';import{ExistWhen,AwEnterKey,AwClass}from'js/hocCollection';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const DivExistWhen=ExistWhen('div');const AwDateAwEnterKey=AwEnterKey(AwDate);const AwLabelExistWhen=ExistWhen(AwLabel);const AwButtonAwClass=AwClass(AwButton);/*\nctx imports\n*/const ctxImportObj={};/*\ndynamic import\n */registerDynImportEntry('js/awColumnFilterService',()=>import('js/awColumnFilterService'));;/*\nview model\n */const declViewModelJson={\"schemaVersion\":\"1.0.0\",\"actions\":{\"reveal\":{\"actionType\":\"batchJob\",\"steps\":[{\"action\":\"initializeMenu\"},{\"action\":\"checkForFilterDisability\"},{\"action\":\"initializeFacetDataProvider\",\"condition\":\"data.showFilters.dbValue === true && ctx.columnMenuContext.isFacetLoading === false\"}]},\"initializeMenu\":{\"actionType\":\"JSFunction\",\"method\":\"initializeMenu\",\"inputData\":{\"column\":\"{{subPanelContext.gridContext.columnDef}}\",\"columnFilterData\":\"{{subPanelContext.gridContext.columnDef.filter}}\",\"columnMenuData\":\"{{subPanelContext.gridContext.columnDef.filter.columnMenuData}}\"},\"outputData\":{\"startDate.dbValue\":\"columnMenuData.startDate.dbValue\",\"startDate.value\":\"columnMenuData.startDate.dbValue\",\"endDate.dbValue\":\"columnMenuData.endDate.dbValue\",\"endDate.value\":\"columnMenuData.endDate.dbValue\",\"showFilters.dbValue\":\"columnMenuData.showFilterFacets\"},\"deps\":\"js/awColumnFilterService\"},\"initializeFacetDataProvider\":{\"actionType\":\"dataProvider\",\"method\":\"facetDataProvider\"},\"filterAction\":{\"actionType\":\"JSFunction\",\"method\":\"doDateFiltering\",\"inputData\":{\"column\":\"{{subPanelContext.gridContext.columnDef}}\",\"viewModelData\":\"{{data.data}}\",\"facetDataProvider\":\"{{data.dataProviders.facetDataProvider}}\",\"gridContextDispatcher\":\"{{subPanelContext.gridContextDispatcher}}\"},\"outputData\":{\"newFilters\":\"\"},\"deps\":\"js/awColumnFilterService\"},\"dateFilterInputChangedBatch\":{\"actionType\":\"batchJob\",\"steps\":[{\"action\":\"dateFilterInputChanged\"},{\"action\":\"initializeFacetValuesDebounce\",\"condition\":\"data.showFilters.dbValue === true && ctx.columnMenuContext.isFacetLoading === false\"}]},\"dateFilterInputChanged\":{\"actionType\":\"JSFunction\",\"method\":\"dateFilterInputChanged\",\"inputData\":{\"gridContextDispatcher\":\"{{subPanelContext.gridContextDispatcher}}\",\"column\":\"{{subPanelContext.gridContext.columnDef}}\",\"viewModelData\":\"{{data.data}}\",\"isBulkEditing\":\"{{subPanelContext.gridContext.isBulkediting}}\",\"isFilterDisabled\":\"{{fields.isFilterDisabled}}\"},\"deps\":\"js/awColumnFilterService\"},\"initializeFacetValues\":{\"actionType\":\"JSFunctionAsync\",\"method\":\"loadFacetValues\",\"inputData\":{\"gridContextDispatcher\":\"{{subPanelContext.gridContextDispatcher}}\",\"column\":\"{{subPanelContext.gridContext.columnDef}}\",\"viewModel\":\"{{data}}\",\"subPanelContext\":\"{{subPanelContext}}\",\"facetDataProvider\":\"{{data.dataProviders.facetDataProvider}}\",\"reloadValues\":true,\"isFilterDisabled\":\"{{fields.isFilterDisabled}}\"},\"outputData\":{\"searchResults\":\"\"},\"deps\":\"js/awColumnFilterService\"},\"initializeFacetValuesDebounce\":{\"actionType\":\"JSFunctionAsync\",\"method\":\"updateFacetValuesDebounce\",\"inputData\":{\"gridContextDispatcher\":\"{{subPanelContext.gridContextDispatcher}}\",\"column\":\"{{subPanelContext.gridContext.columnDef}}\",\"viewModel\":\"{{data}}\",\"subPanelContext\":\"{{subPanelContext}}\",\"facetDataProvider\":\"{{data.dataProviders.facetDataProvider}}\",\"reloadValues\":true,\"isFilterDisabled\":\"{{fields.isFilterDisabled}}\"},\"deps\":\"js/awColumnFilterService\"},\"loadFacetValues\":{\"actionType\":\"JSFunctionAsync\",\"method\":\"loadFacetValues\",\"inputData\":{\"gridContextDispatcher\":\"{{subPanelContext.gridContextDispatcher}}\",\"column\":\"{{subPanelContext.gridContext.columnDef}}\",\"viewModel\":\"{{data}}\",\"subPanelContext\":\"{{subPanelContext}}\",\"facetDataProvider\":\"{{data.dataProviders.facetDataProvider}}\",\"reloadValues\":false,\"isFilterDisabled\":\"{{fields.isFilterDisabled}}\"},\"outputData\":{\"searchResults\":\"\"},\"deps\":\"js/awColumnFilterService\"},\"showFiltersToggleChangedBatch\":{\"actionType\":\"batchJob\",\"steps\":[{\"action\":\"showFiltersToggleChanged\"},{\"action\":\"initializeFacetDataProvider\",\"condition\":\"data.showFilters.dbValue === true && ctx.columnMenuContext.isFacetLoading === false\"}]},\"showFiltersToggleChanged\":{\"actionType\":\"JSFunction\",\"method\":\"showFiltersToggleChanged\",\"inputData\":{\"gridContextDispatcher\":\"{{subPanelContext.gridContextDispatcher}}\",\"column\":\"{{subPanelContext.gridContext.columnDef}}\",\"viewModelData\":\"{{data.data}}\"},\"deps\":\"js/awColumnFilterService\"},\"filterFacetInputChanged\":{\"actionType\":\"JSFunction\",\"method\":\"filterFacetInputChanged\",\"inputData\":{\"gridContextDispatcher\":\"{{subPanelContext.gridContextDispatcher}}\",\"column\":\"{{subPanelContext.gridContext.columnDef}}\",\"viewModelData\":\"{{data.data}}\",\"facetDataProvider\":\"{{data.dataProviders.facetDataProvider}}\",\"facetParameters\":\"{{parameters}}\",\"isBulkEditing\":\"{{subPanelContext.gridContext.isBulkediting}}\",\"isFilterDisabled\":\"{{fields.isFilterDisabled}}\"},\"outputData\":{\"facetValue\":\"\"},\"deps\":\"js/awColumnFilterService\"},\"clearFilter\":{\"actionType\":\"JSFunction\",\"method\":\"clearFilterFromMenu\",\"inputData\":{\"column\":\"{{subPanelContext.gridContext.columnDef}}\",\"gridContextDispatcher\":\"{{subPanelContext.gridContextDispatcher}}\"},\"outputData\":{\"newFilters\":\"\"},\"deps\":\"js/awColumnFilterService\"},\"checkForFilterDisability\":{\"actionType\":\"JSFunction\",\"method\":\"checkForFilterDisability\",\"inputData\":{\"column\":\"{{subPanelContext.gridContext.columnDef}}\",\"viewModelData\":\"{{data.data}}\",\"hasFilterFacetAction\":\"{{subPanelContext.hasFilterFacetAction}}\",\"facetDataProvider\":\"{{data.dataProviders.facetDataProvider}}\",\"isBulkEditing\":\"{{subPanelContext.gridContext.isBulkediting}}\",\"isFilterDisabled\":\"{{fields.isFilterDisabled}}\"},\"deps\":\"js/awColumnFilterService\"}},\"data\":{\"startDate\":{\"displayName\":\"\",\"type\":\"DATE\",\"isRequired\":\"false\",\"isEditable\":\"true\",\"dbValue\":\"\",\"dispValue\":\"\"},\"endDate\":{\"displayName\":\"\",\"type\":\"DATE\",\"isRequired\":\"false\",\"isEditable\":\"true\",\"dbValue\":\"\",\"dispValue\":\"\"},\"title\":{\"displayName\":\"{{i18n.dateFilterTitle}}\",\"type\":\"STRING\",\"isRequired\":\"false\",\"isEditable\":\"false\"},\"_itemOptions_facetCheckbox\":{\"applySelection\":false},\"showFilters\":{\"displayName\":\"{{i18n.toggleFacetTitle}}\",\"type\":\"BOOLEAN\",\"isRequired\":\"false\",\"isEditable\":\"true\",\"value\":\"\",\"labelPosition\":\"PROPERTY_LABEL_AT_SIDE\"},\"noMatchesFound\":{\"type\":\"STRING\",\"isRequired\":\"false\",\"isEditable\":\"false\",\"dbValue\":\"{{i18n.noMatchesFound}}\",\"displayValue\":\"{{i18n.noMatchesFound}}\"},\"isFilterDisabled\":{\"initialValues\":{\"value\":true},\"meta\":{}}},\"dataProviders\":{\"facetDataProvider\":{\"action\":\"initializeFacetValues\",\"nextAction\":\"loadFacetValues\",\"response\":\"{{data.searchResults.results}}\",\"totalFound\":\"{{data.searchResults.totalFound}}\",\"selectionModelMode\":\"none\"},\"operationsDataProvider\":{\"response\":[{\"propDisplayValue\":\"{{i18n.containsOperation}}\",\"propInternalValue\":\"contains\",\"selected\":false},{\"propDisplayValue\":\"{{i18n.notContainsOperation}}\",\"propInternalValue\":\"notContains\",\"selected\":false},{\"propDisplayValue\":\"{{i18n.startsWithOperation}}\",\"propInternalValue\":\"startsWith\",\"selected\":false},{\"propDisplayValue\":\"{{i18n.endsWithOperation}}\",\"propInternalValue\":\"endsWith\",\"selected\":false},{\"propDisplayValue\":\"{{i18n.equalsOperation}}\",\"propInternalValue\":\"equals\",\"selected\":false},{\"propDisplayValue\":\"{{i18n.notEqualsOperation}}\",\"propInternalValue\":\"notEquals\",\"selected\":false}],\"totalFound\":6}},\"functions\":{\"getActiveWorkspaceXrtContext\":{\"functionName\":\"getActiveWorkspaceXrtContext\",\"parameters\":[\"{{ctx.ActiveWorkspace:xrtContext}}\"]}},\"onEvent\":[],\"i18n\":{\"clearButtonTitle\":[\"UIMessages\"],\"dateFilterTitle\":[\"UIMessages\"],\"invalidDate\":[\"UIMessages\"],\"FILTER_TEXT\":[\"BaseMessages\"],\"toggleFacetTitle\":[\"UIMessages\"],\"noMatchesFound\":[\"UIMessages\"],\"selectAll\":[\"UIMessages\"]},\"messages\":{},\"conditions\":{\"isShowFiltersSelected\":{\"expression\":\"data.showFilters.dbValue === true\"},\"filteringEnabled\":{\"expression\":\"subPanelContext.gridContext.columnDef.filter.view && subPanelContext.gridContext.columnDef.isFilteringEnabled !== false && subPanelContext.gridOptions.isFilteringEnabled\"},\"noFacetResults\":{\"expression\":\"dataProviders.facetDataProvider.viewModelCollection.totalFound === 0 && ctx.columnMenuContext.isFacetLoading === false\"}},\"lifecycleHooks\":{\"onMount\":\"reveal\",\"onUpdate\":[{\"action\":\"dateFilterInputChangedBatch\",\"observers\":[\"viewModel.data.startDate.dbValue\",\"viewModel.data.endDate.dbValue\"]},{\"action\":\"checkForFilterDisability\",\"observers\":[\"viewModel.data.showFilters.dbValue\"]}]},\"_viewModelId\":\"splmTableDateColumnMenu\",\"_uniqueViewModelId\":\"splmTableDateColumnMenu\",\"ctx\":{\"columnMenuContext\":{\"type\":\"object\"},\"ActiveWorkspace\":{\"type\":\"object\"}}};/*\n<div id=\"{{subPanelContext.menuContainerId}}\" class=\"aw-splm-tableMenuContainer afx-content-background aw-hierarchical-popup\">\n    <div id=\"{{subPanelContext.menuId}}\" class=\"aw-splm-tableMenu aw-splm-tableMenuPopup\" role=\"menu\">\n        <div>\n            <aw-popup-command-bar anchor=\"{{subPanelContext.anchor}}\" context=\"subPanelContext\" own-popup=\"true\"> </aw-popup-command-bar>\n        </div>\n        <hr>\n        <div class=\"aw-splm-tableMenuItem aw-widgets-cellTop column-filter-container\" role=\"menuitem\" exist-when=\"conditions.filteringEnabled\">\n            <div class=\"column-filter\">\n                <aw-flex-column class='date-filter'>\n                    <aw-label prop='title'></aw-label>\n                    <aw-date class='filter-start-date' prop='startDate' aw-enter-key='filterAction'></aw-date>\n                    <aw-icon class='aw-icon' icon-id='uiArrow'></aw-icon>\n                    <aw-date class='filter-end-date' prop='endDate' aw-enter-key='filterAction'></aw-date>\n                </aw-flex-column>\n            </div>\n            <div class=\"facet-filter-container\" exist-when=\"subPanelContext.hasFilterFacetAction\">\n                <div class=\"facets-container\">\n                    <aw-togglebutton class=\"facet-toggle\" prop=\"data.showFilters\" action=\"showFiltersToggleChangedBatch\"></aw-togglebutton>\n                    <div class=\"facet-filter\" exist-when=\"conditions.isShowFiltersSelected\">\n                        <aw-flex-column>\n                            <aw-flex-row>\n                                <aw-label prop=\"noMatchesFound\" exist-when=\"conditions.noFacetResults\"></aw-label>\n                            </aw-flex-row>\n                            <aw-flex-row>\n                                <aw-list dataprovider=\"data.dataProviders.facetDataProvider\" item-options=\"data._itemOptions_facetCheckbox\">\n                                    <aw-list-checkbox-item vmo=\"item\" action=\"filterFacetInputChanged\"></aw-list-checkbox-item>\n                                </aw-list>\n                            </aw-flex-row>\n                        </aw-flex-column>\n                    </div>\n                </div>\n            </div>\n            <div class=\"submit-buttons-filter\">\n                <aw-flex-row height=\"2.75f\">\n                    <div class=\"sw-column w-6 column-menu-button\">\n                        <aw-button id=\"columnMenuClearButton\" button-type=\"negative\" action=\"clearFilter\" aw-class=\"{'disabled': subPanelContext.gridContext.columnDef.filter.isFilterApplied !== true}\">\n                            <aw-i18n>i18n.clearButtonTitle</aw-i18n>\n                        </aw-button>\n                    </div>\n                    <div class=\"sw-column w-6 column-menu-button\">\n                        <aw-button id=\"columnMenuFilterButton\" class=\"filter-button\" action=\"filterAction\" aw-class=\"{'disabled': data.isFilterDisabled.value}\">\n                            <aw-i18n>i18n.FILTER_TEXT</aw-i18n>\n                        </aw-button>\n                    </div>\n                </aw-flex-row>\n            </div>\n        </div>\n    </div>\n</div>\n\n*/const renderFn=props=>{let subPanelContext=props.subPanelContext;let{viewModel:{data,dataProviders,dispatch,conditions,selectionModels,editHandlers,chartProviders,ports},grids,ctx,actions,fields,messages,i18n,formProp,viewPath}=props;data={...data,dataProviders};if(subPanelContext&&subPanelContext.fields){fields={...fields,...subPanelContext.fields};}let $index=null;return/*#__PURE__*/_jsx(\"div\",{id:AwParseService.instance(\"subPanelContext.menuContainerId\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports}),className:\"aw-splm-tableMenuContainer afx-content-background aw-hierarchical-popup\",children:/*#__PURE__*/_jsxs(\"div\",{id:AwParseService.instance(\"subPanelContext.menuId\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports}),className:\"aw-splm-tableMenu aw-splm-tableMenuPopup\",role:\"menu\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(AwPopupCommandBar,{anchor:AwParseService.instance(\"subPanelContext.anchor\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports}),context:AwParseService.instance(\"subPanelContext\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports}),\"own-popup\":\"true\"})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(DivExistWhen,{className:\"aw-splm-tableMenuItem aw-widgets-cellTop column-filter-container\",role:\"menuitem\",existWhen:AwParseService.instance(\"conditions.filteringEnabled\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports}),children:[/*#__PURE__*/_jsx(\"div\",{className:\"column-filter\",children:/*#__PURE__*/_jsxs(AwFlexColumn,{className:\"date-filter\",children:[/*#__PURE__*/_jsx(AwLabel,{...getField(\"title\",fields,$index,null,null)}),/*#__PURE__*/_jsx(AwDateAwEnterKey,{className:\"filter-start-date\",...getField(\"startDate\",fields,$index,null,null),awEnterKey:AwParseService.instance(\"actions.filterAction\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports})}),/*#__PURE__*/_jsx(AwIcon,{className:\"aw-icon\",iconId:\"uiArrow\"}),/*#__PURE__*/_jsx(AwDateAwEnterKey,{className:\"filter-end-date\",...getField(\"endDate\",fields,$index,null,null),awEnterKey:AwParseService.instance(\"actions.filterAction\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports})})]})}),/*#__PURE__*/_jsx(DivExistWhen,{className:\"facet-filter-container\",existWhen:AwParseService.instance(\"subPanelContext.hasFilterFacetAction\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports}),children:/*#__PURE__*/_jsxs(\"div\",{className:\"facets-container\",children:[/*#__PURE__*/_jsx(AwTogglebutton,{className:\"facet-toggle\",...getField(\"data.showFilters\",fields,$index,null,null),action:actions.showFiltersToggleChangedBatch}),/*#__PURE__*/_jsx(DivExistWhen,{className:\"facet-filter\",existWhen:AwParseService.instance(\"conditions.isShowFiltersSelected\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports}),children:/*#__PURE__*/_jsxs(AwFlexColumn,{children:[/*#__PURE__*/_jsx(AwFlexRow,{children:/*#__PURE__*/_jsx(AwLabelExistWhen,{...getField(\"noMatchesFound\",fields,$index,null,null),existWhen:AwParseService.instance(\"conditions.noFacetResults\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports})})}),/*#__PURE__*/_jsx(AwFlexRow,{children:/*#__PURE__*/_jsx(AwList,{dataprovider:dataProviders.facetDataProvider,itemOptions:data._itemOptions_facetCheckbox,showDropArea:null,dndHandler:props.viewModel.dndHandler,children:/*#__PURE__*/_jsx(AwListCheckboxItem,{vmo:AwParseService.instance(\"item\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports}),action:actions.filterFacetInputChanged})})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"submit-buttons-filter\",children:/*#__PURE__*/_jsxs(AwFlexRow,{height:\"2.75f\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sw-column w-6 column-menu-button\",children:/*#__PURE__*/_jsx(AwButtonAwClass,{id:\"columnMenuClearButton\",buttonType:\"negative\",action:actions.clearFilter,awClass:AwParseService.instance(\"{'disabled': subPanelContext.gridContext.columnDef.filter.isFilterApplied !== true}\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports}),children:/*#__PURE__*/_jsx(AwI18n,{children:i18n.clearButtonTitle})})}),/*#__PURE__*/_jsx(\"div\",{className:\"sw-column w-6 column-menu-button\",children:/*#__PURE__*/_jsx(AwButtonAwClass,{id:\"columnMenuFilterButton\",className:\"filter-button\",action:actions.filterAction,awClass:AwParseService.instance(\"{'disabled': fields.isFilterDisabled.value}\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports}),children:/*#__PURE__*/_jsx(AwI18n,{children:i18n.FILTER_TEXT})})})]})})]})]})});};/*\ndefine component\n*/const Component=createComponent(declViewModelJson,renderFn,undefined,ctxImportObj);export default Component;","map":null,"metadata":{},"sourceType":"module"}