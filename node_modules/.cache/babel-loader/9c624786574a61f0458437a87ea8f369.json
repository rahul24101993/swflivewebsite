{"ast":null,"code":"// Copyright (c) 2020 Siemens\n/**\n * This module defines the utils for direct edit in PL Table.\n *\n * @module js/splmTableDirectEditUtils\n */import localeService from'js/localeService';import{includeComponent}from'js/moduleLoader';import{renderComponent}from'js/declReactUtils';import{AppCtxComponent}from'js/reactAppCtx';/**\n * Gets the editContext for the table\n *\n * @param {Object} tableInstance - the table's tableInstance object\n *\n * @return {string} the name of the editContext for this table\n */import{jsx as _jsx}from\"react/jsx-runtime\";export const getEditContext=tableInstance=>{if(tableInstance.dataProvider.json&&tableInstance.dataProvider.json.editContext){// Edit context of edit handler for this dataProvider\nreturn tableInstance.dataProvider.json.editContext;}else if(tableInstance.dataProvider.json&&tableInstance.dataProvider.json.customPanelEditContext){// Edit context of parent summary view model ( html panel table using edit via nativeDataLoadEvent usecase )\nreturn tableInstance.dataProvider.json.customPanelEditContext;}else if(tableInstance.declViewModel._internal.editContext){// Edit context of edit handler for this view model\nreturn tableInstance.declViewModel._internal.editContext;}return null;};const _displayGuidanceMessage=(message,tableElem)=>{const prop={message:{messageType:'INFO',messageText:message},showType:'false',closable:true};const guidanceMessageElem=includeComponent('AwGuidanceMessage',prop);let docFrag=document.createDocumentFragment();renderComponent(/*#__PURE__*/_jsx(AppCtxComponent,{children:guidanceMessageElem}),docFrag);tableElem.parentElement.insertBefore(docFrag,tableElem);};/**\n * Displays guidance message above the table to let the user know that auto save is one despite global auto save being turned off\n *\n * @param {HTMLElement} tableElem - the table element\n */export const displayAutoSaveOnGuidanceMessage=tableElem=>{localeService.getLocalizedTextFromKey('BaseMessages.AUTO_SAVE_ONLY_TABLE',true).then(message=>{_displayGuidanceMessage(message,tableElem);});};/**\n * Displays guidance message above the table to let the user know that cell editing is disabled\n *\n * @param {HTMLElement} tableElem - the table element\n */export const displayCellEditDisabledGuidanceMessage=tableElem=>{localeService.getLocalizedTextFromKey('BaseMessages.CELL_EDITING_DISABLED',true).then(message=>{_displayGuidanceMessage(message,tableElem);});};export default{getEditContext,displayAutoSaveOnGuidanceMessage,displayCellEditDisabledGuidanceMessage};","map":null,"metadata":{},"sourceType":"module"}