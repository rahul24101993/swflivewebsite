{"ast":null,"code":"import AwIcon from'viewmodel/AwIconViewModel';import logger from'js/logger';import _ from'lodash';import AwPic from'viewmodel/AwPicViewModel';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const onAvatarClick=function(e,prop){return prop.action?prop.action(e):'';};const getInitialsFromString=function(str){if(!str){return'';}let output='';let strings=[];if(str.indexOf(',')!==-1){strings=str.split(',');if(strings&&strings.length){output+=strings[1].trim()[0]+strings[0][0];}}else{strings=str.split(' ');_.forEach(strings,function(word){if(word!==''){output+=word[0];}});}return output;};/**\n * render function for AwAvatar\n * @param {*} props context for render function interpolation\n * @returns {JSX.Element} react component\n */export const awAvatarRenderFunction=props=>{let initials=null;if(props.fullLayout){if(!props.name){logger.error('name attribute is required if full-layout is used');}let textPositionClass='';switch(props.textPosition){case'BOTTOM':textPositionClass='sw-column align-center';break;case'RIGHT':textPositionClass='sw-row';}return/*#__PURE__*/_jsxs(\"button\",{type:\"button\",\"data-locator\":props.textPosition,\"aria-label\":props.i18n.USER_PROFILE,className:'sw-avatar-layout '+textPositionClass,onClick:e=>onAvatarClick(e,props),children:[/*#__PURE__*/_jsx(\"div\",{\"data-locator\":\"avatar-generic\",className:\"sw-avatar-generic sw-avatar-small sw-avatar-layoutImg\",children:/*#__PURE__*/_jsx(AwPic,{className:\"sw-avatar-icon sw-avatar-image\",alt:props.i18n.USER_PROFILE,source:props.source})}),/*#__PURE__*/_jsx(\"div\",{className:\"sw-avatar-text\",children:props.fielddata.propertyDisplayName})]});}let avatarIcon=props.icon||'cmdUser';let avatarSize=props.size||'small';let sizeClass='';switch(avatarSize){case'xsmall':sizeClass='sw-avatar-xsmall';break;case'small':sizeClass='sw-avatar-small';break;case'medium':sizeClass='sw-avatar-medium';break;case'large':sizeClass='sw-avatar-large';break;case'xlarge':sizeClass='sw-avatar-xlarge';break;}if(!_.isNil(props.initials)){initials=getInitialsFromString(props.initials);}else if(props.fielddata){let val=props.fielddata.propertyDisplayName;if(_.isNil(val)||val===''){val=props.fielddata.uiValue?props.fielddata.uiValue:props.name;}initials=getInitialsFromString(val);}if(initials&&initials.length>2){initials='';}let innerHtml=initials?/*#__PURE__*/_jsx(\"span\",{\"data-locator\":\"sw-avatar-initials\",className:\"sw-avatar-name sw-avatar-initials\",children:initials}):/*#__PURE__*/_jsx(\"div\",{\"data-locator\":\"sw-avatar-normalIcon\",className:\"sw-avatar-name sw-avatar-normalIcon\",children:/*#__PURE__*/_jsx(AwIcon,{className:\"aw-base-icon\",iconId:avatarIcon})});if(props.source){innerHtml=/*#__PURE__*/_jsx(\"img\",{\"data-locator\":\"sw-avatar-image\",src:props.source,alt:props.i18n.USER_PROFILE,className:\"sw-avatar-image\"});}return/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"data-locator\":'avatar-generic '+avatarSize,\"aria-label\":props.i18n.USER_PROFILE,className:'sw-avatar-generic '+sizeClass,onClick:e=>onAvatarClick(e,props),children:innerHtml});};","map":null,"metadata":{},"sourceType":"module"}