{"ast":null,"code":"// Copyright (c) 2020 Siemens\n\n/**\n * @module js/editEventsService\n */\nimport eventBus from 'js/eventBus';\nimport editHandlerService from 'js/editHandlerService';\nimport appCtxService from 'js/appCtxService';\nimport localeService from 'js/localeService';\nimport messagingService from 'js/messagingService';\nconst startEditRequestedEventName = 'startEditForNewVmosRequested';\nconst saveEditsRequestedEventName = 'saveEditsRequested';\n/**\n * Publishes saveEditsRequested via eventBus.\n *\n */\n\nexport const publishSaveEditsRequested = function () {\n  eventBus.publish(saveEditsRequestedEventName);\n};\n/**\n * Keydown event listener for saveEdits.\n * On \"ctrl + s\", publishes saveEditsRequested via eventBus or saves the edit\n * handler directly if it is passed in.\n *\n * @param {Object} editHandler - the edit handler\n * @param {Function} removeSaveListener - the callback to remove savelistener on save\n * @return {Function} save listener function\n */\n\nexport const saveEditsListener = function (editHandler, removeSaveListener) {\n  return function (event) {\n    if (event.ctrlKey && (event.key === 's' || event.key === 'S')) {\n      if (editHandler) {\n        // Save the edit handler directly if it was passed in\n        editHandler.saveEdits();\n      } else {\n        publishSaveEditsRequested();\n      }\n\n      event.preventDefault();\n      removeSaveListener();\n    }\n  };\n};\n/**\n * Helper function for starting edit.\n * Call editHandler.startEdit to handle pagination/expand cases\n *\n * @param {String} editContext - the edit context for the edit handler\n */\n\nexport const startEditForNewVmos = function (editContext) {\n  const editHandler = editHandlerService.getEditHandler(editContext);\n\n  if (editHandler.editInProgress()) {\n    editHandler.startEdit();\n  }\n};\n/**\n * Publishes dataProviderName.startEditRequested  via eventBus.\n *\n * @param {object} dataProvider - the dataProvider\n */\n\nexport const publishStartEditRequested = function (dataProvider) {\n  if (dataProvider && dataProvider.name) {\n    eventBus.publish(dataProvider.name + '.' + startEditRequestedEventName);\n  }\n};\nexport default {\n  saveEditsListener,\n  startEditForNewVmos,\n  publishStartEditRequested,\n  publishSaveEditsRequested\n};","map":{"version":3,"names":["eventBus","editHandlerService","appCtxService","localeService","messagingService","startEditRequestedEventName","saveEditsRequestedEventName","publishSaveEditsRequested","publish","saveEditsListener","editHandler","removeSaveListener","event","ctrlKey","key","saveEdits","preventDefault","startEditForNewVmos","editContext","getEditHandler","editInProgress","startEdit","publishStartEditRequested","dataProvider","name"],"sources":["C:/Users/rahukl57/Desktop/SWF/CreatingOwnComponentUsingJsx/node_modules/@swf/core/src/uiwidget/src/js/editEventsService.js"],"sourcesContent":["// Copyright (c) 2020 Siemens\n\n/**\n * @module js/editEventsService\n */\nimport eventBus from 'js/eventBus';\nimport editHandlerService from 'js/editHandlerService';\nimport appCtxService from 'js/appCtxService';\nimport localeService from 'js/localeService';\nimport messagingService from 'js/messagingService';\n\nconst startEditRequestedEventName = 'startEditForNewVmosRequested';\nconst saveEditsRequestedEventName = 'saveEditsRequested';\n\n/**\n * Publishes saveEditsRequested via eventBus.\n *\n */\nexport const publishSaveEditsRequested = function() {\n    eventBus.publish( saveEditsRequestedEventName );\n};\n\n/**\n * Keydown event listener for saveEdits.\n * On \"ctrl + s\", publishes saveEditsRequested via eventBus or saves the edit\n * handler directly if it is passed in.\n *\n * @param {Object} editHandler - the edit handler\n * @param {Function} removeSaveListener - the callback to remove savelistener on save\n * @return {Function} save listener function\n */\nexport const saveEditsListener = function( editHandler, removeSaveListener ) {\n    return function( event ) {\n        if( event.ctrlKey && ( event.key === 's' || event.key === 'S' ) ) {\n            if( editHandler ) {\n                // Save the edit handler directly if it was passed in\n                editHandler.saveEdits();\n            } else {\n                publishSaveEditsRequested();\n            }\n            event.preventDefault();\n            removeSaveListener();\n        }\n    };\n};\n\n/**\n * Helper function for starting edit.\n * Call editHandler.startEdit to handle pagination/expand cases\n *\n * @param {String} editContext - the edit context for the edit handler\n */\nexport const startEditForNewVmos = function( editContext ) {\n    const editHandler = editHandlerService.getEditHandler( editContext );\n    if( editHandler.editInProgress() ) {\n        editHandler.startEdit();\n    }\n};\n\n/**\n * Publishes dataProviderName.startEditRequested  via eventBus.\n *\n * @param {object} dataProvider - the dataProvider\n */\nexport const publishStartEditRequested = function( dataProvider ) {\n    if( dataProvider && dataProvider.name ) {\n        eventBus.publish( dataProvider.name + '.' + startEditRequestedEventName );\n    }\n};\n\nexport default {\n    saveEditsListener,\n    startEditForNewVmos,\n    publishStartEditRequested,\n    publishSaveEditsRequested\n};\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA,OAAOA,QAAP,MAAqB,aAArB;AACA,OAAOC,kBAAP,MAA+B,uBAA/B;AACA,OAAOC,aAAP,MAA0B,kBAA1B;AACA,OAAOC,aAAP,MAA0B,kBAA1B;AACA,OAAOC,gBAAP,MAA6B,qBAA7B;AAEA,MAAMC,2BAA2B,GAAG,8BAApC;AACA,MAAMC,2BAA2B,GAAG,oBAApC;AAEA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,yBAAyB,GAAG,YAAW;EAChDP,QAAQ,CAACQ,OAAT,CAAkBF,2BAAlB;AACH,CAFM;AAIP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMG,iBAAiB,GAAG,UAAUC,WAAV,EAAuBC,kBAAvB,EAA4C;EACzE,OAAO,UAAUC,KAAV,EAAkB;IACrB,IAAIA,KAAK,CAACC,OAAN,KAAmBD,KAAK,CAACE,GAAN,KAAc,GAAd,IAAqBF,KAAK,CAACE,GAAN,KAAc,GAAtD,CAAJ,EAAkE;MAC9D,IAAIJ,WAAJ,EAAkB;QACd;QACAA,WAAW,CAACK,SAAZ;MACH,CAHD,MAGO;QACHR,yBAAyB;MAC5B;;MACDK,KAAK,CAACI,cAAN;MACAL,kBAAkB;IACrB;EACJ,CAXD;AAYH,CAbM;AAeP;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMM,mBAAmB,GAAG,UAAUC,WAAV,EAAwB;EACvD,MAAMR,WAAW,GAAGT,kBAAkB,CAACkB,cAAnB,CAAmCD,WAAnC,CAApB;;EACA,IAAIR,WAAW,CAACU,cAAZ,EAAJ,EAAmC;IAC/BV,WAAW,CAACW,SAAZ;EACH;AACJ,CALM;AAOP;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,yBAAyB,GAAG,UAAUC,YAAV,EAAyB;EAC9D,IAAIA,YAAY,IAAIA,YAAY,CAACC,IAAjC,EAAwC;IACpCxB,QAAQ,CAACQ,OAAT,CAAkBe,YAAY,CAACC,IAAb,GAAoB,GAApB,GAA0BnB,2BAA5C;EACH;AACJ,CAJM;AAMP,eAAe;EACXI,iBADW;EAEXQ,mBAFW;EAGXK,yBAHW;EAIXf;AAJW,CAAf"},"metadata":{},"sourceType":"module"}