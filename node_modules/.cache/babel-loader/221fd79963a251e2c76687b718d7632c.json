{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rahukl57\\\\Desktop\\\\SWF\\\\CreatingOwnComponentUsingJsx\\\\node_modules\\\\@swf\\\\core\\\\src\\\\components\\\\src\\\\js\\\\AwNodeService.js\";\n// Copyright (c) 2021 Siemens\nimport AwPropertyImage from 'viewmodel/AwPropertyImageViewModel';\nimport AwNode from 'viewmodel/AwNodeViewModel';\nimport wcagSvc from 'js/wcagService';\nimport { mapChildren } from 'js/reactHelper';\nimport _ from 'lodash';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet BASE_MARGIN = 16;\n\nconst collapse = (viewModel, node) => {\n  node.expanded = false;\n  const {\n    data,\n    dispatch\n  } = viewModel;\n  dispatch({\n    path: 'data._isRefreshNeeded',\n    value: {\n      _isRefreshNeeded: !data._isRefreshNeeded\n    }\n  });\n};\n\nconst expand = (viewModel, node) => {\n  const {\n    data,\n    dispatch\n  } = viewModel;\n  node.expanded = true;\n  dispatch({\n    path: 'data._isRefreshNeeded',\n    value: {\n      _isRefreshNeeded: !data._isRefreshNeeded\n    }\n  });\n};\n\nconst toggleSelection = (event, node, prop) => {\n  prop.toggleSelectionHandler(event, node);\n};\n\nconst handleKeyDown = (event, node, prop) => {\n  if (wcagSvc.isValidKeyPress(event)) {\n    toggleSelection(event, node, prop);\n  }\n};\n\nexport const awNodeRenderFunction = props => {\n  const {\n    viewModel,\n    tree,\n    level,\n    children,\n    ...prop\n  } = props;\n\n  const getLevelMargin = (node, level) => {\n    let calculatedMargin = BASE_MARGIN * level;\n\n    if (!node.children || node.children.length === 0) {\n      calculatedMargin += 16;\n    }\n\n    return {\n      marginLeft: `${calculatedMargin}px`\n    };\n  };\n\n  if (tree === undefined) {\n    return;\n  }\n\n  let candidate = _.concat([], children);\n\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    className: \"aw-ui-tree\",\n    children: tree.map((node, index) => {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"aw-ui-treeNode\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'aw-ui-treeNode-valueContainer sw-aria-border' + (node.selected ? ' aw-state-selected' : ''),\n          tabIndex: \"0\",\n          role: \"tree\",\n          style: getLevelMargin(node, props.level),\n          children: [node.children && node.children.length > 0 && node.expanded && /*#__PURE__*/_jsxDEV(AwPropertyImage, {\n            name: \"miscExpandedTree\",\n            className: \"expanded\",\n            onClickHandler: () => collapse(viewModel, node)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 37\n          }, this), node.children && node.children.length > 0 && !node.expanded && /*#__PURE__*/_jsxDEV(AwPropertyImage, {\n            name: \"miscExpandedTree\",\n            className: \"collapsed\",\n            onClickHandler: () => expand(viewModel, node)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            tabIndex: \"-1\",\n            \"aria-expanded\": node.expanded,\n            role: \"treeitem\",\n            className: \"aw-ui-treeNodeValue\",\n            onKeyDown: e => handleKeyDown(e, node, props),\n            onClick: e => toggleSelection(e, node, props),\n            children: mapChildren(candidate, {\n              node,\n              index\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 29\n        }, this), node.expanded && node.children && /*#__PURE__*/_jsxDEV(AwNode, {\n          level: level + 1,\n          tree: node.children,\n          toggleSelectionHandler: props.toggleSelectionHandler,\n          children: children\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 32\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};","map":{"version":3,"names":["AwPropertyImage","AwNode","wcagSvc","mapChildren","_","BASE_MARGIN","collapse","viewModel","node","expanded","data","dispatch","path","value","_isRefreshNeeded","expand","toggleSelection","event","prop","toggleSelectionHandler","handleKeyDown","isValidKeyPress","awNodeRenderFunction","props","tree","level","children","getLevelMargin","calculatedMargin","length","marginLeft","undefined","candidate","concat","map","index","selected","e"],"sources":["C:/Users/rahukl57/Desktop/SWF/CreatingOwnComponentUsingJsx/node_modules/@swf/core/src/components/src/js/AwNodeService.js"],"sourcesContent":["// Copyright (c) 2021 Siemens\nimport AwPropertyImage from 'viewmodel/AwPropertyImageViewModel';\nimport AwNode from 'viewmodel/AwNodeViewModel';\nimport wcagSvc from 'js/wcagService';\nimport { mapChildren } from 'js/reactHelper';\nimport _ from 'lodash';\n\nlet BASE_MARGIN = 16;\nconst collapse = ( viewModel, node ) => {\n    node.expanded = false;\n    const { data, dispatch } = viewModel;\n    dispatch( { path: 'data._isRefreshNeeded', value: { _isRefreshNeeded: !data._isRefreshNeeded } } );\n};\n\nconst expand = ( viewModel, node ) => {\n    const { data, dispatch } = viewModel;\n    node.expanded = true;\n    dispatch( { path: 'data._isRefreshNeeded', value: { _isRefreshNeeded: !data._isRefreshNeeded } } );\n};\n\nconst toggleSelection = ( event, node, prop ) => {\n    prop.toggleSelectionHandler( event, node );\n};\n\nconst handleKeyDown = ( event, node, prop ) => {\n    if( wcagSvc.isValidKeyPress( event ) ) {\n        toggleSelection( event, node, prop );\n    }\n};\n\nexport const awNodeRenderFunction = ( props ) => {\n    const { viewModel, tree, level, children, ...prop } = props;\n\n\n    const getLevelMargin = ( node, level ) => {\n        let calculatedMargin = BASE_MARGIN * level;\n        if( !node.children || node.children.length === 0 ) {\n            calculatedMargin += 16;\n        }\n        return { marginLeft: `${calculatedMargin }px` };\n    };\n    if( tree === undefined ) {\n        return;\n    }\n    let candidate = _.concat( [], children );\n\n    return (\n        <ul className='aw-ui-tree'>\n            {\n                tree.map( ( node, index ) => {\n                    return (\n                        <li className='aw-ui-treeNode' key={index}>\n                            <div className={'aw-ui-treeNode-valueContainer sw-aria-border' + ( node.selected ? ' aw-state-selected' : '' ) }\n                                tabIndex='0' role='tree'\n                                style={getLevelMargin( node, props.level )} >\n                                { node.children && node.children.length > 0 && node.expanded &&\n                                    <AwPropertyImage name ='miscExpandedTree' className='expanded'\n                                        onClickHandler={ ( ) => collapse( viewModel, node ) } >\n                                    </AwPropertyImage>\n                                }\n                                { node.children && node.children.length > 0 && !node.expanded &&\n                                    <AwPropertyImage name ='miscExpandedTree' className='collapsed'\n                                        onClickHandler={ ( ) => expand( viewModel, node )  } >\n                                    </AwPropertyImage>\n                                }\n                                <span tabIndex='-1'\n                                    aria-expanded={node.expanded} role='treeitem' className='aw-ui-treeNodeValue'\n                                    onKeyDown = { ( e ) => handleKeyDown( e, node, props ) }\n                                    onClick={ ( e )=>toggleSelection( e, node, props ) } >\n                                    {  mapChildren( candidate, {  node, index } ) }\n                                </span>\n                            </div>\n                            {\n                                node.expanded && node.children &&\n                               <AwNode level= {level + 1} tree= {node.children} toggleSelectionHandler={props.toggleSelectionHandler}  >\n                                   {children}\n                               </AwNode>\n                            }\n                        </li>\n                    );\n                } )\n            }\n        </ul>\n    );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}