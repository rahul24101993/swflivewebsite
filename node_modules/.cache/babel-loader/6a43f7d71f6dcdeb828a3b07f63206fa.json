{"ast":null,"code":"// Copyright (c) 2020 Siemens\n/**\n * Module for date parser utilities\n *\n * @module js/dateParserUtils\n */import _ from'lodash';import Debug from'debug';var trace=new Debug('dateParserUtils');var exports={};/**\n *Parsing of Dates\n *\n * @param {String} sourceVal - property value to compare with\n * @param {String} queryVal - condition value\n *\n * @return {Object} date object of sourceVal and queryVal\n */export let getParsedDates=function(sourceVal,queryVal){var dateParser={};dateParser.sourceDate=exports.convertDateToMsec(sourceVal);if(_.isArray(queryVal)){dateParser.queryDate=[];for(var key in queryVal){dateParser.queryDate[key]=exports.convertDateToMsec(queryVal[key]);}}else{dateParser.queryDate=exports.convertDateToMsec(queryVal);}return dateParser;};/**\n *Get widget type like  date/time/datetime\n *\n * @param {String} condition - condition value like \"Date(08-Feb-2019)\"\n *\n * @return {String}  conditionVal like \"08-Feb-2019\"\n */export let getDateValue=function(condition){try{var regExp=/\\(([^)]+)\\)/;return regExp.exec(condition)[1];}catch(e){trace('Error in condition',e,condition);}return undefined;};/**\n *Get widget type like  date/time/datetime\n *\n * @param {object} value - date object\n * @param {String} expressionDataType - data type - Date\n * @return {object}  expression , date type along with date\n */export let getExpressionDateValue=function(value,expressionDataType){var key;var expression={};if(expressionDataType==='Date'&&exports.isDate(value)){if(_.isArray(value)){expression.value=[];for(key in value){expression.value[key]=exports.getDateValue(value[key]);}}else{expression.value=exports.getDateValue(value);}}else{expression.value=value;}return expression;};/**\n *get expression type is dat eor not\n *\n * @param {object} value - date object\n *\n * @return {boolean}  value is date or not\n */export let isDate=function(value){try{var regExp=/^Date\\(\\{\\{/;return value&&value.toString().match(regExp)!==null;}catch(e){trace('Error in expression',e,value);}return undefined;};/**\n * get date  in milliseconds\n *\n * @param {Object} queryVal value\n *\n * @return {Date} - in milliseconds\n */export let convertDateToMsec=function(queryVal){if(typeof queryVal!=='number'){try{queryVal=new Date(queryVal).getTime();}catch(e){trace('Invalid Date format',e);}}return queryVal>0?queryVal:Infinity;};exports={getParsedDates,getDateValue,getExpressionDateValue,isDate,convertDateToMsec};export default exports;","map":null,"metadata":{},"sourceType":"module"}