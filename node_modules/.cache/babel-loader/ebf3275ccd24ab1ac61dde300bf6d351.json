{"ast":null,"code":"import'css/main.scss';import'css/sw-lightTheme.scss';// revisitme - skip IE support for now\n// import 'react-app-polyfill/ie11';\n// import 'react-app-polyfill/stable';\nimport'js/typeIconRegistry';import{registerSVGIcons}from'js/imageRegistry';import'js/aw_polyfill';import React from'react';import ReactDOM from'react-dom';import{UIRouter as Router,hashLocationPlugin}from'@uirouter/react';import UIView from'viewmodel/UiViewViewModel';import{buildAndGetAllStates}from'js/states';import config from'js/routerConfig';import cfgSvc from'js/configurationService';import{AppCtxComponent}from'js/reactAppCtx';import awConfiguration from'js/awConfiguration';import contributionService from'js/contribution.service';import bootstrap from'js/bootstrap';import'js/routeChangeHandler';import'js/viewModelLoaderService';import'js/propertyPolicyLoaderService';import'js/keyboardListenerService';import{find}from'lodash';import AwGlobalPopup from'viewmodel/AwGlobalPopupViewModel';import AwThemeSwitch from'viewmodel/AwThemeSwitchViewModel';// test enable routing - put it here for now for further debug purpose\n/*\nRESOLVE = 0,\nTRANSITION = 1,\nHOOK = 2,\nUIVIEW = 3,\nVIEWCONFIG = 4,\ntrace.enable( 'UIVIEW' );\n*/import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";registerSVGIcons();//Setup Default workspace\nconst setupDefaultWorkspace=()=>{const solutionDef=cfgSvc.getCfgCached('solutionDef');const defaultWorkspace=solutionDef.defaultWorkspace;const workspaces=cfgSvc.getCfgCached('workspace');const workspace=find(workspaces,workspace=>workspace.workspaceId===defaultWorkspace);awConfiguration.set('defaultRoutePath',workspace.defaultPage);};setupDefaultWorkspace();contributionService.requireBeforeAppInitialize('states',function(contributionStates){const states=buildAndGetAllStates(contributionStates);// revisitme - it is a bit different with afx init pipeline\n// we might need to refactor it to afx practice if we see side effect\nbootstrap();ReactDOM.render(/*#__PURE__*/_jsxs(AppCtxComponent,{children:[/*#__PURE__*/_jsx(Router,{plugins:[hashLocationPlugin],config:config,states:states,children:/*#__PURE__*/_jsx(UIView,{})}),/*#__PURE__*/_jsx(AwGlobalPopup,{}),/*#__PURE__*/_jsx(AwThemeSwitch,{})]}),document.getElementById('main-view'));});","map":null,"metadata":{},"sourceType":"module"}