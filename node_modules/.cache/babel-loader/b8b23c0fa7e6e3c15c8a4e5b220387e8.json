{"ast":null,"code":"/* eslint-disable max-len */ // Copyright (c) 2021 Siemens\nimport AwVisualIndicator from'viewmodel/AwVisualIndicatorViewModel';import AwModelIcon from'viewmodel/AwModelIconViewModel';import AwHeaderProperties from'viewmodel/AwHeaderPropertiesViewModel';import localeSvc from'js/localeService';import configurationSvc from'js/configurationService';import _ from'lodash';import eventBus from'js/eventBus';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export const getHeaderProps=(headerPropsData,headerData)=>{if(!headerPropsData||!headerData){return null;}let headerProps=[];for(const headerProp of headerPropsData){if(headerProp.propertyName&&headerData[headerProp.propertyName]){headerProps.push({property:headerData[headerProp.propertyName],renderingHint:headerProp.renderingHint,renderingStyle:headerProp.renderingStyle});}}return headerProps;};export const initialize=async()=>{let contributedHeaders=await configurationSvc.getCfg('headerContributions');if(contributedHeaders){contributedHeaders=_.sortBy(contributedHeaders,[function(o){return o.priority;}]);contributedHeaders.reverse();}//Revisit: Ria, Frank\n//Why is back button title processing required here?\nconst backButtonTitle=await localeSvc.getLocalizedText('UIMessages','backBtn');return{backButtonTitle:backButtonTitle,contributedHeaderViews:contributedHeaders||[]};};export const onUnmount=subscriptions=>{if(subscriptions&&subscriptions.length>0){subscriptions.forEach(subscription=>{eventBus.unsubscribe(subscription);});}};export const awShowObjectHeaderRenderFunction=props=>{return view(props);};const view=props=>{const{viewModel,i18n,ctx}=props;const{subPanelContext}=props;const headerVMO=props.headerVMO?props.headerVMO:props.headervmo;const children=props.children||[];const{data}=viewModel;const{contributedHeaderViews,headerProps}=data;const getSearchView=()=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"aw-layout-flexRowContainer align-center\",children:[children[1],children[2]]});};const getBreadcrumbConfigView=()=>{if(children[0]){return/*#__PURE__*/_jsx(\"div\",{className:\"aw-layout-flexRow aw-layout-breadCrumbContainer\",children:children[0]});}return null;};const getHeaderPropsView=()=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"aw-layout-headerPropContainer aw-layout-flexRowContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"aw-layout-flexRowContainer AwVisualIndicatorContainer\",children:headerVMO&&headerVMO.indicators&&/*#__PURE__*/_jsx(AwVisualIndicator,{vmo:headerVMO})}),contributedHeaderViews?/*#__PURE__*/_jsx(AwHeaderProperties,{props:{headerProps,contributedHeaders:contributedHeaderViews,context:subPanelContext}}):'']});};return/*#__PURE__*/_jsx(\"div\",{className:\"aw-layout-flexColumn\",children:/*#__PURE__*/_jsxs(\"header\",{\"aria-label\":i18n.applicationHeader,className:\"sw-row aw-layout-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"aw-layout-headerLeft aw-layout-flexRow align-center\",children:[headerVMO&&headerVMO.props&&/*#__PURE__*/_jsx(AwModelIcon,{vmo:headerVMO}),/*#__PURE__*/_jsxs(\"div\",{className:\"aw-layout-flexColumn aw-layout-headerContent\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"aw-layout-flexRowContainer aw-layout-locationTitlePanel\",children:getBreadcrumbConfigView()}),getHeaderPropsView()]})]}),getSearchView()]})});};","map":null,"metadata":{},"sourceType":"module"}