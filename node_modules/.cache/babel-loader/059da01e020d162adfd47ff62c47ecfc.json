{"ast":null,"code":"// Copyright (c) 2020 Siemens\n\n/**\n * This module provides event building support\n *\n * @module js/awEventHelperService\n */\nimport _ from 'lodash';\nimport browserUtils from 'js/browserUtils';\nlet exports = {};\n/**\n *\n * @param {Object} targetObject - Map for object default and mobile counterpart\n * @param {Object} eventObject - Map for event type to mobile counterpart for all mouseevents click, mousedown, mouseup, etc.\n * @param {Function} eventHandler - handler function, takes event as single argument\n */\n\nexport let subscribeMouseEvent = function (targetObject, eventObject, eventHandler) {\n  _.forEach(Object.keys(eventObject), eventName => {\n    /* Register the event type -> eventHandler */\n    if (targetObject.default.on) {\n      // if jQuery object\n      targetObject.default.on(eventName, eventHandler);\n    } else {\n      // if Element\n      targetObject.default.addEventListener(eventName, eventHandler);\n    }\n    /* If mobile device, make sure the mobile event is bound to desktop event so we catch what we are listening to in mobile */\n\n\n    if (browserUtils.isMobileOS && targetObject.mobile) {\n      var mobileBlurLock = false;\n\n      var mobileHandler = function (mobileEvent) {\n        if (!mobileBlurLock) {\n          mobileEvent.preventDefault();\n          var mouseEvent = document.createEvent('MouseEvent');\n          mouseEvent.initMouseEvent(eventName, true, false, window, 1, mobileEvent.screenX, mobileEvent.screenY, mobileEvent.clientX, mobileEvent.clientY, mobileEvent.ctrlKey, mobileEvent.altKey, mobileEvent.shiftKey, mobileEvent.metaKey, 1, null);\n          mobileEvent.target.dispatchEvent(mouseEvent);\n        }\n\n        mobileBlurLock = false;\n      };\n      /* If user moves while touch or cancels event, cancel the mobile -> default click dispatch for later */\n\n\n      _.forEach(['touchmove', 'touchcancel'], function (blurEvent) {\n        targetObject.mobile[`on${blurEvent}`] = function () {\n          mobileBlurLock = true;\n        };\n      });\n\n      targetObject.mobile[`on${eventObject[eventName]}`] = mobileHandler;\n    }\n  });\n};\nexports = {\n  subscribeMouseEvent\n};\nexport default exports;","map":{"version":3,"names":["_","browserUtils","exports","subscribeMouseEvent","targetObject","eventObject","eventHandler","forEach","Object","keys","eventName","default","on","addEventListener","isMobileOS","mobile","mobileBlurLock","mobileHandler","mobileEvent","preventDefault","mouseEvent","document","createEvent","initMouseEvent","window","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","target","dispatchEvent","blurEvent"],"sources":["C:/Users/rahukl57/Desktop/SWF/CreatingOwnComponentUsingJsx/node_modules/@swf/core/src/uielements/src/js/awEventHelperService.js"],"sourcesContent":["// Copyright (c) 2020 Siemens\n\n/**\n * This module provides event building support\n *\n * @module js/awEventHelperService\n */\n\nimport _ from 'lodash';\nimport browserUtils from 'js/browserUtils';\n\nlet exports = {};\n\n/**\n *\n * @param {Object} targetObject - Map for object default and mobile counterpart\n * @param {Object} eventObject - Map for event type to mobile counterpart for all mouseevents click, mousedown, mouseup, etc.\n * @param {Function} eventHandler - handler function, takes event as single argument\n */\nexport let subscribeMouseEvent = function( targetObject, eventObject, eventHandler ) {\n    _.forEach( Object.keys( eventObject ), ( eventName ) => {\n        /* Register the event type -> eventHandler */\n        if( targetObject.default.on ) {\n            // if jQuery object\n            targetObject.default.on( eventName, eventHandler );\n        } else {\n            // if Element\n            targetObject.default.addEventListener( eventName, eventHandler );\n        }\n        /* If mobile device, make sure the mobile event is bound to desktop event so we catch what we are listening to in mobile */\n        if( browserUtils.isMobileOS && targetObject.mobile ) {\n            var mobileBlurLock = false;\n            var mobileHandler = function( mobileEvent ) {\n                if( !mobileBlurLock ) {\n                    mobileEvent.preventDefault();\n                    var mouseEvent = document.createEvent( 'MouseEvent' );\n                    mouseEvent.initMouseEvent( eventName, true, false, window,\n                        1, mobileEvent.screenX, mobileEvent.screenY, mobileEvent.clientX, mobileEvent.clientY,\n                        mobileEvent.ctrlKey, mobileEvent.altKey, mobileEvent.shiftKey, mobileEvent.metaKey,\n                        1, null );\n                    mobileEvent.target.dispatchEvent( mouseEvent );\n                }\n                mobileBlurLock = false;\n            };\n            /* If user moves while touch or cancels event, cancel the mobile -> default click dispatch for later */\n            _.forEach( [ 'touchmove', 'touchcancel' ], function( blurEvent ) {\n                targetObject.mobile[ `on${blurEvent}` ] = function() {\n                    mobileBlurLock = true;\n                };\n            } );\n            targetObject.mobile[ `on${eventObject[ eventName ]}` ] = mobileHandler;\n        }\n    } );\n};\n\nexports = {\n    subscribeMouseEvent\n};\nexport default exports;\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;AACA;AAEA,OAAOA,CAAP,MAAc,QAAd;AACA,OAAOC,YAAP,MAAyB,iBAAzB;AAEA,IAAIC,OAAO,GAAG,EAAd;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIC,mBAAmB,GAAG,UAAUC,YAAV,EAAwBC,WAAxB,EAAqCC,YAArC,EAAoD;EACjFN,CAAC,CAACO,OAAF,CAAWC,MAAM,CAACC,IAAP,CAAaJ,WAAb,CAAX,EAAyCK,SAAF,IAAiB;IACpD;IACA,IAAIN,YAAY,CAACO,OAAb,CAAqBC,EAAzB,EAA8B;MAC1B;MACAR,YAAY,CAACO,OAAb,CAAqBC,EAArB,CAAyBF,SAAzB,EAAoCJ,YAApC;IACH,CAHD,MAGO;MACH;MACAF,YAAY,CAACO,OAAb,CAAqBE,gBAArB,CAAuCH,SAAvC,EAAkDJ,YAAlD;IACH;IACD;;;IACA,IAAIL,YAAY,CAACa,UAAb,IAA2BV,YAAY,CAACW,MAA5C,EAAqD;MACjD,IAAIC,cAAc,GAAG,KAArB;;MACA,IAAIC,aAAa,GAAG,UAAUC,WAAV,EAAwB;QACxC,IAAI,CAACF,cAAL,EAAsB;UAClBE,WAAW,CAACC,cAAZ;UACA,IAAIC,UAAU,GAAGC,QAAQ,CAACC,WAAT,CAAsB,YAAtB,CAAjB;UACAF,UAAU,CAACG,cAAX,CAA2Bb,SAA3B,EAAsC,IAAtC,EAA4C,KAA5C,EAAmDc,MAAnD,EACI,CADJ,EACON,WAAW,CAACO,OADnB,EAC4BP,WAAW,CAACQ,OADxC,EACiDR,WAAW,CAACS,OAD7D,EACsET,WAAW,CAACU,OADlF,EAEIV,WAAW,CAACW,OAFhB,EAEyBX,WAAW,CAACY,MAFrC,EAE6CZ,WAAW,CAACa,QAFzD,EAEmEb,WAAW,CAACc,OAF/E,EAGI,CAHJ,EAGO,IAHP;UAIAd,WAAW,CAACe,MAAZ,CAAmBC,aAAnB,CAAkCd,UAAlC;QACH;;QACDJ,cAAc,GAAG,KAAjB;MACH,CAXD;MAYA;;;MACAhB,CAAC,CAACO,OAAF,CAAW,CAAE,WAAF,EAAe,aAAf,CAAX,EAA2C,UAAU4B,SAAV,EAAsB;QAC7D/B,YAAY,CAACW,MAAb,CAAsB,KAAIoB,SAAU,EAApC,IAA0C,YAAW;UACjDnB,cAAc,GAAG,IAAjB;QACH,CAFD;MAGH,CAJD;;MAKAZ,YAAY,CAACW,MAAb,CAAsB,KAAIV,WAAW,CAAEK,SAAF,CAAc,EAAnD,IAAyDO,aAAzD;IACH;EACJ,CAhCD;AAiCH,CAlCM;AAoCPf,OAAO,GAAG;EACNC;AADM,CAAV;AAGA,eAAeD,OAAf"},"metadata":{},"sourceType":"module"}