{"code":"(this.webpackJsonpcreatingjsxcomponent=this.webpackJsonpcreatingjsxcomponent||[]).push([[38],{2967:function(t,e,a){\"use strict\";a.r(e),a.d(e,\"initialize\",(function(){return h})),a.d(e,\"syncSublocationState\",(function(){return P})),a.d(e,\"clearSublocationState\",(function(){return w})),a.d(e,\"getTabToActivateAndVisibleTabs\",(function(){return K})),a.d(e,\"updateSelection\",(function(){return V})),a.d(e,\"getContext\",(function(){return O})),a.d(e,\"getVisibleTabs\",(function(){return W}));var n=a(1),i=a.n(n),s=a(0),o=a(19),r=a(15),c=a(65),d=a(12),l=a(25),b=a(11),u=a(32),m=a(39),p=a.n(m),v=a(80),x=a(165);new p.a(\"selection\");const y=t=>{\"string\"!==typeof t.name&&r.default.getLocalizedText(t.name.source,t.name.key).then((function(e){t.name=e}))},h=()=>(async()=>await o.default.getCfg(\"secondaryWorkareaTabs\").then((t=>(t.tabs.forEach((function(t,e){t.pageId=t.pageId?t.pageId:e})),t.tabs.forEach(y),t))))().then((t=>{const{ctxParameters:e,additionalParameters:a}=H(t);return{tabsConfig:t,ctxParameters:e,additionalParameters:a}})),C=(t,e,a,n)=>{var s=t.visibleWhen;t.visibleWhen&&t.visibleWhen.condition&&(s=i.a.get(e,t.visibleWhen.condition).expression);return t.displayTab=!0,s&&(t.displayTab=l.a.evaluateCondition({ctx:d.default.ctx,selection:a,context:{...n,isXrtApplicable:n&&n.hasOwnProperty(\"isXrtApplicable\")?n.isXrtApplicable:!i.a.isUndefined(d.default.ctx.tcSessionData)}},s)),t.displayTab},f=(t,e)=>t.filter((t=>t.tabContent?t.pageId===e.pageId&&i.a.isEqual(t.tabContent,e.tabContent):t.pageId===e.pageId)).length>0,T=(t,e)=>{let a=i.a.findIndex(t,(t=>t.pageId===e.pageId||t.name===e.name),0);return t=i.a.map(t,((t,e)=>(t.selectedTab=e===a||void 0,t)))},g=(t,e,a,n,o)=>{let r=((t,e)=>{if(e&&t&&t.length>0){let a=-1;return\"object\"===typeof e?a=i.a.findIndex(t,(t=>t.pageId===e.pageId||t.name===e.name),0):\"string\"===typeof e&&(a=i.a.findIndex(t,(t=>t.name===e||t.view===e),0)),a>-1}return!1})(n,a);a=!1===r?a:void 0;var c=b.a.instance.defer();if(t.deps){const n=n=>n[t.method](e,a,o,r);return s.b.loadDependentModule(t.deps).then(n)}return c.Promise},P=(t,e)=>{let a;a=e?{...e.value}:{},a.secondaryActiveTabId=t.tabKey?t.tabKey:t.view,e.secondaryActiveTabId!==a.secondaryActiveTabId&&e.update(a)},w=t=>{let e={...t.value};e.secondaryActiveTabId=void 0,t.update(e)},S=(t,e,a,n,s,o,r,c,d,l,b,m)=>{let p={},v=[],x=[];if(d){let e=t.getData().changedAllVisibleTabs,a=[];e?(e.map((t=>{let e={...t};e.hasChildTabs||a.push(e)})),0===a.length&&(a=r)):a=r,x=d.childTabs,i.a.forEach(x,(t=>{t.priority=l})),v=v.concat(x,a)}else v=b||r;v.sort((function(t,e){return t.priority-e.priority}));let y=c;if(c=I(v,c),!i.a.isEmpty(c)&&f(v,c))p=c,v=T(v,c);else if(i.a.isEmpty(c)){y=u.default.get(\"lastActiveTab\");let c=I(v,y);if(!i.a.isEmpty(c)&&f(v,c)&&\"\"!==y)return A(e,a,m,n,y,r,t,s,o,v);p=v[0],v=T(v,p)}else p=v[0],v=T(v,p);p&&(p.tabContent=d?d.activeTabContent:void 0,p.extraInfo=d?d.extraInfo:null);const h=p&&p.tabKey?p.tabKey:p?p.view:\"\";let C=t&&t.ctx&&t.ctx.visibleTabs?t.ctx.visibleTabs:void 0;return C&&0!==C.length||(C=t&&t.getData()&&t.getData().summaryContext&&t.getData().summaryContext.unExpandedVisibleTabs),{summaryContext:{activeTab:p,visibleTabs:v,api:(i,c,d)=>{u.default.publish(\"lastActiveTab\",i),E(e),M(t,e,a,i,c,v,r,o,n,s,d,l)},selection:n,allVisibleTabs:b,activeTabKey:h,childTabs:x,unExpandedVisibleTabs:C}}},A=(t,e,a,n,i,s,o,r,c,d)=>g(a,n[0],i,s,r).then((l=>{const u=o.getData().summaryContext&&o.getData().summaryContext.selection?o.getData().summaryContext.selection:void 0;return!u||u&&1===u.length&&u[0].uid===n[0].uid?S(o,t,e,n,r,c,s,i,l,a.priority,d,a):u&&1===u.length?A(t,e,a,u,i,s,o,r,c):b.a.instance.resolve({summaryContext:o.getData().summaryContext})})),I=(t,e)=>{if(\"object\"!==typeof e){let a=i.a.findIndex(t,(t=>t.pageId&&t.pageId===e||t.tabKey&&t.tabKey===e||t.name&&t.name===e||t.view&&t.view===e||t.id&&t.id===e),0);e=t[a]}return e},j=(t,e)=>!!(!t&&!e||t&&0===t.length&&e&&0===e.length)||t.length===e.length&&e.length>0&&i.a.isEqual(t[0].uid,e[0].uid),D=(t,e)=>{let a=e&&e.summaryContext&&e.summaryContext.activeTab&&e.summaryContext.activeTab.tabKey?e.summaryContext.activeTab.tabKey:e&&e.summaryContext&&e.summaryContext.activeTab&&e.summaryContext.activeTab.view?e.summaryContext.activeTab.view:\"\";return\"\"!==t&&t!==a&&(a=e&&e.getData()&&e.getData().summaryContext&&e.getData().summaryContext.activeTab&&e.getData().summaryContext.activeTab.tabKey?e&&e.getData().summaryContext.activeTab.tabKey:e.getData()&&e.getData().summaryContext&&e.getData().summaryContext.activeTab&&e.getData().summaryContext.activeTab.view?e.getData().summaryContext.activeTab.view:\"\",\"\"!==t&&t!==a&&(a=e&&e.summaryContext?e.summaryContext.activeTabKey:\"\",\"\"!==t&&t!==a&&(a=e&&e.getData().summaryContext?e.getData().summaryContext.activeTabKey:\"\",\"\"!==t&&t!==a)))},K=(t,e,a)=>{const n=()=>{let n=[],o=[];if(l){var r=[];l.tabs.map((t=>{let e={...t};C(e,l,m,d)&&r.push(e)}));for(const t of r)!0===t.hasChildTabs?n.push(t):o.push(t)}if(n.length>0&&!h)return s({path:\"data.changedAllVisibleTabs\",value:[]}),A(e.selectionData,e.tabsConfig,n[0],m,y,o,t,d,s,r);if(n.length>0){var c={childTabs:t.summaryContext?t.summaryContext.childTabs:[],activeTabContent:i.a.get(t,\"summaryContext.activeTab.tabContent\")};return c.extraInfo||(c.extraInfo=t.summaryContext&&t.summaryContext.activeTab?t.summaryContext.activeTab.extraInfo:null),c.childTabs&&0!==c.childTabs.length?b.a.instance.resolve(S(t,e.selectionData,e.tabsConfig,m,d,s,o,y,c,n[0].priority,r,n[0])):void s({path:\"data.changedAllVisibleTabs\",value:a})}return b.a.instance.resolve(S(t,e.selectionData,e.tabsConfig,m,d,s,o,y))};if(((t,e)=>!t||!t.selection||!e||!t.tabsConfig||!t.tabsConfig.tabs)(e,t))return;const{dispatch:s}=t,{summaryContext:o}=t.getData(),{selection:r,context:d,tabsConfig:l}=e;let m=Array.isArray(r)?r:[r],p=[];l&&l.tabs.map((t=>{let e={...t};C(e,l,m,d)&&p.push(e)}));let v=d&&d.pageContext&&d.pageContext.sublocationState&&\"\"!==d.pageContext.sublocationState.secondaryActiveTabId?d.pageContext.sublocationState.secondaryActiveTabId:\"\";v||(v=\"\");let x=o&&o.activeTabKey?o.activeTabKey:\"\",y=x;if(D(v,t)&&(y=v,u.default.publish(\"lastActiveTab\",y)),o&&!D(v,t)&&j(o.selection,m)&&((t,e)=>{if(!t&&!e)return!0;if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var a=0;a<t.length;++a)if((t[a].tabKey?t[a].tabKey:t[a].name)!==(e[a].tabKey?e[a].tabKey:e[a].name))return!1;return!0})(o.unExpandedVisibleTabs,p))return;let h=!1;o&&(D(v,t)?y=v:j(o.selection,m)&&(h=!0,((t,e,a)=>t&&t.activeTab&&!t.activeTab.api&&e&&0===e.filter((t=>t.view===a)).length)(o,p,x)&&(h=!1))),\"\"===y&&(y=u.default.get(\"lastActiveTab\")?u.default.get(\"lastActiveTab\"):y);let f={...t.summaryContext};f.selection=m,f.unExpandedVisibleTabs=p,f.activeTabKey=y,s({path:\"data.summaryContext\",value:f});let T=d?d.editContext:\"\";T&&\"\"!==T||(T=\"TABLE_CONTEXT\");let g=c.a.getEditHandler(T);const P=!o||void 0!==i.a.get(o,\"activeTab.api\")||j(o.selection,m);return!g||!g.editInProgress()&&P?c.a.leaveConfirmation().then((function(){return n()})):n()},M=(t,e,a,n,i,s,o,r,d,l,b,u)=>{const m=s.filter((function(t){return t.pageId===n||t.name===i}))[0],p=n=>{let{summaryContext:i}=S(t,e,a,d,l,r,o,m,n,u,s);r({path:\"data.summaryContext\",value:i})},v=()=>{if(m&&m.api){if(!m.tabContent||b){const t=m.tabKey?m.tabKey:m.view;r({path:\"data.summaryContext.activeTabKey\",value:t}),m.api(d[0],t,null,null,l).then((t=>{p(t)}))}}else p()};let x=l?l.editContext:\"\";x&&\"\"!==x||(x=\"TABLE_CONTEXT\");let y=c.a.getEditHandler(x);if(y&&y.editInProgress())return v();c.a.leaveConfirmation().then((function(){return v()}))},V=t=>Array.isArray(t)?t:[t],O=(t,e,a)=>[new v.a({ctxParameters:[],additionalParameters:[a.summaryContext,e.selection,e.context,e.selectionData],compute:()=>({activeTab:a.summaryContext?a.summaryContext.activeTab:void 0,selection:Array.isArray(e.selection)?e.selection:[e.selection],context:e.context,api:a.summaryContext?a.summaryContext.api:void 0,selectionData:e.selectionData})})],E=t=>{t&&t.getValue()&&t.getValue().selected&&t.getValue().selected.length>0&&t.update({selected:[],relationInfo:[]})},H=t=>t?(t.tabs||[]).reduce(((e,a)=>{let s={};a.visibleWhen&&a.visibleWhen.condition?s=i.a.get(t,a.visibleWhen.condition):s.expression=a.visibleWhen;const o=[Object(x.a)(s,[\"selection\",\"context\"])];return{ctxParameters:i.a.uniq(Object(n.concat)(Object(n.flatten)(o.map((t=>t.ctxParameters))),e.ctxParameters)),additionalParameters:i.a.uniq(Object(n.concat)(e.additionalParameters,Object(n.flatten)(o.map((t=>t.additionalParameters)))))}}),{ctxParameters:[],additionalParameters:[]}):{ctxParameters:[],additionalParameters:[]},W=(t,e,a)=>{let{context:n,tabsConfig:s,selection:o,additionalParameters:r,ctxParameters:c}=e,d=Array.isArray(o)?o:[o];const l={context:n,selection:o},b=r.map((t=>i.a.get(l,t)));return new v.a({ctxParameters:c,additionalParameters:b,compute:()=>{let t=[];if(s&&s.tabs.map((e=>{let a={...e};C(a,s,d,n)&&t.push(a)})),t)return t}})}},979:function(t,e,a){\"use strict\";a.r(e);var n=a(5),i=a(0),s=a(10),o=a(4),r=(a(8),a(3),a(273)),c=a(309),d=a(63),l=a(45),b=a(2967),u=a(2);o.a.instance;const m=Object(l.h)(\"div\"),p=Object(l.h)(d.default),v={context:b.getContext,visibleTabs:b.getVisibleTabs};Object(i.h)(\"js/AwSelectionSummaryService\",(()=>Promise.resolve().then(a.bind(null,2967))));const x=Object(n.a)({schemaVersion:\"1.0.0\",actions:{getTabToActivateAndVisibleTabs:{actionType:\"JSFunctionAsync\",method:\"getTabToActivateAndVisibleTabs\",inputData:{data:\"{{data}}\",props:\"{{props}}\",allVisibleTabs:\"{{data.ctx.visibleTabs}}\"},outputData:{summaryContext:\"summaryContext\"},deps:\"js/AwSelectionSummaryService\"},syncSublocationState:{actionType:\"JSFunction\",method:\"syncSublocationState\",inputData:{activeTab:\"{{data.summaryContext.activeTab}}\",sublocationState:\"{{props.context.pageContext.sublocationState}}\"},deps:\"js/AwSelectionSummaryService\"},clearSublocationState:{actionType:\"JSFunction\",method:\"clearSublocationState\",inputData:{sublocationState:\"{{props.context.pageContext.sublocationState}}\"},deps:\"js/AwSelectionSummaryService\"}},lifecycleHooks:{onMount:\"getTabToActivateAndVisibleTabs\",onUpdate:[{action:\"syncSublocationState\",observers:[\"viewModel.data.summaryContext.activeTab.tabKey\",\"viewModel.data.summaryContext.activeTab.view\"]},{action:\"getTabToActivateAndVisibleTabs\",observers:[\"viewModel.ctx.visibleTabs\",\"props.selection.uid\",\"props.selection[0].uid\",\"props.selection.length\",\"props.context.pageContext.sublocationState.secondaryActiveTabId\"]}],onUnmount:\"clearSublocationState\"},ctx:{context:{parser:{method:\"getContext\",deps:\"js/AwSelectionSummaryService\"}},visibleTabs:{parser:{method:\"getVisibleTabs\",deps:\"js/AwSelectionSummaryService\"}}},props:{selection:{type:\"object\"},context:{type:\"object\"},\"selection-data\":{type:\"object\"},\"tabs-config\":{type:\"object\"},\"ctx-parameters\":{type:\"object\"},\"additional-parameters\":{type:\"object\"}},_viewModelId:\"AwSelectionSummaryInternal\",_uniqueViewModelId:\"AwSelectionSummaryInternal\"},(t=>{let e=t.subPanelContext,{viewModel:{data:a,dataProviders:n,dispatch:i,conditions:o,selectionModels:d,editHandlers:l,chartProviders:b,ports:v},grids:x,ctx:y,actions:h,fields:C,messages:f,i18n:T,formProp:g,viewPath:P}=t;a={...a,dataProviders:n},e&&e.fields&&(C={...C,...e.fields});return Object(u.jsxs)(m,{className:\"aw-xrt-summaryXrt\",existWhen:s.a.instance(\"data.summaryContext && data.summaryContext.activeTab && data.summaryContext.visibleTabs.length > 0\")({props:t,data:a,fields:C,dataProviders:n,ctx:y,i18n:T,actions:h,subPanelContext:e,viewPath:P,conditions:o,formProp:g,dispatch:i,selectionModels:d,editHandlers:l,chartProviders:b,ports:v}),children:[Object(u.jsx)(m,{className:\"aw-xrt-tabsContainer\",existWhen:s.a.instance(\"(data.summaryContext && data.summaryContext.activeTab && data.summaryContext.visibleTabs) && ((data.summaryContext.activeTab.tabContent === undefined && data.summaryContext.visibleTabs.length > 1) || (data.summaryContext.activeTab.tabContent !== undefined))\")({props:t,data:a,fields:C,dataProviders:n,ctx:y,i18n:T,actions:h,subPanelContext:e,viewPath:P,conditions:o,formProp:g,dispatch:i,selectionModels:d,editHandlers:l,chartProviders:b,ports:v}),children:Object(u.jsx)(r.default,{tabContainerModel:s.a.instance(\"data.summaryContext.visibleTabs\")({props:t,data:a,fields:C,dataProviders:n,ctx:y,i18n:T,actions:h,subPanelContext:e,viewPath:P,conditions:o,formProp:g,dispatch:i,selectionModels:d,editHandlers:l,chartProviders:b,ports:v}),callback:s.a.instance(\"data.summaryContext.api\")({props:t,data:a,fields:C,dataProviders:n,ctx:y,i18n:T,actions:h,subPanelContext:e,viewPath:P,conditions:o,formProp:g,dispatch:i,selectionModels:d,editHandlers:l,chartProviders:b,ports:v}),tabSetId:s.a.instance(\"props.context.tabSetId ? props.context.tabSetId : 'secondary'\")({props:t,data:a,fields:C,dataProviders:n,ctx:y,i18n:T,actions:h,subPanelContext:e,viewPath:P,conditions:o,formProp:g,dispatch:i,selectionModels:d,editHandlers:l,chartProviders:b,ports:v}),children:Object.entries(s.a.instance(\"data.summaryContext.visibleTabs\")({props:t,data:a,fields:C,dataProviders:n,ctx:y,i18n:T,actions:h,subPanelContext:e,viewPath:P,conditions:o,formProp:g,dispatch:i,selectionModels:d,editHandlers:l,chartProviders:b,ports:v})||[]).map((r=>{let[m,p]=r;return Object(u.jsx)(c.default,{tabModel:s.a.instance(\"tab\")({props:t,data:a,fields:C,dataProviders:n,ctx:y,i18n:T,actions:h,subPanelContext:e,viewPath:P,conditions:o,formProp:g,dispatch:i,selectionModels:d,editHandlers:l,chartProviders:b,ports:v,tab:p,$index:m})},m)}))})}),Object(u.jsx)(\"div\",{className:\"aw-widgets-multiSelectContainer\",children:Object(u.jsx)(p,{viewId:s.a.instance(\"data.summaryContext.activeTab.view\")({props:t,data:a,fields:C,dataProviders:n,ctx:y,i18n:T,actions:h,subPanelContext:e,viewPath:P,conditions:o,formProp:g,dispatch:i,selectionModels:d,editHandlers:l,chartProviders:b,ports:v}),viewPath:s.a.instance(\"viewPath\")({props:t,data:a,fields:C,dataProviders:n,ctx:y,i18n:T,actions:h,subPanelContext:e,viewPath:P,conditions:o,formProp:g,dispatch:i,selectionModels:d,editHandlers:l,chartProviders:b,ports:v}),name:s.a.instance(\"data.summaryContext.activeTab.view\")({props:t,data:a,fields:C,dataProviders:n,ctx:y,i18n:T,actions:h,subPanelContext:e,viewPath:P,conditions:o,formProp:g,dispatch:i,selectionModels:d,editHandlers:l,chartProviders:b,ports:v}),subPanelContext:s.a.instance(\"props.ctx.context[0]\")({props:t,data:a,fields:C,dataProviders:n,ctx:y,i18n:T,actions:h,subPanelContext:e,viewPath:P,conditions:o,formProp:g,dispatch:i,selectionModels:d,editHandlers:l,chartProviders:b,ports:v}),existWhen:s.a.instance(\"data.summaryContext && data.summaryContext.activeTab && data.summaryContext.activeTab.view\")({props:t,data:a,fields:C,dataProviders:n,ctx:y,i18n:T,actions:h,subPanelContext:e,viewPath:P,conditions:o,formProp:g,dispatch:i,selectionModels:d,editHandlers:l,chartProviders:b,ports:v})})})]})}),void 0,v);e.default=x}}]);","name":"static/js/38.a4e0c3d0.chunk.js","input":"(this[\"webpackJsonpcreatingjsxcomponent\"] = this[\"webpackJsonpcreatingjsxcomponent\"] || []).push([[38],{\n\n/***/ 2967:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialize\", function() { return initialize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"syncSublocationState\", function() { return syncSublocationState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clearSublocationState\", function() { return clearSublocationState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getTabToActivateAndVisibleTabs\", function() { return getTabToActivateAndVisibleTabs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateSelection\", function() { return updateSelection; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getContext\", function() { return getContext; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getVisibleTabs\", function() { return getVisibleTabs; });\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var js_moduleLoader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var js_configurationService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(19);\n/* harmony import */ var js_localeService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(15);\n/* harmony import */ var js_editHandlerService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(65);\n/* harmony import */ var js_appCtxService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(12);\n/* harmony import */ var js_conditionService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(25);\n/* harmony import */ var js_awPromiseService__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(11);\n/* harmony import */ var js_localStorage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(32);\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(39);\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(debug__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var js_derivedContextService__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(80);\n/* harmony import */ var js_conditionParser_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(165);\n/* eslint-disable complexity */ // Copyright (c) 2021 Siemens\nconst trace=new debug__WEBPACK_IMPORTED_MODULE_9___default.a('selection');const loadTabTitle=tab=>{if(typeof tab.name!=='string'){js_localeService__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getLocalizedText(tab.name.source,tab.name.key).then(function(result){tab.name=result;});}};const loadSecondaryWorkareaTabs=async()=>{return await js_configurationService__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getCfg('secondaryWorkareaTabs').then(tabsConfig=>{tabsConfig.tabs.forEach(function(tab,idx){tab.pageId=tab.pageId?tab.pageId:idx;});tabsConfig.tabs.forEach(loadTabTitle);return tabsConfig;});};const initialize=()=>{return loadSecondaryWorkareaTabs().then(tabsConfig=>{const{ctxParameters,additionalParameters}=getTabsState(tabsConfig);return{tabsConfig,ctxParameters,additionalParameters};});};const conditionFilter=(tab,tabsConfig,selection,context)=>{var conditionExpression=tab.visibleWhen;if(tab.visibleWhen&&tab.visibleWhen.condition){var conditionExpressionObj=lodash__WEBPACK_IMPORTED_MODULE_0___default.a.get(tabsConfig,tab.visibleWhen.condition);conditionExpression=conditionExpressionObj.expression;}tab.displayTab=true;if(conditionExpression){tab.displayTab=js_conditionService__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"].evaluateCondition({ctx:js_appCtxService__WEBPACK_IMPORTED_MODULE_5__[\"default\"].ctx,selection:selection,context:{...context,isXrtApplicable:context&&context.hasOwnProperty('isXrtApplicable')?context.isXrtApplicable:!lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isUndefined(js_appCtxService__WEBPACK_IMPORTED_MODULE_5__[\"default\"].ctx.tcSessionData)}},conditionExpression);}return tab.displayTab;};const isActiveTabStillVisible=(visibleTabs,activeTab)=>{return visibleTabs.filter(tab=>tab.tabContent?tab.pageId===activeTab.pageId&&lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isEqual(tab.tabContent,activeTab.tabContent):tab.pageId===activeTab.pageId).length>0;};const updateTabsToShow=(tabsToShow,activeTab)=>{let index=lodash__WEBPACK_IMPORTED_MODULE_0___default.a.findIndex(tabsToShow,tab=>{return tab.pageId===activeTab.pageId||tab.name===activeTab.name;},0);tabsToShow=lodash__WEBPACK_IMPORTED_MODULE_0___default.a.map(tabsToShow,(tab,idx)=>{if(idx===index){tab.selectedTab=true;}else{tab.selectedTab=undefined;}return tab;});return tabsToShow;};const isContributedTabActive=(swaContributedTabs,activeTab)=>{if(activeTab&&swaContributedTabs&&swaContributedTabs.length>0){let ndx=-1;if(typeof activeTab==='object'){ndx=lodash__WEBPACK_IMPORTED_MODULE_0___default.a.findIndex(swaContributedTabs,tab=>{return tab.pageId===activeTab.pageId||tab.name===activeTab.name;},0);}else if(typeof activeTab==='string'){ndx=lodash__WEBPACK_IMPORTED_MODULE_0___default.a.findIndex(swaContributedTabs,tab=>{return tab.name===activeTab||tab.view===activeTab;},0);}return ndx>-1;}return false;};const fetchChildTabs=(containerTab,selection,activeTab,swaContributedTabs,context)=>{let isContributedTab=isContributedTabActive(swaContributedTabs,activeTab);activeTab=isContributedTab===false?activeTab:undefined;var deferred=js_awPromiseService__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"].instance.defer();if(containerTab.deps){const doAction=depModuleObj=>{return depModuleObj[containerTab.method](selection,activeTab,context,isContributedTab);};return js_moduleLoader__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"b\"].loadDependentModule(containerTab.deps).then(doAction);}return deferred.Promise;};const syncSublocationState=(activeTab,sublocationState)=>{let newSublocationState;if(sublocationState){newSublocationState={...sublocationState.value};}else{newSublocationState={};}newSublocationState.secondaryActiveTabId=activeTab.tabKey?activeTab.tabKey:activeTab.view;if(sublocationState.secondaryActiveTabId!==newSublocationState.secondaryActiveTabId){sublocationState.update(newSublocationState);}};const clearSublocationState=sublocationState=>{let newSublocationState={...sublocationState.value};newSublocationState.secondaryActiveTabId=undefined;sublocationState.update(newSublocationState);};const processFetchedData=(data,selectionData,tabsConfig,selection,context,dispatch,swaContributedTabs,activeTab,output,containerPriority,updatedTabsToShow,containerTab)=>{let tabToActivate={};let tabsToShow=[];let childTabs=[];if(output){let allVisibleTabs=data.getData().changedAllVisibleTabs;let allVisibleContributedTabs=[];if(allVisibleTabs){allVisibleTabs.map(tab=>{let tabClone={...tab};if(!tabClone.hasChildTabs){allVisibleContributedTabs.push(tabClone);}});if(allVisibleContributedTabs.length===0){allVisibleContributedTabs=swaContributedTabs;}}else{allVisibleContributedTabs=swaContributedTabs;}childTabs=output.childTabs;lodash__WEBPACK_IMPORTED_MODULE_0___default.a.forEach(childTabs,childTab=>{childTab.priority=containerPriority;});tabsToShow=tabsToShow.concat(childTabs,allVisibleContributedTabs);}else{tabsToShow=updatedTabsToShow?updatedTabsToShow:swaContributedTabs;}// sort the contributed and container tabs based on priority\ntabsToShow.sort(function(t1,t2){return t1.priority-t2.priority;});let requestedActiveTab=activeTab;activeTab=evalTabObj(tabsToShow,activeTab);if(!lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isEmpty(activeTab)&&isActiveTabStillVisible(tabsToShow,activeTab)){tabToActivate=activeTab;tabsToShow=updateTabsToShow(tabsToShow,activeTab);}else if(lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isEmpty(activeTab)){requestedActiveTab=js_localStorage__WEBPACK_IMPORTED_MODULE_8__[\"default\"].get('lastActiveTab');let activeTab1=evalTabObj(tabsToShow,requestedActiveTab);if(!lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isEmpty(activeTab1)&&isActiveTabStillVisible(tabsToShow,activeTab1)&&requestedActiveTab!==''){return fetchTabsData(selectionData,tabsConfig,containerTab,selection,requestedActiveTab,swaContributedTabs,data,context,dispatch,tabsToShow);}tabToActivate=tabsToShow[0];tabsToShow=updateTabsToShow(tabsToShow,tabToActivate);}else{tabToActivate=tabsToShow[0];tabsToShow=updateTabsToShow(tabsToShow,tabToActivate);}if(tabToActivate){tabToActivate.tabContent=output?output.activeTabContent:undefined;tabToActivate.extraInfo=output?output.extraInfo:null;}const tabChangeCallback=(pageId,tabTitle,refresh)=>{js_localStorage__WEBPACK_IMPORTED_MODULE_8__[\"default\"].publish('lastActiveTab',pageId);clearSelectionData(selectionData);activateTab(data,selectionData,tabsConfig,pageId,tabTitle,tabsToShow,swaContributedTabs,dispatch,selection,context,refresh,containerPriority);};const activeTabKey=tabToActivate&&tabToActivate.tabKey?tabToActivate.tabKey:tabToActivate?tabToActivate.view:'';let unExpandedVisibleTabs=data&&data.ctx&&data.ctx.visibleTabs?data.ctx.visibleTabs:undefined;if(!unExpandedVisibleTabs||unExpandedVisibleTabs.length===0){unExpandedVisibleTabs=data&&data.getData()&&data.getData().summaryContext&&data.getData().summaryContext.unExpandedVisibleTabs;}return{summaryContext:{activeTab:tabToActivate,visibleTabs:tabsToShow,api:tabChangeCallback,selection:selection,allVisibleTabs:updatedTabsToShow,activeTabKey:activeTabKey,childTabs:childTabs,unExpandedVisibleTabs}};};const fetchTabsData=(selectionData,tabsConfig,containerTab,selection,activeTab,swaContributedTabs,data,context,dispatch,allVisibleTabs)=>{return fetchChildTabs(containerTab,selection[0],activeTab,swaContributedTabs,context).then(output=>{const currentSelection=data.getData().summaryContext&&data.getData().summaryContext.selection?data.getData().summaryContext.selection:undefined;if(!currentSelection||currentSelection&&currentSelection.length===1&&currentSelection[0].uid===selection[0].uid){return processFetchedData(data,selectionData,tabsConfig,selection,context,dispatch,swaContributedTabs,activeTab,output,containerTab.priority,allVisibleTabs,containerTab);}if(currentSelection&&currentSelection.length===1){return fetchTabsData(selectionData,tabsConfig,containerTab,currentSelection,activeTab,swaContributedTabs,data,context,dispatch);}return js_awPromiseService__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"].instance.resolve({summaryContext:data.getData().summaryContext});});};const evalTabObj=(tabsToShow,activeTab)=>{if(typeof activeTab!=='object'){let index=lodash__WEBPACK_IMPORTED_MODULE_0___default.a.findIndex(tabsToShow,tab=>{return tab.pageId&&tab.pageId===activeTab||tab.tabKey&&tab.tabKey===activeTab||tab.name&&tab.name===activeTab||tab.view&&tab.view===activeTab||tab.id&&tab.id===activeTab;},0);activeTab=tabsToShow[index];}return activeTab;};const isInputSelectionSameAsCurrentSelection=(currentSelection,inputSelection)=>{if(!currentSelection&&!inputSelection||currentSelection&&currentSelection.length===0&&inputSelection&&inputSelection.length===0){return true;}return currentSelection.length===inputSelection.length&&inputSelection.length>0&&lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isEqual(currentSelection[0].uid,inputSelection[0].uid);};const areInputPropsAndDataNotPopulatedYet=(props,data)=>{return!props||!props.selection||!data||!props.tabsConfig||!props.tabsConfig.tabs;};const areCurrentUnexpandedVisibleTabsSameAsInputUnexpandedVisibleTabs=(currentlyVisibleUnExpandedTabs,inputUnExpandedTabs)=>{if(!currentlyVisibleUnExpandedTabs&&!inputUnExpandedTabs){return true;}if(!currentlyVisibleUnExpandedTabs||!inputUnExpandedTabs){return false;}if(currentlyVisibleUnExpandedTabs.length!==inputUnExpandedTabs.length){return false;}for(var i=0;i<currentlyVisibleUnExpandedTabs.length;++i){var cachedTabKey=currentlyVisibleUnExpandedTabs[i].tabKey?currentlyVisibleUnExpandedTabs[i].tabKey:currentlyVisibleUnExpandedTabs[i].name;var receivedTabKey=inputUnExpandedTabs[i].tabKey?inputUnExpandedTabs[i].tabKey:inputUnExpandedTabs[i].name;if(cachedTabKey!==receivedTabKey){return false;}}return true;};const isCurrentlyVisibleTabAContributedTabAndIsNoLongerAvailableInNewVisibleTabs=(summaryContext,unExpandedVisibleTabs,currentlyActiveTabId)=>{return summaryContext&&summaryContext.activeTab&&!summaryContext.activeTab.api&&unExpandedVisibleTabs&&unExpandedVisibleTabs.filter(tab=>tab.view===currentlyActiveTabId).length===0;};const isProgrammaticTabChangeRequestedAndIsDifferentThanCurrentlyActiveTab=(tabRequestedToBeActivated,data)=>{let currentlyActiveTabKey=data&&data.summaryContext&&data.summaryContext.activeTab&&data.summaryContext.activeTab.tabKey?data.summaryContext.activeTab.tabKey:data&&data.summaryContext&&data.summaryContext.activeTab&&data.summaryContext.activeTab.view?data.summaryContext.activeTab.view:'';if(tabRequestedToBeActivated!==''&&tabRequestedToBeActivated!==currentlyActiveTabKey){currentlyActiveTabKey=data&&data.getData()&&data.getData().summaryContext&&data.getData().summaryContext.activeTab&&data.getData().summaryContext.activeTab.tabKey?data&&data.getData().summaryContext.activeTab.tabKey:data.getData()&&data.getData().summaryContext&&data.getData().summaryContext.activeTab&&data.getData().summaryContext.activeTab.view?data.getData().summaryContext.activeTab.view:'';if(tabRequestedToBeActivated!==''&&tabRequestedToBeActivated!==currentlyActiveTabKey){currentlyActiveTabKey=data&&data.summaryContext?data.summaryContext.activeTabKey:'';if(tabRequestedToBeActivated!==''&&tabRequestedToBeActivated!==currentlyActiveTabKey){currentlyActiveTabKey=data&&data.getData().summaryContext?data.getData().summaryContext.activeTabKey:'';if(tabRequestedToBeActivated!==''&&tabRequestedToBeActivated!==currentlyActiveTabKey){return true;}}}}return false;};const getTabToActivateAndVisibleTabs=(data,props,unExpandedVisibleTabs)=>{const getTabToActivate=()=>{let containerTabs=[];let swaContributedTabs=[];if(tabsConfig){var allVisibleTabs=[];tabsConfig.tabs.map(tab=>{let tabClone={...tab};if(conditionFilter(tabClone,tabsConfig,localSelection,context)){allVisibleTabs.push(tabClone);}});for(const tab of allVisibleTabs){if(tab.hasChildTabs===true){containerTabs.push(tab);}else{swaContributedTabs.push(tab);}}}if(containerTabs.length>0&&!skipAfreshChildFetch){dispatch({path:'data.changedAllVisibleTabs',value:[]});return fetchTabsData(props.selectionData,props.tabsConfig,containerTabs[0],localSelection,tabToActivateNow,swaContributedTabs,data,context,dispatch,allVisibleTabs);}if(containerTabs.length>0){var output={childTabs:data.summaryContext?data.summaryContext.childTabs:[],activeTabContent:lodash__WEBPACK_IMPORTED_MODULE_0___default.a.get(data,'summaryContext.activeTab.tabContent')};if(!output.extraInfo){output.extraInfo=data.summaryContext&&data.summaryContext.activeTab?data.summaryContext.activeTab.extraInfo:null;}if(!output.childTabs||output.childTabs.length===0){dispatch({path:'data.changedAllVisibleTabs',value:unExpandedVisibleTabs});return;}return js_awPromiseService__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"].instance.resolve(processFetchedData(data,props.selectionData,props.tabsConfig,localSelection,context,dispatch,swaContributedTabs,tabToActivateNow,output,containerTabs[0].priority,allVisibleTabs,containerTabs[0]));}return js_awPromiseService__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"].instance.resolve(processFetchedData(data,props.selectionData,props.tabsConfig,localSelection,context,dispatch,swaContributedTabs,tabToActivateNow));};if(areInputPropsAndDataNotPopulatedYet(props,data)){return;}const{dispatch}=data;const{summaryContext}=data.getData();const{selection,context,tabsConfig}=props;let localSelection=Array.isArray(selection)?selection:[selection];let allVisibleTabsInternal=[];if(tabsConfig){tabsConfig.tabs.map(tab=>{let tabClone={...tab};if(conditionFilter(tabClone,tabsConfig,localSelection,context)){allVisibleTabsInternal.push(tabClone);}});}let tabRequestedToBeActivated=context&&context.pageContext&&context.pageContext.sublocationState&&context.pageContext.sublocationState.secondaryActiveTabId!==''?context.pageContext.sublocationState.secondaryActiveTabId:'';if(!tabRequestedToBeActivated){tabRequestedToBeActivated='';}let currentlyActiveTabId=summaryContext&&summaryContext.activeTabKey?summaryContext.activeTabKey:'';let tabToActivateNow=currentlyActiveTabId;if(isProgrammaticTabChangeRequestedAndIsDifferentThanCurrentlyActiveTab(tabRequestedToBeActivated,data)){tabToActivateNow=tabRequestedToBeActivated;js_localStorage__WEBPACK_IMPORTED_MODULE_8__[\"default\"].publish('lastActiveTab',tabToActivateNow);}if(summaryContext){if(!isProgrammaticTabChangeRequestedAndIsDifferentThanCurrentlyActiveTab(tabRequestedToBeActivated,data)&&isInputSelectionSameAsCurrentSelection(summaryContext.selection,localSelection)&&areCurrentUnexpandedVisibleTabsSameAsInputUnexpandedVisibleTabs(summaryContext.unExpandedVisibleTabs,allVisibleTabsInternal)){return;}}let skipAfreshChildFetch=false;if(summaryContext){if(isProgrammaticTabChangeRequestedAndIsDifferentThanCurrentlyActiveTab(tabRequestedToBeActivated,data)){tabToActivateNow=tabRequestedToBeActivated;}else if(isInputSelectionSameAsCurrentSelection(summaryContext.selection,localSelection)){skipAfreshChildFetch=true;if(isCurrentlyVisibleTabAContributedTabAndIsNoLongerAvailableInNewVisibleTabs(summaryContext,allVisibleTabsInternal,currentlyActiveTabId)){skipAfreshChildFetch=false;}}}if(tabToActivateNow===''){tabToActivateNow=js_localStorage__WEBPACK_IMPORTED_MODULE_8__[\"default\"].get('lastActiveTab')?js_localStorage__WEBPACK_IMPORTED_MODULE_8__[\"default\"].get('lastActiveTab'):tabToActivateNow;}let localSummaryContext={...data.summaryContext};localSummaryContext.selection=localSelection;localSummaryContext.unExpandedVisibleTabs=allVisibleTabsInternal;localSummaryContext.activeTabKey=tabToActivateNow;dispatch({path:'data.summaryContext',value:localSummaryContext});let pwaEditContext=context?context.editContext:'';if(!pwaEditContext||pwaEditContext===''){pwaEditContext='TABLE_CONTEXT';}let pwaEditHandler=js_editHandlerService__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"].getEditHandler(pwaEditContext);const isActiveTabIsNonStickyAndNoSelectionChange=!summaryContext||lodash__WEBPACK_IMPORTED_MODULE_0___default.a.get(summaryContext,'activeTab.api')!==undefined||isInputSelectionSameAsCurrentSelection(summaryContext.selection,localSelection);if(!pwaEditHandler||!pwaEditHandler.editInProgress()&&isActiveTabIsNonStickyAndNoSelectionChange){return js_editHandlerService__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"].leaveConfirmation().then(function(){return getTabToActivate();});}return getTabToActivate();};const activateTab=(data,selectionData,tabsConfig,pageId,tabTitle,tabsToShow,swaContributedTabs,dispatch,selection,context,refresh,containerPriority)=>{const selectedTab=tabsToShow.filter(function(tab){return tab.pageId===pageId||tab.name===tabTitle;})[0];const updateSelectionSummaryContext=output=>{let{summaryContext}=processFetchedData(data,selectionData,tabsConfig,selection,context,dispatch,swaContributedTabs,selectedTab,output,containerPriority,tabsToShow);dispatch({path:'data.summaryContext',value:summaryContext});};const handleTabChange=()=>{if(selectedTab&&selectedTab.api){if(!selectedTab.tabContent||refresh){const selectedTabTitle=selectedTab.tabKey?selectedTab.tabKey:selectedTab.view;dispatch({path:'data.summaryContext.activeTabKey',value:selectedTabTitle});selectedTab.api(selection[0],selectedTabTitle,null,null,context).then(output=>{updateSelectionSummaryContext(output);});}}else{updateSelectionSummaryContext();}};let pwaEditContext=context?context.editContext:'';if(!pwaEditContext||pwaEditContext===''){pwaEditContext='TABLE_CONTEXT';}let pwaEditHandler=js_editHandlerService__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"].getEditHandler(pwaEditContext);if(!pwaEditHandler||!pwaEditHandler.editInProgress()){js_editHandlerService__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"].leaveConfirmation().then(function(){return handleTabChange();});}else{return handleTabChange();}};const updateSelection=selection=>{return Array.isArray(selection)?selection:[selection];};const getContext=(vmDef,props,data)=>{return[new js_derivedContextService__WEBPACK_IMPORTED_MODULE_10__[/* DerivedStateResult */ \"a\"]({ctxParameters:[],additionalParameters:[data.summaryContext,props.selection,props.context,props.selectionData],compute:()=>{return{activeTab:data.summaryContext?data.summaryContext.activeTab:undefined,selection:Array.isArray(props.selection)?props.selection:[props.selection],context:props.context,api:data.summaryContext?data.summaryContext.api:undefined,selectionData:props.selectionData};}})];};const clearSelectionData=selectionData=>{if(selectionData&&selectionData.getValue()&&selectionData.getValue().selected&&selectionData.getValue().selected.length>0){selectionData.update({selected:[],relationInfo:[]});}};const getTabsState=tabsConfig=>{if(tabsConfig){return(tabsConfig.tabs||[]).reduce((acc,tab)=>{let visibleWhenCondition={};if(tab.visibleWhen&&tab.visibleWhen.condition){visibleWhenCondition=lodash__WEBPACK_IMPORTED_MODULE_0___default.a.get(tabsConfig,tab.visibleWhen.condition);}else{visibleWhenCondition.expression=tab.visibleWhen;}const conditionDeps=[Object(js_conditionParser_service__WEBPACK_IMPORTED_MODULE_11__[/* parseCondition */ \"a\"])(visibleWhenCondition,['selection','context'])];return{ctxParameters:lodash__WEBPACK_IMPORTED_MODULE_0___default.a.uniq(Object(lodash__WEBPACK_IMPORTED_MODULE_0__[\"concat\"])(Object(lodash__WEBPACK_IMPORTED_MODULE_0__[\"flatten\"])(conditionDeps.map(x=>x.ctxParameters)),acc.ctxParameters)),additionalParameters:lodash__WEBPACK_IMPORTED_MODULE_0___default.a.uniq(Object(lodash__WEBPACK_IMPORTED_MODULE_0__[\"concat\"])(acc.additionalParameters,Object(lodash__WEBPACK_IMPORTED_MODULE_0__[\"flatten\"])(conditionDeps.map(x=>x.additionalParameters))))};},{ctxParameters:[],additionalParameters:[]});}return{ctxParameters:[],additionalParameters:[]};};const getVisibleTabs=(vmDef,props,data)=>{let{context,tabsConfig,selection,additionalParameters,ctxParameters}=props;let localSelection=Array.isArray(selection)?selection:[selection];const getAllVisibleTabs=()=>{let allVisibleTabs=[];if(tabsConfig){tabsConfig.tabs.map(tab=>{let tabClone={...tab};if(conditionFilter(tabClone,tabsConfig,localSelection,context)){allVisibleTabs.push(tabClone);}});}if(allVisibleTabs){return allVisibleTabs;}};const scope={context,selection};const getFromProps=path=>lodash__WEBPACK_IMPORTED_MODULE_0___default.a.get(scope,path);const localAdditionalParameters=additionalParameters.map(getFromProps);return new js_derivedContextService__WEBPACK_IMPORTED_MODULE_10__[/* DerivedStateResult */ \"a\"]({ctxParameters,additionalParameters:localAdditionalParameters,compute:getAllVisibleTabs});};\n\n/***/ }),\n\n/***/ 979:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var js_declViewModelService__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n/* harmony import */ var js_moduleLoader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var js_awParseService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(10);\n/* harmony import */ var js_awFilterService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(4);\n/* harmony import */ var js_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(3);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var viewmodel_AwTabContainerViewModel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(273);\n/* harmony import */ var viewmodel_AwTabViewModel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(309);\n/* harmony import */ var viewmodel_AwIncludeViewModel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(63);\n/* harmony import */ var js_hocCollection__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(45);\n/* harmony import */ var js_AwSelectionSummaryService__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(2967);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(2);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__);\n// Compiler result to JSON file\nlet filterSer=js_awFilterService__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].instance;const DivExistWhen=Object(js_hocCollection__WEBPACK_IMPORTED_MODULE_9__[/* ExistWhen */ \"h\"])('div');const AwIncludeExistWhen=Object(js_hocCollection__WEBPACK_IMPORTED_MODULE_9__[/* ExistWhen */ \"h\"])(viewmodel_AwIncludeViewModel__WEBPACK_IMPORTED_MODULE_8__[\"default\"]);/*\nctx imports\n*/const ctxImportObj={context: js_AwSelectionSummaryService__WEBPACK_IMPORTED_MODULE_10__[\"getContext\"],visibleTabs: js_AwSelectionSummaryService__WEBPACK_IMPORTED_MODULE_10__[\"getVisibleTabs\"]};/*\ndynamic import\n */Object(js_moduleLoader__WEBPACK_IMPORTED_MODULE_1__[/* registerDynImportEntry */ \"h\"])('js/AwSelectionSummaryService',()=>Promise.resolve(/* import() */).then(__webpack_require__.bind(null, 2967)));;/*\nview model\n */const declViewModelJson={\"schemaVersion\":\"1.0.0\",\"actions\":{\"getTabToActivateAndVisibleTabs\":{\"actionType\":\"JSFunctionAsync\",\"method\":\"getTabToActivateAndVisibleTabs\",\"inputData\":{\"data\":\"{{data}}\",\"props\":\"{{props}}\",\"allVisibleTabs\":\"{{data.ctx.visibleTabs}}\"},\"outputData\":{\"summaryContext\":\"summaryContext\"},\"deps\":\"js/AwSelectionSummaryService\"},\"syncSublocationState\":{\"actionType\":\"JSFunction\",\"method\":\"syncSublocationState\",\"inputData\":{\"activeTab\":\"{{data.summaryContext.activeTab}}\",\"sublocationState\":\"{{props.context.pageContext.sublocationState}}\"},\"deps\":\"js/AwSelectionSummaryService\"},\"clearSublocationState\":{\"actionType\":\"JSFunction\",\"method\":\"clearSublocationState\",\"inputData\":{\"sublocationState\":\"{{props.context.pageContext.sublocationState}}\"},\"deps\":\"js/AwSelectionSummaryService\"}},\"lifecycleHooks\":{\"onMount\":\"getTabToActivateAndVisibleTabs\",\"onUpdate\":[{\"action\":\"syncSublocationState\",\"observers\":[\"viewModel.data.summaryContext.activeTab.tabKey\",\"viewModel.data.summaryContext.activeTab.view\"]},{\"action\":\"getTabToActivateAndVisibleTabs\",\"observers\":[\"viewModel.ctx.visibleTabs\",\"props.selection.uid\",\"props.selection[0].uid\",\"props.selection.length\",\"props.context.pageContext.sublocationState.secondaryActiveTabId\"]}],\"onUnmount\":\"clearSublocationState\"},\"ctx\":{\"context\":{\"parser\":{\"method\":\"getContext\",\"deps\":\"js/AwSelectionSummaryService\"}},\"visibleTabs\":{\"parser\":{\"method\":\"getVisibleTabs\",\"deps\":\"js/AwSelectionSummaryService\"}}},\"props\":{\"selection\":{\"type\":\"object\"},\"context\":{\"type\":\"object\"},\"selection-data\":{\"type\":\"object\"},\"tabs-config\":{\"type\":\"object\"},\"ctx-parameters\":{\"type\":\"object\"},\"additional-parameters\":{\"type\":\"object\"}},\"_viewModelId\":\"AwSelectionSummaryInternal\",\"_uniqueViewModelId\":\"AwSelectionSummaryInternal\"};/*\n<div class='aw-xrt-summaryXrt' exist-when=\"data.summaryContext && data.summaryContext.activeTab && data.summaryContext.visibleTabs.length > 0\">\n    <div class='aw-xrt-tabsContainer' exist-when=\"(data.summaryContext && data.summaryContext.activeTab && data.summaryContext.visibleTabs) && ((data.summaryContext.activeTab.tabContent === undefined && data.summaryContext.visibleTabs.length > 1) || (data.summaryContext.activeTab.tabContent !== undefined))\">\n        <aw-tab-container tab-container-model=\"data.summaryContext.visibleTabs\" callback=\"data.summaryContext.api\" tab-set-id=\"{{props.context.tabSetId ? props.context.tabSetId : 'secondary'}}\">\n            <aw-tab tab-model='tab' aw-repeat='tab: data.summaryContext.visibleTabs'></aw-tab>\n        </aw-tab-container>\n    </div>\n    <div class='aw-widgets-multiSelectContainer'>\n        <aw-include name=\"{{data.summaryContext.activeTab.view}}\" sub-panel-context=\"props.ctx.context[0]\" exist-when=\"data.summaryContext && data.summaryContext.activeTab && data.summaryContext.activeTab.view\"></aw-include>\n    </div>\n</div>\n\n*/const renderFn=props=>{let subPanelContext=props.subPanelContext;let{viewModel:{data,dataProviders,dispatch,conditions,selectionModels,editHandlers,chartProviders,ports},grids,ctx,actions,fields,messages,i18n,formProp,viewPath}=props;data={...data,dataProviders};if(subPanelContext&&subPanelContext.fields){fields={...fields,...subPanelContext.fields};}let $index=null;return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsxs\"])(DivExistWhen,{className:\"aw-xrt-summaryXrt\",existWhen:js_awParseService__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].instance(\"data.summaryContext && data.summaryContext.activeTab && data.summaryContext.visibleTabs.length > 0\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports}),children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(DivExistWhen,{className:\"aw-xrt-tabsContainer\",existWhen:js_awParseService__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].instance(\"(data.summaryContext && data.summaryContext.activeTab && data.summaryContext.visibleTabs) && ((data.summaryContext.activeTab.tabContent === undefined && data.summaryContext.visibleTabs.length > 1) || (data.summaryContext.activeTab.tabContent !== undefined))\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports}),children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(viewmodel_AwTabContainerViewModel__WEBPACK_IMPORTED_MODULE_6__[\"default\"],{tabContainerModel:js_awParseService__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].instance(\"data.summaryContext.visibleTabs\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports}),callback:js_awParseService__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].instance(\"data.summaryContext.api\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports}),tabSetId:js_awParseService__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].instance(\"props.context.tabSetId ? props.context.tabSetId : 'secondary'\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports}),children:Object.entries(js_awParseService__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].instance(\"data.summaryContext.visibleTabs\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports})||[]).map(_ref=>{let[$index,tab]=_ref;return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(viewmodel_AwTabViewModel__WEBPACK_IMPORTED_MODULE_7__[\"default\"],{tabModel:js_awParseService__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].instance(\"tab\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports,tab,$index})},$index);})})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"div\",{className:\"aw-widgets-multiSelectContainer\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(AwIncludeExistWhen,{viewId:js_awParseService__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].instance(\"data.summaryContext.activeTab.view\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports}),viewPath:js_awParseService__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].instance(\"viewPath\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports}),name:js_awParseService__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].instance(\"data.summaryContext.activeTab.view\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports}),subPanelContext:js_awParseService__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].instance(\"props.ctx.context[0]\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports}),existWhen:js_awParseService__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].instance(\"data.summaryContext && data.summaryContext.activeTab && data.summaryContext.activeTab.view\")({props,data,fields,dataProviders,ctx,i18n,actions,subPanelContext,viewPath,conditions,formProp,dispatch,selectionModels,editHandlers,chartProviders,ports})})})]});};/*\ndefine component\n*/const Component=Object(js_declViewModelService__WEBPACK_IMPORTED_MODULE_0__[/* createComponent */ \"a\"])(declViewModelJson,renderFn,undefined,ctxImportObj);/* harmony default export */ __webpack_exports__[\"default\"] = (Component);\n\n/***/ })\n\n}]);","inputSourceMap":null}