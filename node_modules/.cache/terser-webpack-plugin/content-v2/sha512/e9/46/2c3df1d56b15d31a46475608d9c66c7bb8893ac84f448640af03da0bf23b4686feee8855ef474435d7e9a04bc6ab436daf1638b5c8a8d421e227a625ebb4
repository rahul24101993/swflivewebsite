{"code":"(this.webpackJsonpcreatingjsxcomponent=this.webpackJsonpcreatingjsxcomponent||[]).push([[49],{2997:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"handleSelectionChange\",(function(){return d})),n.d(t,\"reset\",(function(){return p})),n.d(t,\"handleSelectEvent\",(function(){return S})),n.d(t,\"handleMultiSelectEvent\",(function(){return h})),n.d(t,\"getContext\",(function(){return m}));var r=n(7),a=n(12),c=n(1),o=n.n(c),l=n(39),s=n.n(l),i=n(80);const u=new s.a(\"selection\"),d=(e,t,n)=>{o.a.isEmpty(e)||(t&&t.update({...e,source:\"primary\"}),((e,t)=>{let{selected:n,dataProvider:c}=e;a.default.registerCtx(\"pwaSelectionInfo\",{currentSelectedCount:t.getCurrentSelectedCount()}),r.a.publish(\"primaryWorkArea.selectionChangeEvent\",{selectionModel:t,dataProvider:c,selectedObjects:o.a.cloneDeep(n)})})(e,n),u(\"AwPrimaryWorkarea selectionData: \",e))},p=e=>{const t=e.getDpListener();t&&t.resetDataProvider()},S=(e,t)=>{const n=t.getDpListener();n&&(e.selectAll?n.selectAll():n.selectNone())},h=(e,t)=>{const n=t.getDpListener();return!!n&&(n.selectionModel.setMultiSelectionEnabled(e.multiSelect),e.multiSelect||n.selectNone(),e.multiSelect)},m=(e,t)=>[new i.a({ctxParameters:[],additionalParameters:[t.subPanelContext,t.searchState],compute:()=>({provider:t.subPanelContext,searchState:t.searchState})})]}}]);","name":"static/js/49.ae66d95f.chunk.js","input":"(this[\"webpackJsonpcreatingjsxcomponent\"] = this[\"webpackJsonpcreatingjsxcomponent\"] || []).push([[49],{\n\n/***/ 2997:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"handleSelectionChange\", function() { return handleSelectionChange; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"reset\", function() { return reset; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"handleSelectEvent\", function() { return handleSelectEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"handleMultiSelectEvent\", function() { return handleMultiSelectEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getContext\", function() { return getContext; });\n/* harmony import */ var js_eventBus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);\n/* harmony import */ var js_appCtxService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(12);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(39);\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(debug__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var js_derivedContextService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(80);\nconst trace=new debug__WEBPACK_IMPORTED_MODULE_3___default.a('selection');const defaultPWASelectionChangeHandler=(_ref,selModel)=>{let{selected,dataProvider}=_ref;// Revisit me: Story LCS-524878 - Reduce dependency on ctx - follow uni-directional data flow\njs_appCtxService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].registerCtx('pwaSelectionInfo',{currentSelectedCount:selModel.getCurrentSelectedCount()});//Named event is an anti-pattern. Keeping it here to maintain backward compatibility.\n// data.source = 'primaryWorkArea'; This event used to send the scope\njs_eventBus__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].publish('primaryWorkArea.selectionChangeEvent',{selectionModel:selModel,// dataCtxNode: $scope,\ndataProvider:dataProvider,selectedObjects:lodash__WEBPACK_IMPORTED_MODULE_2___default.a.cloneDeep(selected)});};const handleSelectionChange=(localSelectionData,parentSelectionData,selModel)=>{if(!lodash__WEBPACK_IMPORTED_MODULE_2___default.a.isEmpty(localSelectionData)){if(parentSelectionData){parentSelectionData.update({...localSelectionData,source:'primary'});}defaultPWASelectionChangeHandler(localSelectionData,selModel);trace('AwPrimaryWorkarea selectionData: ',localSelectionData);}};const reset=selectionModel=>{const dp=selectionModel.getDpListener();if(dp){dp.resetDataProvider();}};const handleSelectEvent=(eventData,selectionModel)=>{const dp=selectionModel.getDpListener();if(dp){if(eventData.selectAll){dp.selectAll();}else{dp.selectNone();}}};const handleMultiSelectEvent=(eventData,selectionModel)=>{const dp=selectionModel.getDpListener();if(dp){dp.selectionModel.setMultiSelectionEnabled(eventData.multiSelect);if(!eventData.multiSelect){dp.selectNone();}return eventData.multiSelect;}return false;};const getContext=(vmDef,props)=>{return[new js_derivedContextService__WEBPACK_IMPORTED_MODULE_4__[/* DerivedStateResult */ \"a\"]({ctxParameters:[],additionalParameters:[props.subPanelContext,props.searchState],compute:()=>{return{provider:props.subPanelContext,searchState:props.searchState};}})];};\n\n/***/ })\n\n}]);","inputSourceMap":null}