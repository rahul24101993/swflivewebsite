{"code":"(this.webpackJsonpcreatingjsxcomponent=this.webpackJsonpcreatingjsxcomponent||[]).push([[111],{2856:function(e,t,i){\"use strict\";i.r(t);var a=i(5),r=i(0),l=(i(10),i(4)),n=(i(8),i(3),i(3063));l.a.instance;Object(r.h)(\"js/AwSearchBreadcrumbChipsService\",(()=>Promise.resolve().then(i.bind(null,3063)))),Object(r.h)(\"js/AwSearchBreadcrumbChipsUtils\",(()=>Promise.resolve().then(i.bind(null,3064))));const s=Object(a.a)({schemaVersion:\"1.0.0\",imports:[],actions:{render:{method:\"AwSearchBreadcrumbChipsRenderFunction\",deps:\"js/AwSearchBreadcrumbChipsService\",options:{elementRefList:[\"chiplist\"]}},chipOverflowPopup:{actionType:\"popup\",options:{placement:\"bottom-start\",toggleMode:!0,whenParentScrolls:\"close\",clickOutsideToClose:!0,anchor:\"closePopupAnchor\",resizeToClose:!0}},buildSearchChips:{actionType:\"JSFunction\",method:\"buildSearchChips\",inputData:{searchObject:\"{{props.searchObject}}\",existingBreadcrumbChips:\"{{data.breadcrumbChips}}\"},outputData:{breadcrumbChips:\"\"},deps:\"js/AwSearchBreadcrumbChipsUtils\"},calculateOverflow:{actionType:\"JSFunction\",method:\"calculateOverflow\",inputData:{elementRefList:\"{{parameters.elementRefList}}\",totalVisibleArea:\"{{data.visibleChipArea}}\",totalVisibleHeight:\"{{data.visibleHeightChipArea}}\",breadcrumbChips:\"{{data.breadcrumbChips}}\",currentOverflowChips:\"{{data.overflowConfig.overflownChips}}\",displayBreadcrumbChips:\"{{data.displayBreadcrumbChips}}\",inHeader:\"{{data.inHeader}}\",searchFilterCategoryExpandMore:\"{{i18n.searchFilterCategoryExpandMore}}\",visibleChipAreaMaintained:!0},outputData:{displayBreadcrumbChips:\"displayChips\",\"overflowConfig.overflownChips\":\"overflownChips\",displayOverflowButton:\"displayOverflowButton\",visibleChipArea:\"totalVisibleArea\",visibleHeightChipArea:\"totalVisibleHeight\"},deps:\"js/AwSearchBreadcrumbChipsUtils\"},attachResizeObserver:{actionType:\"JSFunction\",method:\"attachResizeObserver\",inputData:{data:\"{{data}}\",elementRefList:\"{{parameters.elementRefList}}\"},deps:\"js/AwSearchBreadcrumbChipsService\"},removeFilterAction:{actionType:\"JSFunction\",method:\"removeSelectedChip\",inputData:{searchObject:\"{{props.searchObject}}\",chipToRemove:\"{{parameters.chip}}\",data:\"{{data}}\"},outputData:{displayBreadcrumbChips:\"displayChips\",\"overflowConfig.overflownChips\":\"overflownChips\"},deps:\"js/AwSearchBreadcrumbChipsUtils\"},clearAllAction:{actionType:\"JSFunction\",method:\"clearAll\",inputData:{searchObject:\"{{props.searchObject}}\"},deps:\"js/AwSearchBreadcrumbChipsUtils\"},onMount:{actionType:\"JSFunction\",method:\"checkSearchLocation\",inputData:{searchObject:\"{{props.searchObject}}\"},outputData:{inHeader:\"\"},deps:\"js/AwSearchBreadcrumbChipsUtils\"},resizeOverflowCalculation:{actionType:\"batchJob\",steps:[{action:\"buildSearchChips\"},{action:\"calculateOverflow\"}]},onMountActions:{actionType:\"batchJob\",steps:[{action:\"onMount\"},{action:\"attachResizeObserver\"}]},onUnMount:{actionType:\"JSFunction\",method:\"onUnMount\",inputData:{elementRefList:\"{{parameters.elementRefList}}\"},deps:\"js/AwSearchBreadcrumbChipsService\"}},data:{breadcrumbChips:[],displayBreadcrumbChips:[],chipsModel:[],inHeader:\"\",displayOverflowButton:\"\",clearAllDisplayName:\"\",visibleHeightChipArea:\"\",visibleChipArea:\"\",searchFilterCategoryExpandMore:\"{{i18n.searchFilterCategoryExpandMore}}\",overflowConfig:{overflownChips:[],hideMore:!0},clearAll:{displayName:\"{{i18n.clear}}\",type:\"STRING\",uiValue:\"{{i18n.clear}}\",isRequired:\"false\"}},conditions:{shouldShowFilterChips:{expression:\"data.breadcrumbChips && data.breadcrumbChips.length > 0\"}},onEvent:[],lifecycleHooks:{render:\"render\",onMount:\"onMountActions\",onUpdate:[{action:\"resizeOverflowCalculation\",observers:[\"props.searchObject.activeFilters\",\"props.searchObject.activeFilterString\",\"props.searchObject.categories\"]}]},props:{\"search-object\":{type:\"object\"}},i18n:{clear:[\"SearchMessages\"],searchFilterCategoryExpandMore:[\"SearchMessages\"]},_viewModelId:\"AwSearchBreadcrumbChips\",_uniqueViewModelId:\"AwSearchBreadcrumbChips\",ctx:{}},n.AwSearchBreadcrumbChipsRenderFunction,{elementRefList:[\"chiplist\"]},{});t.default=s},3063:function(e,t,i){\"use strict\";i.r(t),i.d(t,\"doNothing\",(function(){return p})),i.d(t,\"attachResizeObserver\",(function(){return d})),i.d(t,\"onUnMount\",(function(){return u})),i.d(t,\"AwSearchBreadcrumbChipsRenderFunction\",(function(){return f}));var a=i(310),r=i(52),l=i(42),n=i(128),s=i(3064),c=i(1),o=i.n(c),h=i(2);let p=()=>{};const d=(e,t)=>{const i=t.get(\"chiplist\"),{dispatch:a}=e;(()=>{if(n.a.supportsResizeObserver()){const r=o.a.debounce((()=>{if(i&&i.current&&i.current.parentElement&&i.current.parentElement.parentElement){const i=e.getData();var r=s.default.calculateOverflow(t,i.visibleChipArea,i.visibleHeightChipArea,i.breadcrumbChips,i.overflowConfig.overflownChips,i.displayBreadcrumbChips,i.inHeader,i.searchFilterCategoryExpandMore,!1),l={overflownChips:r.overflownChips,hideMore:!0};a&&a({path:\"data\",value:{displayBreadcrumbChips:r.displayChips,displayOverflowButton:r.displayOverflowButton,overflowConfig:l}})}}),5,{maxWait:50,trailing:!0,leading:!1});i.current.resizeObserver=n.a.observe(i.current.parentElement.parentElement,r)}})()},u=e=>{if(e){const t=e.get(\"chiplist\");t.current&&t.current.resizeObserver&&t.current.resizeObserver()}},f=e=>{const{viewModel:t,actions:i,elementRefList:n}=e,{data:s,i18n:c}=t;let{chipOverflowPopup:o}=i;n.get(\"chiplist\").current;const d={conditions:{}};let u=s.displayBreadcrumbChips;return Object(h.jsx)(\"div\",{className:s.inHeader?\"aw-search-breadcrumb-chips\":\"aw-search-breadcrumb-chipsPanel\",children:Object(h.jsxs)(\"div\",{className:\"aw-layout-flexbox \"+(s.inHeader?\"aw-widgets-chipList\":\"aw-widgets-chipListPanel\"),ref:n.get(\"chiplist\"),children:[s.displayBreadcrumbChips&&s.displayBreadcrumbChips.length>0&&u.map(((e,t)=>Object(h.jsx)(a.default,{chip:e,action:p(),uiIconAction:i.removeFilterAction,chipCondition:d,children:e.children&&e.children.map(((e,t)=>Object(h.jsx)(a.default,{chip:e,action:p(),uiIconAction:i.removeFilterAction,chipCondition:d},t)))},t))),s.overflowConfig.overflownChips&&s.overflowConfig.overflownChips.length>0&&Object(h.jsxs)(\"div\",{className:s.inHeader?\"sw-chip-overflowContainer\":\"sw-chip-overflowContainerPanel\",ref:o.reference,children:[Object(h.jsx)(r.default,{className:s.inHeader?\"sw-chip-overflowButton\":\"sw-chip-overflowButtonPanel\",action:()=>{o.open||o.show({width:\"auto\",height:\"auto\"})},closeAction:()=>{o.hide()},buttonType:\"chromeless\",label:s.displayOverflowButton,children:s.displayOverflowButton}),Object(h.jsx)(l.default,{...o.options,children:Object(h.jsx)(\"div\",{className:\"aw-layout-flexbox sw-column aw-search-overflow \"+(s.inHeader?\"aw-widgets-overflow-chipList\":\"aw-widgets-overflow-chipListPanel\"),children:s.overflowConfig.overflownChips.map(((e,t)=>Object(h.jsx)(a.default,{chip:e,action:p(),uiIconAction:i.removeFilterAction,chipCondition:d,children:e.children&&e.children.map(((e,t)=>Object(h.jsx)(a.default,{chip:e,action:p(),uiIconAction:i.removeFilterAction,chipCondition:d},t)))},t)))})})]}),s.breadcrumbChips&&s.breadcrumbChips.length>0&&Object(h.jsx)(r.default,{className:\"aw-search-clearAll\",buttonType:\"chromeless\",action:i.clearAllAction,label:c.clear,children:c.clear})]})})}},3064:function(e,t,i){\"use strict\";i.r(t),i.d(t,\"buildSearchChips\",(function(){return s})),i.d(t,\"removeSelectedChip\",(function(){return c})),i.d(t,\"checkSearchLocation\",(function(){return v})),i.d(t,\"clearAll\",(function(){return F})),i.d(t,\"calculateOverflow\",(function(){return C}));var a=i(2996),r=i(2968),l=i(1),n=i.n(l);let s=(e,t)=>{let i=[];var a,r=[];let l=e&&e.appliedFilters&&e.appliedFilters.length>0,n=e.categories&&e.categories.length>0,s=e.categoriesForRangeSearches&&e.categoriesForRangeSearches.length>0,c=e.isFacetSearch;if(l&&n&&!c){r=h(e.appliedFilters);for(var o=0;o<r.length;o++)for(var u=0;u<e.categories.length;u++){switch(e.categories[u].type){case\"StringFilter\":a=p(e.categories[u],r[o],\"StringFilter\");break;case\"NumericFilter\":a=p(e.categories[u],r[o],\"NumericFilter\");break;case\"DateFilter\":a=d(e.categories[u],r[o],e.appliedFilters);break;case\"RadioFilter\":a=p(e.categories[u],r[o],\"RadioFilter\");break;case\"ObjectFilter\":a=p(e.categories[u],r[o],\"ObjectFilter\")}a&&(i.push(a),a=void 0)}}else if(l&&s&&!c){r=h(e.appliedFilters);for(o=0;o<r.length;o++)for(u=0;u<e.categoriesForRangeSearches.length;u++){switch(e.categoriesForRangeSearches[u].type){case\"StringFilter\":a=p(e.categoriesForRangeSearches[u],r[o],\"StringFilter\");break;case\"NumericFilter\":a=p(e.categoriesForRangeSearches[u],r[o],\"NumericFilter\");break;case\"DateFilter\":a=d(e.categoriesForRangeSearches[u],r[o],e.appliedFilters);break;case\"RadioFilter\":a=p(e.categoriesForRangeSearches[u],r[o],\"RadioFilter\");break;case\"ObjectFilter\":a=p(e.categoriesForRangeSearches[u],r[o],\"ObjectFilter\")}a&&(i.push(a),a=void 0)}}else if(c)return t;return i},c=function(e,t,i,a){let l=n.a.cloneDeep(i.displayBreadcrumbChips);switch(t.chipFilterType){case\"StringFilter\":case\"NumericFilter\":!function(e,t){const i={...e.value};t&&t.children&&0===t.children.length||t&&!t.children?g(i,t):b(i,t);i.bulkFiltersApplied=!0,e.update(i)}(e,t);break;case\"DateFilter\":!function(e,t){const i={...e.value};t&&t.children&&0===t.children.length||t&&!t.children?g(i,t):b(i,t);i.activeFilters=r.a.removeDependentDateFilters(i.activeFilters),i.bulkFiltersApplied=!0,e.update(i)}(e,t);break;case\"RadioFilter\":!function(e,t){const i={...e.value};for(var a=0;a<i.categories.length;a++)t.labelInternalCategoryName===i.categories[a].internalName&&(t.labelInternalFilterName===i.categories[a].filterValues[0].internalName?i.activeFilters[t.labelInternalCategoryName]=[i.categories[a].filterValues[1].internalName]:i.activeFilters[t.labelInternalCategoryName]=[i.categories[a].filterValues[0].internalName]);i.bulkFiltersApplied=!0,e.update(i)}(e,t);break;case\"ObjectFilter\":!function(e,t){const i={...e.value};let a=r.a.removeDependentClassificationFilters({internalName:t.labelInternalFilterName});a.length>0?i.activeFilters[t.labelInternalCategoryName]=a:delete i.activeFilters[t.labelInternalCategoryName];i.bulkFiltersApplied=!0,e.update(i)}(e,t)}for(let r=0;l.length>r;r++)l[r].labelDisplayName===t.labelDisplayName&&l.splice(r,1);return{displayChips:l,overflownChips:[]}};function o(e,t,i,a,r,l,n,s,c){let o;t>1&&e?(o=i+\": \"+t+\" Selected\",l=\"parentChip\"):o=i+\": \"+a;let h={uiIconId:\"miscRemoveBreadcrumb\",chipType:\"BUTTON\",selected:!1,labelDisplayName:o,labelInternalCategoryName:r,labelInternalFilterName:l,chipFilterType:n,className:\"aw-search-breadcrumb-chip\"};return\"RadioFilter\"===n&&c&&(h.uiIconId=\"\"),s&&s.length>1&&(h.children=s),h}function h(e){var t=[],i=!1;for(let a=0;a<e.length;a++)if(e[a].name.includes(\"_0Z0_\"))e[a].name.includes(\"_month\")||e[a].name.includes(\"_week\")?e.slice(a,1):t.push(e[a]);else if(\"DateFilter\"===e[a].type){for(let t=0;t<e.length;t++)e[a].name===e[t].name.substr(0,e[t].name.indexOf(\"_0Z0\"))&&(i=!0);i?(e.slice(a,1),i=!1):(t.push(e[a]),i=!1)}else t.push(e[a]);return t}function p(e,t,i){var a,r=[],l=!1;if(e.internalName===t.name){for(var n=0;n<t.values.length;n++){var s=e.displayName,c=t.values.length,h=t.name,p=t.values[n],d=e.filterValues&&e.filterValues.length>0?e.filterValues[0].name:void 0;if(t.values[n].includes(\"_NumericRange_\")&&(a=!1,d=m(t.values[n])),\"RadioFilter\"===e.type&&t.values[0]===e.filterValues[0].internalName&&(l=!0),c>1)if(\"StringFilter\"===e.type||\"ObjectFilter\"===e.type){for(var u=0;u<e.filterValues.length;u++)if(e.filterValues[u].internalName===p){let t=o(a=!1,c,s,d=e.filterValues[u].name,h,p,i,null,!1);r.push(t)}}else if(\"NumericFilter\"===e.type){a=!1,d=t.values[n].replace(\"_NumericFilter_\",\"\"),t.values[n].includes(\"_NumericRange_\")&&(a=!1,d=m(t.values[n]));let e=o(a,c,s,d,h,p,i,null,!1);r.push(e)}}return o(a=!0,c,s,d,h,p,i,r,l)}}function d(e,t,i){var a,r,l=[];if(e.filterValues.length>0){for(var n=0;n<e.filterValues.length;n++)if(e.filterValues[n].categoryName===t.name||e.internalName===t.name){var s=e.displayName,c=f(i,e);let t=c.length;var h=c[0].values[0],p=c[0].name;if(r='\"$NONE\"'===c[0].values[0]?c[0].values[0]:e.filterValues[0].name,c[0].values[0].length>13&&\"_DateFilter_\"===c[0].values[0].substr(0,12)){r=u(c[0].values[0]).displayName}if(t>1)for(var d=0;d<c.length;d++){if(a=!1,p=c[d].name,h=c[d].values[0],c[d].values[0].length>13&&\"_DateFilter_\"===c[d].values[0].substr(0,12)){r=u(c[d].values[0]).displayName}else for(var m=0;m<e.filterValues.length;m++)e.filterValues[m].internalName===c[d].values[0]&&(r=e.filterValues[m].name);let i=o(a,t,s,r,p,h,\"DateFilter\",null,!1);l.push(i)}var g=o(a=!0,t,s,r,p,h,\"DateFilter\",l,!1);break}}else e.filterValues&&0===e.filterValues.length&&e.internalName===t.name&&e.dateRangeString&&e.dateRangeString.length>0&&(r=u(e.dateRangeString).displayName,g=o(a,1,e.displayName,r,e.internalName,e.dateRangeString,\"DateFilter\",[],!1));return g}function u(e){if(e.length>19){var t=e.substring(12);if(t.length>4)var i=t.substr(0,t.indexOf(\"_TO_\")),l=t.substr(t.indexOf(\"_TO_\")+4,t.length);\"*\"===i&&(i=\"0001-01-01T00:00:00+00:00\"),i=a.a.getDate(r.a.processDateStringOffset(i)),l=a.a.getDate(r.a.processDateStringOffset(l));var n=a.a.getDateRangeDisplayString(i,l)}return n}function f(e,t){for(var i=[],a=0;a<e.length;a++)if(e[a].name===t.internalName)i.push(e[a]);else{e[a].name.substr(0,e[a].name.indexOf(\"_0Z0\"))===t.internalName&&i.push(e[a])}return i}function m(e){if(e.length>4){let i=e.replace(\"_NumericRange_\",\"\"),a=i.substr(0,i.indexOf(\"_TO_\")),r=i.substr(i.indexOf(\"_TO_\")+4,i.length);if(a)if(r)t=a+\" - \"+r;else var t=\"From \"+a;else var t=\"To \"+r}return t}function g(e,t){let i=e.activeFilters&&e.activeFilters[t.labelInternalCategoryName]?e.activeFilters[t.labelInternalCategoryName]:[],a=[];for(let r=0;r<i.length;r++)i[r]!==t.labelInternalFilterName&&a.push(i[r]);a.length>0?e.activeFilters[t.labelInternalCategoryName]=a:delete e.activeFilters[t.labelInternalCategoryName],e.activeFilters&&Object.keys(e.activeFilters).length>0?e.activeFilterString=r.a.buildFilterString(e.activeFilters):e.activeFilterString=\"\"}function b(e,t){let i=t.children;for(let a=0;a<i.length;a++)g(e,i[a])}let v=e=>{if(e&&e.criteria&&e.criteria.searchFromLocation){return\"global\"===n.a.cloneDeep(e.criteria.searchFromLocation)}return!0},F=e=>{const t={...e.value},i=r.a.clearAllSelectedFiltersAndRanges(t.categories,t.activeFilters,t.positivePendingFilters);if(t.categories=i,t.skipFiltersForClearAll&&t.activeFilters&&t.activeFilterMap&&Object.keys(t.activeFilters).length>0)for(const[a,r]of Object.entries(t.activeFilters))t.skipFiltersForClearAll.includes(a)||(delete t.activeFilters[a],delete t.activeFilterMap[a]);else t.activeFilterMap={},t.activeFilters={};delete t.positivePendingFilters,delete t.negativePendingFilters,delete t.allCategoriesVisible,t.bulkFiltersApplied=!0,e.update(t)},C=(e,t,i,a,r,l,n,s,c)=>{var o,h=[],p=[],d=null,u=!0;if(e){let l=e.get(\"chiplist\").current;if(!l)return d;o||(o=l.querySelectorAll(\".aw-widgets-chip\"));let s=[...o];var f=16;let b=0;l.parentNode.parentElement&&l.parentNode.parentElement.firstChild&&l.parentNode.parentElement.firstChild.childNodes&&l.parentNode.parentElement.firstChild.childNodes.length>0&&l.parentNode.parentElement.firstChild.childNodes[0].clientWidth&&(b=l.parentNode.parentElement.firstChild.childNodes[0].clientWidth);let v=80,F=l.lastChild?l.lastChild.clientWidth+24:24;t&&c||(t=l.parentElement.parentElement?l.parentElement.parentElement.clientWidth:0);for(var m=f+b+v+F,g=0;g<s.length;g++)if((m=s[g].clientWidth+m)>t){d=g;break}if(!n){i&&c||(i=l.parentElement.parentElement.clientHeight/2);let e=l.parentElement.clientHeight,t=l.lastChild?l.lastChild.clientHeight:0;if(v=32,(m=(f=32)+t+v+e)>i)for(g=0;g<s.length;g++)if((m-=26)<i){d=s.length-g;break}}let C=t-m-200;m<t-200&&C>f&&(u=!1),0===d&&n?(h=[],p=a):d>0?(p=a.slice(d),h=a.slice(0,d)):a.length>=7?(p=a.slice(1),h=a.slice(0,1)):r.length>0&&s.length<a.length&&u?(p=a.slice(s.length),h=a.slice(0,s.length)):(h=a,p=[])}else 0!==r.length&&0!==l.length?(p=r,h=l):(p=[],h=a);return{displayChips:h,overflownChips:p,displayOverflowButton:p.length+\" \"+s,totalVisibleArea:t,totalVisibleHeight:i}};t.default={buildSearchChips:s,removeSelectedChip:c,checkSearchLocation:v,clearAll:F,calculateOverflow:C}}}]);","name":"static/js/111.847d1c9e.chunk.js","input":"(this[\"webpackJsonpcreatingjsxcomponent\"] = this[\"webpackJsonpcreatingjsxcomponent\"] || []).push([[111],{\n\n/***/ 2856:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var js_declViewModelService__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n/* harmony import */ var js_moduleLoader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var js_awParseService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(10);\n/* harmony import */ var js_awFilterService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(4);\n/* harmony import */ var js_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(3);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var js_AwSearchBreadcrumbChipsService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(3063);\n// Compiler result to JSON file\nlet filterSer=js_awFilterService__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].instance;/*\nrender function\n*//*\nctx imports\n*/const ctxImportObj={};/*\ndynamic import\n */Object(js_moduleLoader__WEBPACK_IMPORTED_MODULE_1__[/* registerDynImportEntry */ \"h\"])('js/AwSearchBreadcrumbChipsService',()=>Promise.resolve(/* import() */).then(__webpack_require__.bind(null, 3063)));Object(js_moduleLoader__WEBPACK_IMPORTED_MODULE_1__[/* registerDynImportEntry */ \"h\"])('js/AwSearchBreadcrumbChipsUtils',()=>Promise.resolve(/* import() */).then(__webpack_require__.bind(null, 3064)));;/*\nview model\n */const declViewModelJson={\"schemaVersion\":\"1.0.0\",\"imports\":[],\"actions\":{\"render\":{\"method\":\"AwSearchBreadcrumbChipsRenderFunction\",\"deps\":\"js/AwSearchBreadcrumbChipsService\",\"options\":{\"elementRefList\":[\"chiplist\"]}},\"chipOverflowPopup\":{\"actionType\":\"popup\",\"options\":{\"placement\":\"bottom-start\",\"toggleMode\":true,\"whenParentScrolls\":\"close\",\"clickOutsideToClose\":true,\"anchor\":\"closePopupAnchor\",\"resizeToClose\":true}},\"buildSearchChips\":{\"actionType\":\"JSFunction\",\"method\":\"buildSearchChips\",\"inputData\":{\"searchObject\":\"{{props.searchObject}}\",\"existingBreadcrumbChips\":\"{{data.breadcrumbChips}}\"},\"outputData\":{\"breadcrumbChips\":\"\"},\"deps\":\"js/AwSearchBreadcrumbChipsUtils\"},\"calculateOverflow\":{\"actionType\":\"JSFunction\",\"method\":\"calculateOverflow\",\"inputData\":{\"elementRefList\":\"{{parameters.elementRefList}}\",\"totalVisibleArea\":\"{{data.visibleChipArea}}\",\"totalVisibleHeight\":\"{{data.visibleHeightChipArea}}\",\"breadcrumbChips\":\"{{data.breadcrumbChips}}\",\"currentOverflowChips\":\"{{data.overflowConfig.overflownChips}}\",\"displayBreadcrumbChips\":\"{{data.displayBreadcrumbChips}}\",\"inHeader\":\"{{data.inHeader}}\",\"searchFilterCategoryExpandMore\":\"{{i18n.searchFilterCategoryExpandMore}}\",\"visibleChipAreaMaintained\":true},\"outputData\":{\"displayBreadcrumbChips\":\"displayChips\",\"overflowConfig.overflownChips\":\"overflownChips\",\"displayOverflowButton\":\"displayOverflowButton\",\"visibleChipArea\":\"totalVisibleArea\",\"visibleHeightChipArea\":\"totalVisibleHeight\"},\"deps\":\"js/AwSearchBreadcrumbChipsUtils\"},\"attachResizeObserver\":{\"actionType\":\"JSFunction\",\"method\":\"attachResizeObserver\",\"inputData\":{\"data\":\"{{data}}\",\"elementRefList\":\"{{parameters.elementRefList}}\"},\"deps\":\"js/AwSearchBreadcrumbChipsService\"},\"removeFilterAction\":{\"actionType\":\"JSFunction\",\"method\":\"removeSelectedChip\",\"inputData\":{\"searchObject\":\"{{props.searchObject}}\",\"chipToRemove\":\"{{parameters.chip}}\",\"data\":\"{{data}}\"},\"outputData\":{\"displayBreadcrumbChips\":\"displayChips\",\"overflowConfig.overflownChips\":\"overflownChips\"},\"deps\":\"js/AwSearchBreadcrumbChipsUtils\"},\"clearAllAction\":{\"actionType\":\"JSFunction\",\"method\":\"clearAll\",\"inputData\":{\"searchObject\":\"{{props.searchObject}}\"},\"deps\":\"js/AwSearchBreadcrumbChipsUtils\"},\"onMount\":{\"actionType\":\"JSFunction\",\"method\":\"checkSearchLocation\",\"inputData\":{\"searchObject\":\"{{props.searchObject}}\"},\"outputData\":{\"inHeader\":\"\"},\"deps\":\"js/AwSearchBreadcrumbChipsUtils\"},\"resizeOverflowCalculation\":{\"actionType\":\"batchJob\",\"steps\":[{\"action\":\"buildSearchChips\"},{\"action\":\"calculateOverflow\"}]},\"onMountActions\":{\"actionType\":\"batchJob\",\"steps\":[{\"action\":\"onMount\"},{\"action\":\"attachResizeObserver\"}]},\"onUnMount\":{\"actionType\":\"JSFunction\",\"method\":\"onUnMount\",\"inputData\":{\"elementRefList\":\"{{parameters.elementRefList}}\"},\"deps\":\"js/AwSearchBreadcrumbChipsService\"}},\"data\":{\"breadcrumbChips\":[],\"displayBreadcrumbChips\":[],\"chipsModel\":[],\"inHeader\":\"\",\"displayOverflowButton\":\"\",\"clearAllDisplayName\":\"\",\"visibleHeightChipArea\":\"\",\"visibleChipArea\":\"\",\"searchFilterCategoryExpandMore\":\"{{i18n.searchFilterCategoryExpandMore}}\",\"overflowConfig\":{\"overflownChips\":[],\"hideMore\":true},\"clearAll\":{\"displayName\":\"{{i18n.clear}}\",\"type\":\"STRING\",\"uiValue\":\"{{i18n.clear}}\",\"isRequired\":\"false\"}},\"conditions\":{\"shouldShowFilterChips\":{\"expression\":\"data.breadcrumbChips && data.breadcrumbChips.length > 0\"}},\"onEvent\":[],\"lifecycleHooks\":{\"render\":\"render\",\"onMount\":\"onMountActions\",\"onUpdate\":[{\"action\":\"resizeOverflowCalculation\",\"observers\":[\"props.searchObject.activeFilters\",\"props.searchObject.activeFilterString\",\"props.searchObject.categories\"]}]},\"props\":{\"search-object\":{\"type\":\"object\"}},\"i18n\":{\"clear\":[\"SearchMessages\"],\"searchFilterCategoryExpandMore\":[\"SearchMessages\"]},\"_viewModelId\":\"AwSearchBreadcrumbChips\",\"_uniqueViewModelId\":\"AwSearchBreadcrumbChips\",\"ctx\":{}};/*\ndefine component\n*/const Component=Object(js_declViewModelService__WEBPACK_IMPORTED_MODULE_0__[/* createComponent */ \"a\"])(declViewModelJson,js_AwSearchBreadcrumbChipsService__WEBPACK_IMPORTED_MODULE_6__[\"AwSearchBreadcrumbChipsRenderFunction\"],{\"elementRefList\":[\"chiplist\"]},ctxImportObj);/* harmony default export */ __webpack_exports__[\"default\"] = (Component);\n\n/***/ }),\n\n/***/ 3063:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doNothing\", function() { return doNothing; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"attachResizeObserver\", function() { return attachResizeObserver; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onUnMount\", function() { return onUnMount; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AwSearchBreadcrumbChipsRenderFunction\", function() { return AwSearchBreadcrumbChipsRenderFunction; });\n/* harmony import */ var viewmodel_AwChipViewModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(310);\n/* harmony import */ var viewmodel_AwButtonViewModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(52);\n/* harmony import */ var viewmodel_AwPopupViewModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(42);\n/* harmony import */ var js_resizeObserver_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(128);\n/* harmony import */ var js_AwSearchBreadcrumbChipsUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(3064);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(1);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(2);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__);\nlet doNothing=()=>{//NO OP\n};const attachResizeObserver=(viewModel,elementRefList)=>{const ref=elementRefList.get('chiplist');const{dispatch}=viewModel;const addResizeObserver=()=>{if(js_resizeObserver_service__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].supportsResizeObserver()){const callback=lodash__WEBPACK_IMPORTED_MODULE_5___default.a.debounce(()=>{if(ref&&ref.current&&ref.current.parentElement&&ref.current.parentElement.parentElement){const data=viewModel.getData();var overflowReturn=js_AwSearchBreadcrumbChipsUtils__WEBPACK_IMPORTED_MODULE_4__[\"default\"].calculateOverflow(elementRefList,data.visibleChipArea,data.visibleHeightChipArea,data.breadcrumbChips,data.overflowConfig.overflownChips,data.displayBreadcrumbChips,data.inHeader,data.searchFilterCategoryExpandMore,false);var overflowConfig={overflownChips:overflowReturn.overflownChips,hideMore:true};dispatch&&dispatch({path:'data',value:{displayBreadcrumbChips:overflowReturn.displayChips,displayOverflowButton:overflowReturn.displayOverflowButton,overflowConfig:overflowConfig}});}},5,{maxWait:50,trailing:true,leading:false});ref.current.resizeObserver=js_resizeObserver_service__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].observe(ref.current.parentElement.parentElement,callback);}};addResizeObserver();};const onUnMount=elementRefList=>{if(elementRefList){const ref=elementRefList.get('chiplist');ref.current&&ref.current.resizeObserver&&ref.current.resizeObserver();}};const AwSearchBreadcrumbChipsRenderFunction=props=>{const{viewModel,actions,elementRefList}=props;const{data,i18n}=viewModel;let{chipOverflowPopup}=actions;let chiplistRef=elementRefList.get('chiplist').current;const chipCondition={conditions:{}};const openOverflow=()=>{if(!chipOverflowPopup.open){chipOverflowPopup.show({width:'auto',height:'auto'});}};const closePopup=()=>{chipOverflowPopup.hide();};let loadedVMO=data.displayBreadcrumbChips;return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(\"div\",{className:data.inHeader?'aw-search-breadcrumb-chips':'aw-search-breadcrumb-chipsPanel',children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxs\"])(\"div\",{className:'aw-layout-flexbox '+(data.inHeader?'aw-widgets-chipList':'aw-widgets-chipListPanel'),ref:elementRefList.get('chiplist'),children:[data.displayBreadcrumbChips&&data.displayBreadcrumbChips.length>0&&loadedVMO.map((chipModel,index)=>{return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(viewmodel_AwChipViewModel__WEBPACK_IMPORTED_MODULE_0__[\"default\"],{chip:chipModel,action:doNothing(),uiIconAction:actions.removeFilterAction,chipCondition:chipCondition,children:chipModel.children&&chipModel.children.map((chipChildModel,childIndex)=>{return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(viewmodel_AwChipViewModel__WEBPACK_IMPORTED_MODULE_0__[\"default\"],{chip:chipChildModel,action:doNothing(),uiIconAction:actions.removeFilterAction,chipCondition:chipCondition},childIndex);})},index);}),data.overflowConfig.overflownChips&&data.overflowConfig.overflownChips.length>0&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxs\"])(\"div\",{className:data.inHeader?'sw-chip-overflowContainer':'sw-chip-overflowContainerPanel',ref:chipOverflowPopup.reference,children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(viewmodel_AwButtonViewModel__WEBPACK_IMPORTED_MODULE_1__[\"default\"],{className:data.inHeader?'sw-chip-overflowButton':'sw-chip-overflowButtonPanel',action:openOverflow,closeAction:closePopup,buttonType:\"chromeless\",label:data.displayOverflowButton,children:data.displayOverflowButton}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(viewmodel_AwPopupViewModel__WEBPACK_IMPORTED_MODULE_2__[\"default\"],{...chipOverflowPopup.options,children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(\"div\",{className:'aw-layout-flexbox sw-column aw-search-overflow '+(data.inHeader?'aw-widgets-overflow-chipList':'aw-widgets-overflow-chipListPanel'),children:data.overflowConfig.overflownChips.map((chipModel,overflowIndex)=>{return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(viewmodel_AwChipViewModel__WEBPACK_IMPORTED_MODULE_0__[\"default\"],{chip:chipModel,action:doNothing(),uiIconAction:actions.removeFilterAction,chipCondition:chipCondition,children:chipModel.children&&chipModel.children.map((chipChildModel,childOverflowIndex)=>{return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(viewmodel_AwChipViewModel__WEBPACK_IMPORTED_MODULE_0__[\"default\"],{chip:chipChildModel,action:doNothing(),uiIconAction:actions.removeFilterAction,chipCondition:chipCondition},childOverflowIndex);})},overflowIndex);})})})]}),data.breadcrumbChips&&data.breadcrumbChips.length>0&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(viewmodel_AwButtonViewModel__WEBPACK_IMPORTED_MODULE_1__[\"default\"],{className:\"aw-search-clearAll\",buttonType:\"chromeless\",action:actions.clearAllAction,label:i18n.clear,children:i18n.clear})]})});};\n\n/***/ }),\n\n/***/ 3064:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"buildSearchChips\", function() { return buildSearchChips; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeSelectedChip\", function() { return removeSelectedChip; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkSearchLocation\", function() { return checkSearchLocation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clearAll\", function() { return clearAll; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculateOverflow\", function() { return calculateOverflow; });\n/* harmony import */ var js_filterPanelUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2996);\n/* harmony import */ var js_aw_searchFilter_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2968);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\n// Copyright (c) 2021 Siemens\n/**\n * @module js/AwSearchBreadcrumbChipsUtils\n *//**\n * Build master list of chips to display in breadcrumb location\n * @param {*} searchObject context for render function interpolation\n * @returns array of chips to display\n */let buildSearchChips=(searchObject,existingBreadcrumbChips)=>{let chips=[];var parentChip;var appliedFilters=[];let appliedFiltersExist=searchObject&&searchObject.appliedFilters&&searchObject.appliedFilters.length>0;let categoriesExist=searchObject.categories&&searchObject.categories.length>0;let specialCategoriesExist=searchObject.categoriesForRangeSearches&&searchObject.categoriesForRangeSearches.length>0;let isFacetSearch=searchObject.isFacetSearch;if(appliedFiltersExist&&categoriesExist&&!isFacetSearch){appliedFilters=removeDuplicateDateFilters(searchObject.appliedFilters);//Get the display value of the Category to display on the chip\nfor(var i=0;i<appliedFilters.length;i++){for(var j=0;j<searchObject.categories.length;j++){switch(searchObject.categories[j].type){case'StringFilter':parentChip=getFilterParentChip(searchObject.categories[j],appliedFilters[i],'StringFilter');break;case'NumericFilter':parentChip=getFilterParentChip(searchObject.categories[j],appliedFilters[i],'NumericFilter');break;case'DateFilter':parentChip=getDateFilterParentChip(searchObject.categories[j],appliedFilters[i],searchObject.appliedFilters);break;case'RadioFilter':parentChip=getFilterParentChip(searchObject.categories[j],appliedFilters[i],'RadioFilter');break;case'ObjectFilter':parentChip=getFilterParentChip(searchObject.categories[j],appliedFilters[i],'ObjectFilter');break;}//Check if parentChip is populated and add to chips\nif(parentChip){chips.push(parentChip);parentChip=undefined;}}}}else if(appliedFiltersExist&&specialCategoriesExist&&!isFacetSearch){appliedFilters=removeDuplicateDateFilters(searchObject.appliedFilters);//Get the display value of the Category to display on the chip\nfor(var i=0;i<appliedFilters.length;i++){for(var j=0;j<searchObject.categoriesForRangeSearches.length;j++){switch(searchObject.categoriesForRangeSearches[j].type){case'StringFilter':parentChip=getFilterParentChip(searchObject.categoriesForRangeSearches[j],appliedFilters[i],'StringFilter');break;case'NumericFilter':parentChip=getFilterParentChip(searchObject.categoriesForRangeSearches[j],appliedFilters[i],'NumericFilter');break;case'DateFilter':parentChip=getDateFilterParentChip(searchObject.categoriesForRangeSearches[j],appliedFilters[i],searchObject.appliedFilters);break;case'RadioFilter':parentChip=getFilterParentChip(searchObject.categoriesForRangeSearches[j],appliedFilters[i],'RadioFilter');break;case'ObjectFilter':parentChip=getFilterParentChip(searchObject.categoriesForRangeSearches[j],appliedFilters[i],'ObjectFilter');break;}//Check if parentChip is populated and add to chips\nif(parentChip){chips.push(parentChip);parentChip=undefined;}}}}else if(isFacetSearch){return existingBreadcrumbChips;}return chips;};/**\n * Remove selected chip from current list of displayed or overflow chips\n * @param {*} searchObject searchObject\n * @param {*} chipToRemove selected chip to remove\n * @param {*} data data\n * @param {*} chiplistRef displayed chip ref\n * @returns display and overflow chips for rerender\n */let removeSelectedChip=function(searchObject,chipToRemove,data,chiplistRef){let displayChips=lodash__WEBPACK_IMPORTED_MODULE_2___default.a.cloneDeep(data.displayBreadcrumbChips);let overflownChips=[];switch(chipToRemove.chipFilterType){case'StringFilter':case'NumericFilter':removeChip(searchObject,chipToRemove);break;case'DateFilter':removeDateChip(searchObject,chipToRemove);break;case'RadioFilter':removeRadioChip(searchObject,chipToRemove);break;case'ObjectFilter':removeObjectChip(searchObject,chipToRemove);break;}for(let i=0;displayChips.length>i;i++){if(displayChips[i].labelDisplayName===chipToRemove.labelDisplayName){displayChips.splice(i,1);}}return{displayChips,overflownChips};};/**\n * Creates the chip that will be added to the master chip list\n * @function createChip\n * @param {Object} parent If chip is a parent chip\n * @param {Object} numberOfChips if parent chip how many children chips exist\n * @param {Object} categoryName name of category\n * @param {Object} filterDisplayName display name of filter\n * @param {Object} internalCategoryName intenal category name\n * @param {Object} internalFilterName intenal filter name\n * @param {Object} filterType type of filter\n * @param {Object} childrenChips if parent this is children chips to display in group\n * @param {Object} defaultSelection default selection, this selection will not display remove button\n * @returns {Object} breadcrumbChip\n */function createChip(parent,numberOfChips,categoryName,filterDisplayName,internalCategoryName,internalFilterName,filterType,childrenChips,defaultSelection){let displayLabel;if(numberOfChips>1&&parent){displayLabel=categoryName+': '+numberOfChips+' Selected';internalFilterName='parentChip';}else{displayLabel=categoryName+': '+filterDisplayName;}let breadcrumbChip={uiIconId:'miscRemoveBreadcrumb',chipType:'BUTTON',selected:false,labelDisplayName:displayLabel,labelInternalCategoryName:internalCategoryName,labelInternalFilterName:internalFilterName,chipFilterType:filterType,className:'aw-search-breadcrumb-chip'};if(filterType==='RadioFilter'&&defaultSelection){breadcrumbChip.uiIconId='';}if(childrenChips&&childrenChips.length>1){breadcrumbChip.children=childrenChips;}return breadcrumbChip;}/**\n * Returns active filters after removing repetitive date filters ie. year_week filters\n * @function removeDuplicateDateFilters\n * @param {Object} activeFilters current active filter\n * @returns {Object} editedActiveFilters\n */function removeDuplicateDateFilters(appliedFilters){var editedAppliedFilters=[];var dateExists=false;for(let i=0;i<appliedFilters.length;i++){//Handles checkbox date filters selected\nif(appliedFilters[i].name.includes('_0Z0_')){if(appliedFilters[i].name.includes('_month')||appliedFilters[i].name.includes('_week')){appliedFilters.slice(i,1);}else{editedAppliedFilters.push(appliedFilters[i]);}}//Handle the Date Range Filter being set\nelse if(appliedFilters[i].type==='DateFilter'){for(let j=0;j<appliedFilters.length;j++){if(appliedFilters[i].name===appliedFilters[j].name.substr(0,appliedFilters[j].name.indexOf('_0Z0'))){dateExists=true;}}if(dateExists){appliedFilters.slice(i,1);dateExists=false;}else{editedAppliedFilters.push(appliedFilters[i]);dateExists=false;}}else{editedAppliedFilters.push(appliedFilters[i]);}}return editedAppliedFilters;}/**\n * Returns a parent chip to build chips for addition to the display chips array\n * @function getFilterParentChip\n * @param {Object} category filterCategory\n * @param {Object} activeFilter current active filters\n * @param {Object} filterType filter type\n * @returns {Object} parentChip\n */function getFilterParentChip(category,activeFilter,filterType){var childrenChips=[];var defaultSelection=false;var parent;if(category.internalName===activeFilter.name){//Create initial chip. If multiple of same category exist create child chip\nfor(var k=0;k<activeFilter.values.length;k++){var categoryName=category.displayName;var numberOfChips=activeFilter.values.length;var internalCategoryName=activeFilter.name;var internalFilterName=activeFilter.values[k];var filterDisplayName=category.filterValues&&category.filterValues.length>0?category.filterValues[0].name:undefined;if(activeFilter.values[k].includes('_NumericRange_')){parent=false;filterDisplayName=getNumericString(activeFilter.values[k]);}if(category.type==='RadioFilter'){if(activeFilter.values[0]===category.filterValues[0].internalName){defaultSelection=true;}}if(numberOfChips>1){if(category.type==='StringFilter'||category.type==='ObjectFilter'){for(var l=0;l<category.filterValues.length;l++){if(category.filterValues[l].internalName===internalFilterName){parent=false;filterDisplayName=category.filterValues[l].name;let chipChild=createChip(parent,numberOfChips,categoryName,filterDisplayName,internalCategoryName,internalFilterName,filterType,null,false);childrenChips.push(chipChild);}}}else if(category.type==='NumericFilter'){parent=false;filterDisplayName=activeFilter.values[k].replace('_NumericFilter_','');if(activeFilter.values[k].includes('_NumericRange_')){parent=false;filterDisplayName=getNumericString(activeFilter.values[k]);}let chipChild=createChip(parent,numberOfChips,categoryName,filterDisplayName,internalCategoryName,internalFilterName,filterType,null,false);childrenChips.push(chipChild);}}}parent=true;return createChip(parent,numberOfChips,categoryName,filterDisplayName,internalCategoryName,internalFilterName,filterType,childrenChips,defaultSelection);}}/**\n * Returns a date parent chip to build chips for addition to the display chips array\n * @function getDateFilterParentChip\n * @param {Object} category filterCategory\n * @param {Object} activeFilter current active filters\n * @param {Object} filterType filter type\n * @returns {Object} parentChip\n */function getDateFilterParentChip(category,currentActiveFilter,activeFilter){var childrenChips=[];var parent;var filterDisplayName;if(category.filterValues.length>0){for(var datechipfilter=0;datechipfilter<category.filterValues.length;datechipfilter++){if(category.filterValues[datechipfilter].categoryName===currentActiveFilter.name||category.internalName===currentActiveFilter.name){//Get Category Name and Internal Category value\nvar categoryName=category.displayName;//Get Group of DateFilter Chips\nvar dateFilterArray=getDateFilterChipArray(activeFilter,category);let numberOfChips=dateFilterArray.length;var internalFilterName=dateFilterArray[0].values[0];var internalCategoryName=dateFilterArray[0].name;//Get filter display name. If Filter Range get the proper Filter display name then\nfilterDisplayName=dateFilterArray[0].values[0]==='\"$NONE\"'?dateFilterArray[0].values[0]:category.filterValues[0].name;if(dateFilterArray[0].values[0].length>13&&dateFilterArray[0].values[0].substr(0,12)==='_DateFilter_'){let filterDisplayArray=getDateString(dateFilterArray[0].values[0]);filterDisplayName=filterDisplayArray.displayName;}//Incase of child chips get children chips\nif(numberOfChips>1){for(var k=0;k<dateFilterArray.length;k++){parent=false;internalCategoryName=dateFilterArray[k].name;internalFilterName=dateFilterArray[k].values[0];if(dateFilterArray[k].values[0].length>13&&dateFilterArray[k].values[0].substr(0,12)==='_DateFilter_'){let filterDisplayArray=getDateString(dateFilterArray[k].values[0]);filterDisplayName=filterDisplayArray.displayName;}else{for(var l=0;l<category.filterValues.length;l++){if(category.filterValues[l].internalName===dateFilterArray[k].values[0]){filterDisplayName=category.filterValues[l].name;}}}let chipChild=createChip(parent,numberOfChips,categoryName,filterDisplayName,internalCategoryName,internalFilterName,'DateFilter',null,false);childrenChips.push(chipChild);}}parent=true;var parentChip=createChip(parent,numberOfChips,categoryName,filterDisplayName,internalCategoryName,internalFilterName,'DateFilter',childrenChips,false);break;}}}else if(category.filterValues&&category.filterValues.length===0&&category.internalName===currentActiveFilter.name&&category.dateRangeString&&category.dateRangeString.length>0){filterDisplayName=getDateString(category.dateRangeString).displayName;parentChip=createChip(parent,1,category.displayName,filterDisplayName,category.internalName,category.dateRangeString,'DateFilter',[],false);}return parentChip;}/**\n * Returns dateRange in proper format for date chip display\n * @function getDateString\n * @param {Object} dateString filter string date value\n * @returns {Object} dateRange\n */function getDateString(dateString){if(dateString.length>19){var offsetString=dateString.substring(12);if(offsetString.length>4){var startDate=offsetString.substr(0,offsetString.indexOf('_TO_'));var endDate=offsetString.substr(offsetString.indexOf('_TO_')+4,offsetString.length);}if(startDate==='*'){startDate='0001-01-01T00:00:00+00:00';}startDate=js_filterPanelUtils__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].getDate(js_aw_searchFilter_service__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].processDateStringOffset(startDate));endDate=js_filterPanelUtils__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].getDate(js_aw_searchFilter_service__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].processDateStringOffset(endDate));var dateRange=js_filterPanelUtils__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].getDateRangeDisplayString(startDate,endDate);}return dateRange;}/**\n * Returns group of date filters in array\n * @function getDateFilterChipArray\n * @param {Object} activeFilterArray all current active filters\n * @param {Object} filterCategory current filter category\n * @returns {Object} dateFilterArray\n */function getDateFilterChipArray(activeFilterArray,filterCategory){var dateFilterArray=[];for(var i=0;i<activeFilterArray.length;i++){if(activeFilterArray[i].name===filterCategory.internalName){dateFilterArray.push(activeFilterArray[i]);}else{let shortFilterIntenal=activeFilterArray[i].name.substr(0,activeFilterArray[i].name.indexOf('_0Z0'));if(shortFilterIntenal===filterCategory.internalName){dateFilterArray.push(activeFilterArray[i]);}}}return dateFilterArray;}/**\n * Returns filterDisplayName in proper format for numeric chip display\n * @function getNumericString\n * @param {Object} numericString from the getCategoryValues\n * @returns {Object} filterDisplayName\n */function getNumericString(numericString){if(numericString.length>4){let value=numericString.replace('_NumericRange_','');let startValue=value.substr(0,value.indexOf('_TO_'));let endValue=value.substr(value.indexOf('_TO_')+4,value.length);if(!startValue){var filterDisplayName='To '+endValue;}else if(!endValue){var filterDisplayName='From '+startValue;}else{var filterDisplayName=startValue+' - '+endValue;}}return filterDisplayName;}/**\n * Updates search object with removed radio filter\n * @function removeRadioChip\n * @param {Object} searchObject searchObject\n * @param {Object} chipToRemove selected chip to remove\n */function removeRadioChip(searchObject,chipToRemove){const newSearchObject={...searchObject.value};for(var i=0;i<newSearchObject.categories.length;i++){if(chipToRemove.labelInternalCategoryName===newSearchObject.categories[i].internalName){if(chipToRemove.labelInternalFilterName===newSearchObject.categories[i].filterValues[0].internalName){newSearchObject.activeFilters[chipToRemove.labelInternalCategoryName]=[newSearchObject.categories[i].filterValues[1].internalName];}else{newSearchObject.activeFilters[chipToRemove.labelInternalCategoryName]=[newSearchObject.categories[i].filterValues[0].internalName];}}}newSearchObject.bulkFiltersApplied=true;searchObject.update(newSearchObject);}/**\n * Updates search object with removed object filter\n * @function removeObjectChip\n * @param {Object} searchObject searchObject\n * @param {Object} chipToRemove selected chip to remove\n */function removeObjectChip(searchObject,chipToRemove){const newSearchObject={...searchObject.value};let updatedFilters=js_aw_searchFilter_service__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].removeDependentClassificationFilters({internalName:chipToRemove.labelInternalFilterName});if(updatedFilters.length>0){newSearchObject.activeFilters[chipToRemove.labelInternalCategoryName]=updatedFilters;}else{delete newSearchObject.activeFilters[chipToRemove.labelInternalCategoryName];}newSearchObject.bulkFiltersApplied=true;searchObject.update(newSearchObject);}/**\n * Updates search object with after removing single string filter\n * @function removeSingleStringChip\n * @param {Object} newSearchObject searchObject\n * @param {Object} chipToRemove selected chip to remove\n */function removeSingleChip(newSearchObject,chipToRemove){let filtersForCategory=newSearchObject.activeFilters&&newSearchObject.activeFilters[chipToRemove.labelInternalCategoryName]?newSearchObject.activeFilters[chipToRemove.labelInternalCategoryName]:[];let updatedFilters=[];for(let index=0;index<filtersForCategory.length;index++){if(filtersForCategory[index]!==chipToRemove.labelInternalFilterName){updatedFilters.push(filtersForCategory[index]);}}if(updatedFilters.length>0){newSearchObject.activeFilters[chipToRemove.labelInternalCategoryName]=updatedFilters;}else{delete newSearchObject.activeFilters[chipToRemove.labelInternalCategoryName];}if(newSearchObject.activeFilters&&Object.keys(newSearchObject.activeFilters).length>0){newSearchObject.activeFilterString=js_aw_searchFilter_service__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].buildFilterString(newSearchObject.activeFilters);}else{newSearchObject.activeFilterString='';}}/**\n * Updates search object after removing multiple string filters from the same category\n * @function removeStringChip\n * @param {Object} newSearchObject searchObject\n * @param {Object} chipToRemove chip which is to be removed\n */function removeMultipleChip(newSearchObject,chipToRemove){let children=chipToRemove.children;for(let index=0;index<children.length;index++){removeSingleChip(newSearchObject,children[index]);}}/**\n * Updates search object after removing string chip\n * @function removeStringChip\n * @param {Object} searchObject searchObject\n * @param {Object} chipToRemove selected chip to remove\n */function removeChip(searchObject,chipToRemove){const newSearchObject={...searchObject.value};if(chipToRemove&&chipToRemove.children&&chipToRemove.children.length===0||chipToRemove&&!chipToRemove.children){removeSingleChip(newSearchObject,chipToRemove);}else{removeMultipleChip(newSearchObject,chipToRemove);}newSearchObject.bulkFiltersApplied=true;searchObject.update(newSearchObject);}/**\n * Updates search object with removed date filter\n * @function removeDateChip\n * @param {Object} searchObject searchObject\n * @param {Object} chipToRemove selected chip to remove\n */function removeDateChip(searchObject,chipToRemove){const newSearchObject={...searchObject.value};if(chipToRemove&&chipToRemove.children&&chipToRemove.children.length===0||chipToRemove&&!chipToRemove.children){removeSingleChip(newSearchObject,chipToRemove);}else{removeMultipleChip(newSearchObject,chipToRemove);}newSearchObject.activeFilters=js_aw_searchFilter_service__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].removeDependentDateFilters(newSearchObject.activeFilters);newSearchObject.bulkFiltersApplied=true;searchObject.update(newSearchObject);}let checkSearchLocation=searchObject=>{//Check if in Panel or Global Search Area\nif(searchObject&&searchObject.criteria&&searchObject.criteria.searchFromLocation){let currentLocation=lodash__WEBPACK_IMPORTED_MODULE_2___default.a.cloneDeep(searchObject.criteria.searchFromLocation);if(currentLocation==='global'){return true;}return false;}return true;};/**\n * ClearAll action removes all selected chips in the breadcrumb location\n * @function removeDateChip\n * @param {Object} searchObject searchObject\n */let clearAll=searchObject=>{const newSearchObject={...searchObject.value};const categories=js_aw_searchFilter_service__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].clearAllSelectedFiltersAndRanges(newSearchObject.categories,newSearchObject.activeFilters,newSearchObject.positivePendingFilters);newSearchObject.categories=categories;if(newSearchObject.skipFiltersForClearAll&&newSearchObject.activeFilters&&newSearchObject.activeFilterMap&&Object.keys(newSearchObject.activeFilters).length>0){for(const[key,value]of Object.entries(newSearchObject.activeFilters)){if(!newSearchObject.skipFiltersForClearAll.includes(key)){delete newSearchObject.activeFilters[key];delete newSearchObject.activeFilterMap[key];}}}else{newSearchObject.activeFilterMap={};newSearchObject.activeFilters={};}delete newSearchObject.positivePendingFilters;delete newSearchObject.negativePendingFilters;delete newSearchObject.allCategoriesVisible;newSearchObject.bulkFiltersApplied=true;searchObject.update(newSearchObject);};let calculateOverflow=(elementRefList,totalVisibleArea,totalVisibleHeight,breadcrumbChips,currentOverflowChips,displayBreadcrumbChips,inHeader,searchFilterCategoryExpandMore,visibleChipAreaMaintained)=>{var tabElems;var displayChips=[];var overflownChips=[];var breakIndex=null;var filledHeader=true;if(elementRefList){let chiplist=elementRefList.get('chiplist').current;if(!chiplist){return breakIndex;}if(!tabElems){tabElems=chiplist.querySelectorAll('.aw-widgets-chip');}let arr=[...tabElems];var tabPadding=16;let searchCountAreaSpacing=0;if(chiplist.parentNode.parentElement&&chiplist.parentNode.parentElement.firstChild&&chiplist.parentNode.parentElement.firstChild.childNodes&&chiplist.parentNode.parentElement.firstChild.childNodes.length>0&&chiplist.parentNode.parentElement.firstChild.childNodes[0].clientWidth){searchCountAreaSpacing=chiplist.parentNode.parentElement.firstChild.childNodes[0].clientWidth;}let cmdMoreButtonSpacing=80;let clearButtonSpacing=chiplist.lastChild?chiplist.lastChild.clientWidth+24:24;if(!totalVisibleArea||!visibleChipAreaMaintained){totalVisibleArea=chiplist.parentElement.parentElement?chiplist.parentElement.parentElement.clientWidth:0;}var totalCalculatedArea=tabPadding+searchCountAreaSpacing+cmdMoreButtonSpacing+clearButtonSpacing;//Determine where overflow takes place. If overflow is already hit then this keeps breakIndex as undefined\nfor(var i=0;i<arr.length;i++){totalCalculatedArea=arr[i].clientWidth+totalCalculatedArea;if(totalCalculatedArea>totalVisibleArea){breakIndex=i;break;}}if(!inHeader){if(!totalVisibleHeight||!visibleChipAreaMaintained){totalVisibleHeight=chiplist.parentElement.parentElement.clientHeight/2;}let chipElementHeight=chiplist.parentElement.clientHeight;let clearButtonSpacing=chiplist.lastChild?chiplist.lastChild.clientHeight:0;cmdMoreButtonSpacing=32;tabPadding=32;totalCalculatedArea=tabPadding+clearButtonSpacing+cmdMoreButtonSpacing+chipElementHeight;if(totalCalculatedArea>totalVisibleHeight){for(i=0;i<arr.length;i++){totalCalculatedArea-=26;if(totalCalculatedArea<totalVisibleHeight){breakIndex=arr.length-i;break;}}}}//Check if header is completely filled. Used when going from a smaller window size to larger window size\n//diffChipArea helps with accounting for scenarios where there is only a small space difference in calculated and actual size\nlet diffChipArea=totalVisibleArea-totalCalculatedArea-200;if(totalCalculatedArea<totalVisibleArea-200&&diffChipArea>tabPadding){filledHeader=false;}if(breakIndex===0&&inHeader){displayChips=[];overflownChips=breadcrumbChips;}else if(breakIndex>0){overflownChips=breadcrumbChips.slice(breakIndex);displayChips=breadcrumbChips.slice(0,breakIndex);}else if(breadcrumbChips.length>=7){overflownChips=breadcrumbChips.slice(1);displayChips=breadcrumbChips.slice(0,1);}else if(currentOverflowChips.length>0&&arr.length<breadcrumbChips.length&&filledHeader){overflownChips=breadcrumbChips.slice(arr.length);displayChips=breadcrumbChips.slice(0,arr.length);}else{displayChips=breadcrumbChips;overflownChips=[];}}else if(currentOverflowChips.length!==0&&displayBreadcrumbChips.length!==0){overflownChips=currentOverflowChips;displayChips=displayBreadcrumbChips;}else{overflownChips=[];displayChips=breadcrumbChips;}let displayOverflowButton=overflownChips.length+' '+searchFilterCategoryExpandMore;return{displayChips,overflownChips,displayOverflowButton,totalVisibleArea,totalVisibleHeight};};/* harmony default export */ __webpack_exports__[\"default\"] = ({buildSearchChips,removeSelectedChip,checkSearchLocation,clearAll,calculateOverflow});\n\n/***/ })\n\n}]);","inputSourceMap":null}