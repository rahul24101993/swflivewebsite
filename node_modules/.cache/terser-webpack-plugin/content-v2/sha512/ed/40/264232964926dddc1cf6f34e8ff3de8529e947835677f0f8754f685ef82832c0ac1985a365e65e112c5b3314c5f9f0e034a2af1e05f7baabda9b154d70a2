{"code":"(this.webpackJsonpcreatingjsxcomponent=this.webpackJsonpcreatingjsxcomponent||[]).push([[70],{2992:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"handleCompleteEvent\",(function(){return m})),n.d(t,\"updateBaseSelection\",(function(){return f})),n.d(t,\"initializePage\",(function(){return p})),n.d(t,\"cleanupPage\",(function(){return C})),n.d(t,\"getContext\",(function(){return g}));var a=n(1),o=n.n(a),i=n(12),c=n(7),r=n(43),s=n(2993),d=n(51),l=n(80);const u={sublocation:\"sublocation\",taiCmd:\"activeToolsAndInfoCommand\",navCmd:\"activeNavigationCommand\",sidenavCmd:\"sidenavCommandId\"},m=e=>{let t=e.id,n=i.default.getCtx(\"sidenavCommandId\");if(\"toolAndInfoPanel\"===e.source){var a=i.default.getCtx(\"activeToolsAndInfoCommand\");a&&(t=\"aw_toolsAndInfo\",n=a.commandId),i.default.unRegisterCtx(\"activeToolsAndInfoCommand\")}else if(\"navigationPanel\"===e.source){var o=i.default.getCtx(\"activeNavigationCommand\");o&&(t=\"aw_navigation\",n=o.commandId),i.default.unRegisterCtx(\"activeNavigationCommand\")}n&&c.a.publish(\"awsidenav.openClose\",{id:t,commandId:n})},f=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"s_uid\";e&&!r.a.instance.params[n]&&(s.a.updateSelection([e],e),t&&t.update({selected:[e],pselected:e,source:\"base\"}))},p=async(e,t)=>{e||(e=r.a.instance.current.data?r.a.instance.current.data:{}),e.name=e.name?e.name:r.a.instance.current.name,e.parentStateName=e.parentStateName?e.parentStateName:r.a.instance.current.parent,(e=>{var t={location:\"locationContext\",sublocationInLocation:\"ActiveWorkspace:SubLocation\",...u},n=i.default.getCtx(t.location)||{};n[t.sublocationInLocation]=e&&e.name.replace(/_/g,\".\"),i.default.registerCtx(t.location,n);var a={clientScopeURI:e.clientScopeURI,historyNameToken:e.name,label:e.label,nameToken:e.nameToken};i.default.registerCtx(t.sublocation,a),i.default.registerCtx(\"sublocationTitleErrorMessage\",null)})(e);const n=(e=>{if(e.context){const t=Object.keys(e.context);return t.forEach((function(t){const n=e.context[t],a=i.default.getCtx(t);n instanceof Array||\"string\"===typeof n||!a?i.default.registerCtx(t,o.a.cloneDeep(n)):i.default.registerCtx(t,{...a,...o.a.cloneDeep(n)})})),t}return null})(e);s.a.updateSelection(t?[t]:void 0,t);const a=e.policy&&await d.a.registerPolicyAsync(e.policy);return{subLocationPreference:e.awSubLocationPref||e.context||{},stateContext:n,propertyPolicyId:a}},C=(e,t)=>{e&&e.length>0&&e.forEach(i.default.unRegisterCtx),Object.keys(u).forEach(i.default.unRegisterCtx),s.a.updateSelection(void 0,void 0),d.a.unregister(t)},g=(e,t)=>[new l.a({ctxParameters:[],additionalParameters:[t.provider,t.subPanelContext],compute:()=>({provider:t.provider,...t.subPanelContext})})]}}]);","name":"static/js/70.b100cc97.chunk.js","input":"(this[\"webpackJsonpcreatingjsxcomponent\"] = this[\"webpackJsonpcreatingjsxcomponent\"] || []).push([[70],{\n\n/***/ 2992:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"handleCompleteEvent\", function() { return handleCompleteEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateBaseSelection\", function() { return updateBaseSelection; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initializePage\", function() { return initializePage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cleanupPage\", function() { return cleanupPage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getContext\", function() { return getContext; });\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var js_appCtxService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(12);\n/* harmony import */ var js_eventBus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7);\n/* harmony import */ var js_awStateService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(43);\n/* harmony import */ var js_selection_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(2993);\n/* harmony import */ var soa_kernel_propertyPolicyService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(51);\n/* harmony import */ var js_derivedContextService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(80);\nconst SUBLOCATION_CONSTANTS={sublocation:'sublocation',taiCmd:'activeToolsAndInfoCommand',navCmd:'activeNavigationCommand',sidenavCmd:'sidenavCommandId'};const registerSubLocationContext=provider=>{var contextConstants={location:'locationContext',sublocationInLocation:'ActiveWorkspace:SubLocation',...SUBLOCATION_CONSTANTS};// Update the location context\nvar locationContext=js_appCtxService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getCtx(contextConstants.location)||{};locationContext[contextConstants.sublocationInLocation]=provider&&provider.name.replace(/_/g,'.');js_appCtxService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].registerCtx(contextConstants.location,locationContext);// Update the sublocation context\nvar initialContext={clientScopeURI:provider.clientScopeURI,historyNameToken:provider.name,label:provider.label,nameToken:provider.nameToken};js_appCtxService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].registerCtx(contextConstants.sublocation,initialContext);js_appCtxService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].registerCtx('sublocationTitleErrorMessage',null);};/**\n * Register any predefined context that is in the state data\n */const registerStateContext=provider=>{if(provider.context){const stateContexts=Object.keys(provider.context);// Register the state contexts\nstateContexts.forEach(function(key){const newContext=provider.context[key];const existingContext=js_appCtxService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getCtx(key);if(!(newContext instanceof Array)&&typeof newContext!=='string'&&existingContext){js_appCtxService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].registerCtx(key,{...existingContext,...lodash__WEBPACK_IMPORTED_MODULE_0___default.a.cloneDeep(newContext)});}else{js_appCtxService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].registerCtx(key,lodash__WEBPACK_IMPORTED_MODULE_0___default.a.cloneDeep(newContext));}});return stateContexts;}return null;};const handleCompleteEvent=eventData=>{let id=eventData.id;let commandId=js_appCtxService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getCtx('sidenavCommandId');if(eventData.source==='toolAndInfoPanel'){var toolsAndInfoCommand=js_appCtxService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getCtx('activeToolsAndInfoCommand');if(toolsAndInfoCommand){id='aw_toolsAndInfo';commandId=toolsAndInfoCommand.commandId;}js_appCtxService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].unRegisterCtx('activeToolsAndInfoCommand');}else if(eventData.source==='navigationPanel'){var navigationCommand=js_appCtxService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getCtx('activeNavigationCommand');if(navigationCommand){id='aw_navigation';commandId=navigationCommand.commandId;}js_appCtxService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].unRegisterCtx('activeNavigationCommand');}if(commandId){js_eventBus__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].publish('awsidenav.openClose',{id:id,commandId:commandId});}};const updateBaseSelection=function(baseSelection,parentSelectionData){let selectionQueryParamKey=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'s_uid';if(baseSelection&&!js_awStateService__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].instance.params[selectionQueryParamKey]){js_selection_service__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"].updateSelection([baseSelection],baseSelection);parentSelectionData&&parentSelectionData.update({selected:[baseSelection],pselected:baseSelection,source:'base'});}};const initializePage=async(provider,baseSelection)=>{if(!provider){provider=js_awStateService__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].instance.current.data?js_awStateService__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].instance.current.data:{};}provider.name=provider.name?provider.name:js_awStateService__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].instance.current.name;provider.parentStateName=provider.parentStateName?provider.parentStateName:js_awStateService__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].instance.current.parent;registerSubLocationContext(provider);const stateContext=registerStateContext(provider);//set base selection\njs_selection_service__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"].updateSelection(baseSelection?[baseSelection]:undefined,baseSelection);const propertyPolicyId=provider.policy&&(await soa_kernel_propertyPolicyService__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].registerPolicyAsync(provider.policy));return{subLocationPreference:provider.awSubLocationPref||provider.context||{},stateContext,propertyPolicyId};};const cleanupPage=(stateContext,propertyPolicyId)=>{if(stateContext&&stateContext.length>0){stateContext.forEach(js_appCtxService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].unRegisterCtx);}Object.keys(SUBLOCATION_CONSTANTS).forEach(js_appCtxService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].unRegisterCtx);//clear selectiona\njs_selection_service__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"].updateSelection(undefined,undefined);soa_kernel_propertyPolicyService__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].unregister(propertyPolicyId);};const getContext=(vmDef,props)=>{return[new js_derivedContextService__WEBPACK_IMPORTED_MODULE_6__[/* DerivedStateResult */ \"a\"]({ctxParameters:[],additionalParameters:[props.provider,props.subPanelContext],compute:()=>{return{provider:props.provider,...props.subPanelContext};}})];};\n\n/***/ })\n\n}]);","inputSourceMap":null}