{"code":"(this.webpackJsonpcreatingjsxcomponent=this.webpackJsonpcreatingjsxcomponent||[]).push([[59],{2999:function(e,t,c){\"use strict\";c.r(t),c.d(t,\"defaultSelectionChangeHandler\",(function(){return u})),c.d(t,\"handleSelectionChange\",(function(){return p})),c.d(t,\"getContext\",(function(){return v})),c.d(t,\"cleanupViewModeData\",(function(){return f}));var o=c(1),s=c.n(o),n=c(39),l=c.n(n),a=c(80),d=c(3059);const i=new l.a(\"selection\"),r=(e,t)=>{e&&e.update(t)},u=(e,t,c,o,s,n,l)=>{e&&e.selected&&(\"primary\"===e.source?((e,t,c,o,s)=>{let n={selected:[],pselected:void 0,source:void 0};e.selected&&e.selected.length>0?(n.selected=e.selected,n.pselected=t||void 0,n.source=e.source):t&&(n.selected=[t],n.pselected=t,n.source=\"base\"),r(c,n),o&&o({path:\"data.primarySelection\",value:e.selected}),s.isSelectionModelActivated()||s.setSelectionModelActivated(!0)})(e,t,c,o,l):\"secondary\"===e.source&&((e,t,c,o,s)=>{let n={selected:[],pselected:void 0,source:void 0};if(e.selected&&e.selected.length>0){const c=o&&1===o.length?o:[t];n.selected=e.selected,n.pselected=c[0],n.source=e.source,n.relationInfo=e.relationInfo,s.setSelectionModelActivated(!1)}else o&&o.length?(n.selected=o,n.pselected=t,n.source=\"primary\",s.setSelectionModelActivated(!0)):t&&(n.selected=[t],n.pselected=t,n.source=\"base\");r(c,n)})(e,t,c,s,l),!n||n.focusComponent&&n.focusComponent===e.source||n.update({...n.value,focusComponent:e.source}),i(\"AwWorkarea selectionData: \",e))},p=(e,t,c,o,n,l,a,d)=>{s.a.isEmpty(e)||u(e,t,c,o,n,l,a||d)},v=(e,t)=>[new a.a({ctxParameters:[],additionalParameters:[t.subPanelContext,t.baseSelection],compute:()=>({...t.subPanelContext,baseSelection:t.baseSelection})})],f=()=>{d.a.changeViewMode(\"None\"),d.a.setAvailableViewModes([])}}}]);","name":"static/js/59.df0fe698.chunk.js","input":"(this[\"webpackJsonpcreatingjsxcomponent\"] = this[\"webpackJsonpcreatingjsxcomponent\"] || []).push([[59],{\n\n/***/ 2999:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"defaultSelectionChangeHandler\", function() { return defaultSelectionChangeHandler; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"handleSelectionChange\", function() { return handleSelectionChange; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getContext\", function() { return getContext; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cleanupViewModeData\", function() { return cleanupViewModeData; });\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(39);\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(debug__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var js_derivedContextService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(80);\n/* harmony import */ var js_viewMode_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3059);\n// Copyright (c) 2021 Siemens\nconst trace=new debug__WEBPACK_IMPORTED_MODULE_1___default.a('selection');const updateGlobalSelections=(parentSelectionData,selectionInfo)=>{parentSelectionData&&parentSelectionData.update(selectionInfo);};const handlePrimarySelectionChange=(localSelectionData,baseSelection,parentSelectionData,dispatch,primarySelectionModel)=>{let selectionInfo={selected:[],pselected:undefined,source:undefined};if(localSelectionData.selected&&localSelectionData.selected.length>0){selectionInfo.selected=localSelectionData.selected;selectionInfo.pselected=baseSelection||undefined;selectionInfo.source=localSelectionData.source;}else if(baseSelection){selectionInfo.selected=[baseSelection];selectionInfo.pselected=baseSelection;selectionInfo.source='base';}updateGlobalSelections(parentSelectionData,selectionInfo);dispatch&&dispatch({path:'data.primarySelection',value:localSelectionData.selected});if(!primarySelectionModel.isSelectionModelActivated()){primarySelectionModel.setSelectionModelActivated(true);}};const handleSecondarySelectionChange=(localSelectionData,baseSelection,parentSelectionData,primarySelection,primarySelectionModel)=>{let selectionInfo={selected:[],pselected:undefined,source:undefined};if(localSelectionData.selected&&localSelectionData.selected.length>0){const parentSelection=primarySelection&&primarySelection.length===1?primarySelection:[baseSelection];selectionInfo.selected=localSelectionData.selected;selectionInfo.pselected=parentSelection[0];selectionInfo.source=localSelectionData.source;selectionInfo.relationInfo=localSelectionData.relationInfo;primarySelectionModel.setSelectionModelActivated(false);}else if(primarySelection&&primarySelection.length){selectionInfo.selected=primarySelection;selectionInfo.pselected=baseSelection;selectionInfo.source='primary';primarySelectionModel.setSelectionModelActivated(true);}else if(baseSelection){selectionInfo.selected=[baseSelection];selectionInfo.pselected=baseSelection;selectionInfo.source='base';}updateGlobalSelections(parentSelectionData,selectionInfo);};const defaultSelectionChangeHandler=(localSelectionData,baseSelection,parentSelectionData,dispatch,primarySelection,sublocationState,primarySelectionModel)=>{if(localSelectionData&&localSelectionData.selected){if(localSelectionData.source==='primary'){handlePrimarySelectionChange(localSelectionData,baseSelection,parentSelectionData,dispatch,primarySelectionModel);}else if(localSelectionData.source==='secondary'){handleSecondarySelectionChange(localSelectionData,baseSelection,parentSelectionData,primarySelection,primarySelectionModel);}if(sublocationState&&(!sublocationState.focusComponent||sublocationState.focusComponent!==localSelectionData.source)){sublocationState.update({...sublocationState.value,focusComponent:localSelectionData.source});}trace('AwWorkarea selectionData: ',localSelectionData);}};const handleSelectionChange=(localSelectionData,baseSelection,parentSelectionData,dispatch,primarySelection,sublocationState,parentPWASelectionModel,localPWASelectionModel)=>{if(!lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isEmpty(localSelectionData)){defaultSelectionChangeHandler(localSelectionData,baseSelection,parentSelectionData,dispatch,primarySelection,sublocationState,parentPWASelectionModel||localPWASelectionModel);}};const getContext=(vmDef,props)=>{return[new js_derivedContextService__WEBPACK_IMPORTED_MODULE_2__[/* DerivedStateResult */ \"a\"]({ctxParameters:[],additionalParameters:[props.subPanelContext,props.baseSelection],compute:()=>{return{...props.subPanelContext,baseSelection:props.baseSelection};}})];};const cleanupViewModeData=()=>{js_viewMode_service__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].changeViewMode('None');js_viewMode_service__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].setAvailableViewModes([]);};\n\n/***/ })\n\n}]);","inputSourceMap":null}