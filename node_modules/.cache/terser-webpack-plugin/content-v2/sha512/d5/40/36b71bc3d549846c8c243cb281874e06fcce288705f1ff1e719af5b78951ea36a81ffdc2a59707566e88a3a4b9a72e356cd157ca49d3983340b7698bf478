{"code":"(this.webpackJsonpcreatingjsxcomponent=this.webpackJsonpcreatingjsxcomponent||[]).push([[1812],{2656:function(e,r,n){\"use strict\";n.r(r),n.d(r,\"callGraphQL\",(function(){return d}));var t=n(113),s=n(11),a=n(15),o=n(1),c=n.n(o),i=n(22),p=n(7),u=n(26),l=n(6);let d=function(e){return p.a.publish(\"progress.start\",{}),t.a.instance.post(u.default.getBaseURL()+e.endPoint,e.request,{headers:{\"Accept-Language\":a.default.getLocale()}}).then((function(e){Object(i.a)(e,\"No response given for null\");var r=e.data;try{if(r.errors){if(c.a.isEmpty(r.data))return p.a.publish(\"progress.end\",{}),s.a.instance.reject(r.errors[0].message);l.a.error(r.errors[0].message)}}catch(n){}return p.a.publish(\"progress.end\",{}),\"string\"!==typeof r||-1===r.indexOf(\"<?xml version\")?r:s.a.instance.reject(\"Unexpected response body for: null\")}),(function(e){throw p.a.publish(\"progress.end\",{}),e}))};const f={callGraphQL:d};r.default=f}}]);","name":"static/js/1812.11e9bbc6.chunk.js","input":"(this[\"webpackJsonpcreatingjsxcomponent\"] = this[\"webpackJsonpcreatingjsxcomponent\"] || []).push([[1812],{\n\n/***/ 2656:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"callGraphQL\", function() { return callGraphQL; });\n/* harmony import */ var js_awHttpService__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(113);\n/* harmony import */ var js_awPromiseService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);\n/* harmony import */ var js_localeService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(15);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var js_assert__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(22);\n/* harmony import */ var js_eventBus__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(7);\n/* harmony import */ var js_browserUtils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(26);\n/* harmony import */ var js_logger__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(6);\n// Copyright (c) 2020 Siemens\n/**\n * This module provides a way for declarative framework to do outgoing calls like SOA or REST.\n *\n * @module js/graphQLService\n *\n * @namespace graphQLService\n *//**\n * Makes GraphQL call with given inputData. return the promise object.\n *\n * @param {Object} inputData - The 'inputData' object.\n *\n * @return {Promise} A promise object resolved with the results of the SOA call (or rejected if there is a\n *         problem).\n */let callGraphQL=function(inputData){js_eventBus__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].publish('progress.start',{});return js_awHttpService__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].instance.post(js_browserUtils__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getBaseURL()+inputData.endPoint,inputData.request,{headers:{'Accept-Language':js_localeService__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLocale()}}).then(function(response){var endPt=null;Object(js_assert__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(response,'No response given for '+endPt);var body=response.data;try{if(body.errors){/** If no data, reject the promise. Otherwise report an error and return data */if(lodash__WEBPACK_IMPORTED_MODULE_3___default.a.isEmpty(body.data)){js_eventBus__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].publish('progress.end',{});return js_awPromiseService__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].instance.reject(body.errors[0].message);}js_logger__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"].error(body.errors[0].message);}}catch(err){// Do nothing.\n}js_eventBus__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].publish('progress.end',{});if(typeof body!=='string'||body.indexOf('<?xml version')===-1){return body;}return js_awPromiseService__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].instance.reject('Unexpected response body for: '+endPt);},function(err){js_eventBus__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].publish('progress.end',{});throw err;});};const exports={callGraphQL};/* harmony default export */ __webpack_exports__[\"default\"] = (exports);\n\n/***/ })\n\n}]);","inputSourceMap":null}