(this.webpackJsonpcreatingjsxcomponent=this.webpackJsonpcreatingjsxcomponent||[]).push([[98],{3102:function(e,t,n){"use strict";n.r(t),n.d(t,"initializePage",(function(){return h})),n.d(t,"cleanupPage",(function(){return T})),n.d(t,"updateContextProperties",(function(){return y})),n.d(t,"getSublocationTabsAndApi",(function(){return w})),n.d(t,"handleStateChange",(function(){return x}));var a=n(43),r=n(3026),i=n(12),o=n(15),s=n(11),c=n(51),u=n(214),l=n(6);let d,p,f="locationContext",g="location.titles",b=["browserTitle","browserSubTitle","headerTitle","showsearchbox"];const h=async(e,t)=>{d=a.a.instance.current.parent.replace(/_/g,"."),r.a.registerKeyDownEvent(),i.default.registerCtx(f,{"ActiveWorkspace:Location":d});let n=await u.default.queryAll()||[];return(()=>{let e={};var t=[];return b.forEach((function(n){var r=a.a.instance.current.data[n];r&&("string"===typeof r?(e[n]=r,t.push(s.a.instance.when(e))):t.push(o.default.getLocalizedText(r.source,r.key).then((function(t){return e[n]=t,e}))))})),s.a.instance.all(t).then((function(){return i.default.updateCtx(g,e),e}))})().then((r=>{var i=a.a.instance.current.data.propertyPolicy;return i?c.a.registerPolicyAsync(i).then((function(a){return{pageContext:Object.assign(r,{propertyPolicyId:a,prefs:n,locationPanelStyle:e,overriddenHeaderTitle:t})}})):Promise.resolve({pageContext:{...r,prefs:n,locationPanelStyle:e,overriddenHeaderTitle:t}})}))},T=e=>{i.default.unRegisterCtx(f),i.default.unRegisterCtx(g),r.a.unRegisterKeyDownEvent(),(e=>{e&&c.a.unregister(e)})(e)},y=(e,t)=>{let n={browserTitle:e.browserTitle,browserSubTitle:e.browserSubTitle,headerTitle:e.headerTitle};return b.forEach((function(e){t.value[e]&&(n[e]=t.value[e])})),n},w=e=>({sublocationTabs:e.filter((e=>!0===e.displayTab)),tabCallbackApi:v}),v=(e,t,n)=>{var r;(r=t?n.filter((function(e){return e.name===t}))[0]:n.filter((function(t){return t.pageId===e}))[0])?r.state!==a.a.instance.current.name&&(r.params?a.a.instance.go(r.state,r.params):a.a.instance.go(r.state)):l.a.error("Missing tab was selected: "+t)},x=e=>{const t=e.filter((e=>e.selectedTab))[0];return t&&t.state!==a.a.instance.current.name?e.map((e=>(e.state===a.a.instance.current.name?e.selectedTab=!0:e.selectedTab=!1,e))):e};p={initializePage:h,cleanupPage:T,updateContextProperties:y,getSublocationTabsAndApi:w,handleStateChange:x},t.default=p}}]);