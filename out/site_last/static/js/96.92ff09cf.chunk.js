(this.webpackJsonpcreatingjsxcomponent=this.webpackJsonpcreatingjsxcomponent||[]).push([[96],{3040:function(e,t,a){"use strict";a.r(t),a.d(t,"setAutoSaveToggle",(function(){return S})),a.d(t,"onChangeCallback",(function(){return h})),a.d(t,"initializeAutoSaveContext",(function(){return b})),a.d(t,"autoSaveContextRenderFunction",(function(){return T}));var o=a(12),n=a(65),u=a(32),i=a(101),l=a(15),d=a(7),s=a(1),c=a.n(s),r=a(605),f=a(599),g=a(45),p=a(2);const v="autoSave.dbValue";let x;const C=Object(g.i)(f.default),S=function(e){void 0===x&&o.default.updatePartialCtx(v,e)},h=function(e){return function(t){e.onChange&&e.onChange(t);const a=o.default.getCtx(v);e.update(!a),n.a.leaveConfirmation().then((()=>{e.update(a),u.default.publish("autosave",a),d.a.publish("autoSaveToggleChanged",a)}))}},b=async function(){let e=!0;o.default.registerCtx("showAutoSaveToggle",!0);const t=u.default.get("autosave");"true"!==t&&"false"!==t||(e="true"===t),d.a.subscribe("appCtx.update",(function(e){"workspace"===e.name&&(x=c.a.get(e.value,"settings.autoSave"),void 0!==x&&(S(x),o.default.updateCtx("showAutoSaveToggle",!1)))}));const a=await l.default.getLocalizedTextFromKey("BaseMessages.AUTO_SAVE_TITLE",!0);o.default.registerCtx("autoSave",i.a.createViewModelProperty({displayName:a,type:"BOOLEAN",dbValue:e}))},T=e=>{let{actions:t,viewModel:a,fields:o}=e;const{data:n}=a;return o.autoSave&&o.autoSave.fielddata&&(o.autoSave.fielddata.labelPlacement="start"),Object(p.jsx)(r.default,{children:Object(p.jsx)(C,{...o.autoSave,onChange:h(o.autoSave),extendedTooltipOptions:"{alignment : 'top'}",extendedTooltipContext:n.tooltip,extendedTooltip:"ExtendedTooltipDefault"})})};t.default={initializeAutoSaveContext:b,setAutoSaveToggle:S,onChangeCallback:h,autoSaveContextRenderFunction:T}}}]);