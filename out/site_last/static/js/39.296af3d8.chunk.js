(this.webpackJsonpcreatingjsxcomponent=this.webpackJsonpcreatingjsxcomponent||[]).push([[39],{2968:function(e,t,a){"use strict";var r=a(43),n=a(11),i=a(15),l=a(12),s=a(2996),u=(a(28),a(1)),o=a.n(u),c=a(82),d=a(33),f=a(7),g={},h="OwningSite.owning_site";let p="_0Z0_",m=["year","year_month","week","year_month_day"],N="~";let F=l.default.ctx.preferences&&l.default.ctx.preferences.AW_FacetValue_Separator&&l.default.ctx.preferences.AW_FacetValue_Separator[0]?l.default.ctx.preferences.AW_FacetValue_Separator[0]:"^";const T=e=>{if(e&&e.filterValues&&e.filterValues.length>0)for(let t=0;t<e.filterValues.length;t++)e.filterValues[t].selected.dbValue=!1,e.filterValues[t].selected.value=!1;return e};let S=e=>(e&&(delete e.numericRangeString,delete e.numericrange),e),R=e=>(e&&(delete e.dateRangeString,e.daterange.endDate.value=-6213557904e4,e.daterange.endDate.dbValue=-6213557904e4,e.daterange.startDate.value=-6213557904e4,e.daterange.startDate.dbValue=-6213557904e4),e);const C=e=>{let t=[];if(e&&e.length>0)for(let a=0;a<e.length;a++)switch(e[a].searchFilterType){case"DateFilter":e[a].startDateValue.includes(s.a.BEGINNING_OF_TIME)?t.push(s.a.INTERNAL_DATE_FILTER+"*_TO_"+e[a].endDateValue):e[a].startDateValue.includes(s.a.ENDING_OF_TIME)?t.push(s.a.INTERNAL_DATE_FILTER+e[a].startDateValue+"_TO_*"):t.push(s.a.INTERNAL_DATE_FILTER+e[a].startDateValue+"_TO_"+e[a].endDateValue);break;case"NumericFilter":e[a].stringValue&&e[a].stringValue.length>0&&"NumericRange"!==e[a].startEndRange&&"NumericRangeBlankStart"!==e[a].startEndRange&&"NumericRangeBlankEnd"!==e[a].startEndRange?t.push(s.a.INTERNAL_NUMERIC_FILTER+e[a].stringValue):e[a].startNumericValue>0&&e[a].endNumericValue>0?t.push(s.a.INTERNAL_NUMERIC_RANGE+e[a].startNumericValue+"_TO_"+e[a].endNumericValue):e[a].startNumericValue>0?t.push(s.a.INTERNAL_NUMERIC_RANGE+e[a].startNumericValue+"_TO_"):t.push(s.a.INTERNAL_NUMERIC_RANGE+"_TO_"+e[a].endNumericValue);break;case"RadioFilter":case"StringFilter":t.push(e[a].stringValue)}return t.sort()};let y=function(e){let t=!1;o.a.forEach(e,((e,a)=>{if(o.a.indexOf(e[0],"~")>-1)return t=!0,!1})),N=t?"##":"~"};const v=e=>{let t={},a=Object.keys(e);a.sort();for(let r=0;r<a.length;r++){let n=e[a[r]];n.sort(),t[a[r]]=n}return t},E=e=>{for(let t=0;t<e.length;t++){let a=e[t];a=O(a),e[t]=a}return e};let I=function(e){return y(e),e=v(e),o.a.map(e,(function(e,t){return t+"="+(e=E(e)).join(F)})).join(N)},V=function(e){var t=!1;if(e){var a=e.split(s.a.HIERARCHICAL_FACET_SEPARATOR);if(a&&a.length>2&&!isNaN(a[0]))parseInt(a[0],10)>0&&(t=!0)}return t},b=function(e,t){var a=[],r=e.split(s.a.HIERARCHICAL_FACET_SEPARATOR);if(!isNaN(r[0]))for(var n=parseInt(r[0],10),i=0;i<=n;i++){for(var l=i.toString(),u=1;u<=i+1;u++)l+=s.a.HIERARCHICAL_FACET_SEPARATOR+r[u];t?a.push(s.a.INTERNAL_OBJECT_FILTER+l):a.push(l)}return a},_=function(e,t,a,n,i){var l={};return r.a.instance.params.filter&&r.a.instance.params.filter.split(N).map((function(e){var t=e.search("="),r=e.slice(0,t),u=e.slice(t+1),o=[];if(o[0]=r,o[1]=u,2===o.length&&""!==o[1]){var c=s.a.getRealFilterWithNoFilterType(o[1]);a&&V(c)&&D(o[0])?l[o[0]]=b(c,n):i?"ShapeSearchProvider"!==o[0]&&"Geolus Criteria"!==o[0]&&"SS1shapeBeginFilter"!==o[0]&&"SS1shapeEndFilter"!==o[0]&&"SS1partShapeFilter"!==o[0]&&"UpdatedResults.updated_results"!==o[0]&&(l[o[0]]=o[1].split(F)):l[o[0]]=o[1].split(F)}})),e?e(l):t?L(l):l},D=function(e){var t=!1,a=l.default.getCtx("searchResponseInfo.searchFilterMap");if(a&&e&&a[e]){var r;(r=a[e])&&r.length>0&&"ObjectFilter"===r[0].searchFilterType&&(t=!0)}return t},L=function(e){return o.a.reduce(e,(function(e,t,a){var r=a.split(p)[0];return r!==a?o.a.forEach(t,(function(t){var n={};n.property=a,n.filter=t,e[r]||(e[r]=[]),e[r].push(n)})):e[a]?e[a]=e[a].concat(t):e[a]=t,e}),{})},A=function(e,t){o.a.forEach(t,(function(t,a){var r="StringFilter";a===h?(r="RadioFilter",e.activeFilterMap[a]=t.map((function(e){var t={searchFilterType:"RadioFilter"};return t.stringValue=e,t}))):e.activeFilterMap[a]=t.map((function(e){var t={};if(o.a.startsWith(e,s.a.INTERNAL_DATE_FILTER))t=s.a.getDateRangeFilter(e.substring(12,e.length));else if(o.a.startsWith(e,s.a.INTERNAL_NUMERIC_RANGE))t=s.a.getNumericRangeFilter(e.substring(14,e.length));else if(o.a.startsWith(e,s.a.INTERNAL_NUMERIC_FILTER)){t.searchFilterType="NumericFilter";var a=parseFloat(e.substring(15,e.length));isNaN(a)||(t.startNumericValue=a,t.endNumericValue=a),t.stringValue=e.substring(15,e.length)}else o.a.startsWith(e,s.a.INTERNAL_OBJECT_FILTER)?(t.searchFilterType="StringFilter",t.stringValue=e.substring(14,e.length)):"$TODAY"===e||"$THIS_WEEK"===e||"$THIS_MONTH"===e?(t.searchFilterType="DateFilter",t.stringValue=e):(t.searchFilterType="StringFilter",t.stringValue=e);return r=t.searchFilterType,t})),e.activeFilters.push({name:a,values:t,type:r})}))},x=function(e,t,a,r,n){var i=o.a.findIndex(n,(function(e){if(e.name===a&&e.values)return o.a.startsWith(e.values[0],s.a.INTERNAL_NUMERIC_FILTER)||o.a.startsWith(e.values[0],s.a.INTERNAL_NUMERIC_RANGE)}));return r.stringValue=i>-1?s.a.INTERNAL_NUMERIC_FILTER.concat(e[t].stringValue):e[t].stringValue,r},M=function(){return l.default.getCtx("user").props.user_name.dbValue+" ( "+l.default.getCtx("user").props.userid.dbValue+" )"};const O=e=>"$ME"===e?M():"$TODAY"===e?W().searchFilterVariableToday:"$THIS_WEEK"===e?W().searchFilterVariableThisWeek:"$THIS_MONTH"===e?W().searchFilterVariableThisMonth:"$MY_GROUP"===e?W().searchFilterVariableMyGroup:e;let w=function(e){return"$ME"===e?M():"$TODAY"===e?W().searchFilterVariableToday:"$THIS_WEEK"===e?W().searchFilterVariableThisWeek:"$THIS_MONTH"===e?W().searchFilterVariableThisMonth:"$MY_GROUP"===e?W().searchFilterVariableMyGroup:""},W=function(){return g},P=function(e,t,a){var r=w(t);if(""===r)if(o.a.startsWith(t,s.a.INTERNAL_DATE_FILTER)){var n=s.a.getDate(U(e[0].startDateValue)),i=s.a.getDate(U(e[0].endDateValue));r=s.a.getDateRangeDisplayString(n,i).displayName}else if(o.a.startsWith(t,s.a.INTERNAL_NUMERIC_RANGE)){var l=e[0].startNumericValue,u=e[0].endNumericValue,c=e[0].startEndRange;r=s.a.getNumericRangeDisplayString(l,u,c).displayName}else{var d=o.a.findIndex(e,(function(e){return e.stringValue===t}));if(d>-1)if(e[d].stringDisplayValue)r=e[d].stringDisplayValue;else if(o.a.endsWith(t,"$NONE"))r=g.noFilterValue;else if(a){var f=o.a.find(a,(function(e){return e.stringValue===t}));r=f&&f.stringDisplayValue?f.stringDisplayValue:t}else r=t}return r},U=function(e){if(e.length>19){var t=e.substring(19);if(t.length>4&&-1===t.indexOf(":")){var a=t.substring(0,t.length-2),r=t.substring(t.length-2),n=a.concat(":",r);e=e.replace(t,n)}}return e},B=function(e){r.a.instance.go(".",{filter:I(e)})},k=function(){return i.default.getLocalizedText("UIMessages","clearBreadCrumb")},G=function(e,t,a,r){return e&&void 0!==a?n.a.instance.all({label:"string"===typeof e?n.a.instance.when(e):i.default.getLocalizedText(e.source,e.key),selectionCountLabel:i.default.getLocalizedTextFromKey("XRTMessages.selectionCountLabel"),noSearchResultsWithSearchBox:i.default.getLocalizedTextFromKey("UIMessages.noSearchResultsWithSearchBox"),noSearchResults:i.default.getLocalizedTextFromKey("UIMessages.noSearchResults"),resultsCountLabelWithSearchBox:i.default.getLocalizedTextFromKey("UIMessages.resultsCountLabelWithSearchBox"),resultsCountLabel:i.default.getLocalizedTextFromKey("UIMessages.resultsCountLabel")}).then((function(e){return 0===a?t?e.noSearchResults.format("",t):e.noSearchResults.format("",e.label):(n=t?e.resultsCountLabel.format(a,"",t):e.resultsCountLabel.format(a,"",e.label),r&&r.multiSelectEnabled?e.selectionCountLabel.format(r.getCurrentSelectedCount(),n):n);var n})):i.default.getLocalizedText("BaseMessages","LOADING_TEXT")},z=function(){let e=l.default.ctx.search&&l.default.ctx.search.reqFilters;return e=e&&l.default.ctx.search.reqFilters.ShapeSearchProvider&&"true"===l.default.ctx.search.reqFilters.ShapeSearchProvider[0],e},K=function(e,t,a){var r=l.default.getCtx("search.totalFound"),s=l.default.getCtx("search.criteria.searchString"),u=l.default.getCtx("searchInfo"),o=l.default.ctx.searchSearch;return e&&void 0!==r?n.a.instance.all({label:"string"===typeof e?n.a.instance.when(e):i.default.getLocalizedText(e.source,e.key),selectionCountLabel:i.default.getLocalizedTextFromKey("XRTMessages.selectionCountLabel"),noSearchResultsWithInContentSearch:i.default.getLocalizedTextFromKey("UIMessages.noSearchResultsWithInContentSearch"),thresholdExceeded:i.default.getLocalizedTextFromKey("UIMessages.thresholdExceeded"),noSearchResultsWithoutInContentSearch:i.default.getLocalizedTextFromKey("UIMessages.noSearchResultsWithoutInContentSearch"),noSearchResults:i.default.getLocalizedTextFromKey("UIMessages.noSearchResults"),resultsCountLabel:i.default.getLocalizedTextFromKey("UIMessages.resultsCountLabel"),shapesCountLabelPart1:i.default.getLocalizedTextFromKey("UIMessages.shapesCountLabelPart1"),shapesCountLabelPart2:i.default.getLocalizedTextFromKey("UIMessages.shapesCountLabelPart2"),oneShapeCountLabelPart1:i.default.getLocalizedTextFromKey("UIMessages.oneShapeCountLabelPart1"),resultsCountLabelWithInContentSearch:i.default.getLocalizedTextFromKey("UIMessages.resultsCountLabelWithInContentSearch"),resultsCountLabelWithoutInContentSearch:i.default.getLocalizedTextFromKey("UIMessages.resultsCountLabelWithoutInContentSearch")}).then((function(e){return 0===t?s?o&&o.searchStringSecondary&&s===o.searchStringPrimary+" AND "+o.searchStringSecondary?e.noSearchResultsWithInContentSearch.format(o.searchStringPrimary,o.searchStringSecondary):u&&"true"===u.thresholdExceeded?(u.noResultsFound=e.thresholdExceeded.format(s),""):e.noSearchResultsWithoutInContentSearch.format(s):e.noSearchResults.format("",e.label):(r=s?H(o,s,e,t,r):e.resultsCountLabel.format(t,"",e.label),a&&a.multiSelectEnabled?e.selectionCountLabel.format(a.getCurrentSelectedCount(),r):r);var r})):i.default.getLocalizedText("BaseMessages","LOADING_TEXT")},j=function(e,t,a,r,n){var i=l.default.getCtx("shapeSearch");return(n={}).seedObjectLink=i.seedObjectItemId+"/"+i.seedObjectItemName,e.searchStringSecondary?r>1?(n.part1=a.shapesCountLabelPart1.format(r),n.part2=a.shapesCountLabelPart2.format(e.searchStringSecondary)):(n.part1=a.oneShapeCountLabelPart1.format(r),n.part2=a.shapesCountLabelPart2.format(e.searchStringSecondary)):n.part1=r>1?a.shapesCountLabelPart1.format(r):a.oneShapeCountLabelPart1.format(r),n},H=function(e,t,a,r,n){if(z())n=j(e,0,a,r,n);else if(e&&e.searchStringSecondary&&t===e.searchStringPrimary+" AND "+e.searchStringSecondary){n=a.resultsCountLabelWithInContentSearch.format(r,e.searchStringPrimary,e.searchStringSecondary)}else n=a.resultsCountLabelWithoutInContentSearch.format(r,t);return n},$=function(e,t){var a=o.a.dropRightWhile(e,(function(e){return e.indexBreadCrumb>t})),r={};o.a.forEach(a,(function(e){r[e.internalName]?r[e.internalName].push(e.internalValue):r[e.internalName]=[e.internalValue]}));var n=l.default.getCtx("search").reqFilters;n&&o.a.forEach(n,(function(e,t){r[t]?r[t].push(e):r[t]=[e]})),B(r)},Y=function(e,t,a,r){var l={};return n.a.instance.all({noCriteriaSpecifiedMessage:i.default.getLocalizedText(e.noCriteriaSpecifiedMessage.source,e.noCriteriaSpecifiedMessage.key),noResultsFoundMessage:i.default.getLocalizedText(e.noResultsFoundMessage.source,e.noResultsFoundMessage.key),resultsFoundMessage:i.default.getLocalizedText(e.resultsFoundMessage.source,e.resultsFoundMessage.key)}).then((function(e){l.title=r?void 0===a||0===a?e.noResultsFoundMessage.format(t):e.resultsFoundMessage.format(t):e.noCriteriaSpecifiedMessage.format()})),l},q=function(){return{crumbs:[],clear:function(){c.a.logCommands({sanAnalyticsType:"Commands",sanCommandId:"clearSearchFilter",sanCommandTitle:"Clear All Search Filters"});var e=l.default.getCtx("search").reqFilters;B(e||[])},onRemove:function(e){c.a.logCommands({sanAnalyticsType:"Commands",sanCommandId:"removeSearchFilterCrumb",sanCommandTitle:"Remove Crumb Filter",sanCmdLocation:"primarySearchPanel"})},onSelect:function(e){c.a.logCommands({sanAnalyticsType:"Commands",sanCommandId:"clickSearchFilterCrumb",sanCommandTitle:"Click Search Filter Crumb",sanCmdLocation:"primarySearchPanel"}),$(this.crumbs,e.indexBreadCrumb)}}},J=function(e){if(e.internalValue&&""!==e.internalValue&&e.internalValue===e.value){var t=l.default.getCtx("searchSearch");if(t&&t.originalInputCategories){var a=o.a.findIndex(t.originalInputCategories,(function(t){return e.internalName===t.internalName}));if(t.originalInputCategories[a]&&t.originalInputCategories[a].filterValues&&t.originalInputCategories[a].filterValues.parentnodes){var r=o.a.findIndex(t.originalInputCategories[a].filterValues.parentnodes,(function(t){return e.internalValue===t.stringValue}));e.value=t.originalInputCategories[a].filterValues.parentnodes[r].stringDisplayValue}}}},Z=function(e,t){o.a.findIndex(t,(function(t){return t===e.displayName}))<0?t.push(e.displayName):e.displayName=""},X=function(e,t,a,r,n){k().then((function(t){e.clearBreadCrumb=t})),n?K(t,a,r).then((function(t){e.title=t})):G(t,a,r).then((function(t){e.title=t}))},Q=function(e,t,a,r,n,i,l){return n&&(r.value=P(n[i],l)),r.value&&""!==r.value&&(J(r),Z(r,a),++t,r.indexBreadCrumb=t,e.crumbs.push(r)),r.internalName===h&&(r.filterType="RadioFilter"),r.internalName===h&&"local"===r.internalValue?r.showRemoveButton=!1:r.showRemoveButton=!0,e},ee=function(e){var t="",a=l.default.getCtx("searchSearch");if(a&&a.originalInputCategories&&a.originalInputCategories.length>0){var r=o.a.findIndex(a.originalInputCategories,(function(t){return t.internalName===e}));if(r>-1)return t=a.originalInputCategories[r].displayName}var n=e.split(".");if(n&&2===n.length){var i=d.a.getType(n[0]);if(i){var u=s.a.getPropertyFromFilter(n[1]),c=i.propertyDescriptorsMap[u];t=c?c.displayName:n[1]}else{var f=n[1];t=f[0].toUpperCase()+f.slice(1).toLowerCase()}}return t},te=function(){i.default.getLocalizedTextFromKey("UIMessages.noFilterValue",!0).then((e=>g.noFilterValue=e)),i.default.getLocalizedTextFromKey("SearchMessages.searchFilterVariableMyGroup",!0).then((e=>g.searchFilterVariableMyGroup=e)),i.default.getLocalizedTextFromKey("SearchMessages.searchFilterVariableThisMonth",!0).then((e=>g.searchFilterVariableThisMonth=e)),i.default.getLocalizedTextFromKey("SearchMessages.searchFilterVariableThisWeek",!0).then((e=>g.searchFilterVariableThisWeek=e)),i.default.getLocalizedTextFromKey("dateTimeServiceMessages.currentText",!0).then((e=>g.searchFilterVariableToday=e))};te();const ae={_dateFilterMarker:p,_dateFilterLevels:m,_filterSeparator:N,_filterValueSeparator:F,chooseFilterSeparator:y,buildFilterString:I,isHierarchicalChildFilter:V,parseHierarchicalChildFilters:b,getFilters:_,checkIfObjectFilterType:D,getSortedFilterMap:L,buildSearchFiltersInt:A,buildSearchFilters:function(e){let t={};return t.activeFilterMap=e&&e.search&&e.search.activeFilterMap?o.a.cloneDeep(e.search.activeFilterMap):{},t.activeFilters=[],A(t,_()),t},getFilterStringFromActiveFilterMap:function(e,t){var a=_(!1),r="";return o.a.map(a,(function(n,i){var l=i.split(p)[0],u=o.a.findIndex(t,(function(e){return e.internalName===l})),c="";if(u>-1)c=t[u].displayName;else{if(t&&!(t&&t.length<1))return"";c=ee(i)}var d="";if(o.a.forEach(a[i],(function(t){var a=P(e[i],s.a.getRealFilterWithNoFilterType(t),e[i]);d+=""===d?a:", "+a})),""!==d){var f=c+"="+d;r+=""===r?f:", "+f}})),r},convertFilterMapToSavedSearchFilterMap:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=e.activeFilterMap,a=e.activeFilters,r={};return t&&o.a.forEach(t,(function(e,t){for(var n=[],i=0;i<e.length;i++){var l={searchFilterType:"SearchStringFilter",startNumericValue:0,endNumericValue:0,startDateValue:0,endDateValue:0};if("DateFilter"!==e[i].searchFilterType||e[i].stringValue)"NumericFilter"===e[i].searchFilterType?e[i].stringValue?l.stringValue=s.a.INTERNAL_NUMERIC_FILTER.concat(e[i].stringValue):l.stringValue=s.a.getNumericRangeString(e[i].startNumericValue,e[i].endNumericValue):l=x(e,i,t,l,a);else{var u=e[i].startDateValue.match(/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/),o=e[i].endDateValue.match(/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/);if(!u||!o)continue;var c=new Date(u),d=new Date(o);l.stringValue=s.a.getDateRangeString(c,new Date(d))}n.push(l)}r[t]=n})),r},getFilterDisplayValue:function(e,t){var a="",r=[];if(o.a.startsWith(t,s.a.INTERNAL_DATE_FILTER)){if((r=t.replace(s.a.INTERNAL_DATE_FILTER,"").split("_TO_")).length>1){var n=new Date(r[0]),i=new Date(r[1]);a=s.a.getDateRangeDisplayString(n,i).displayName}}else if(o.a.startsWith(t,s.a.INTERNAL_NUMERIC_RANGE)){if((r=t.replace(s.a.INTERNAL_NUMERIC_RANGE,"").split("_TO_")).length>1)a=s.a.getNumericRangeDisplayString(r[0],r[1]).displayName}else{var l=o.a.findIndex(e,(function(e){return e.stringValue===t}));l>-1&&(a=o.a.endsWith(e[l].stringValue,"$NONE")?g.noFilterValue:e[l].stringDisplayValue)}return a},getSpecialDisplayName:w,getLocalTextBundle:W,getBreadCrumbDisplayValue:P,processDateStringOffset:U,groupByCategory:function(e){return o.a.reduce(e,(function(e,t,a){var r=a.split(p)[0];return r!==a&&o.a.forEach(t,(function(e){e.startEndRange=a.substring(r.length,a.length)})),e[r]?e[r]=e[r].concat(t):e[r]=t,e}),{})},setFilters:B,addOrRemoveObjectFilter:function(e,t,a,r){},addOrRemoveFilter:function(e,t,a,r){},getFilterExtension:function(e){return"+1YEAR"===e.startEndRange?p+m[0]:"+1MONTH"===e.startEndRange?p+m[1]:"+7DAYS"===e.startEndRange?p+m[2]:"+1DAY"===e.startEndRange?p+m[3]:e.startEndRange},doSearch:function(e,t,a){r.a.instance.go(e||".",{filter:I(a),searchCriteria:t})},doSearchKeepFilter:function(e,t,a,n){"true"===a||n?r.a.instance.go(e||".",{filter:I(_(!1,void 0,void 0,void 0,!0)),searchCriteria:t}):r.a.instance.go(e||".",{filter:I(_(!1)),searchCriteria:t})},isShapeSearchContext:z,loadBreadcrumbClearTitle:k,doShapeSearch:function(e,t,a){var n=l.default.getCtx("searchSearch");n&&(delete n.savedSearchUid,delete n.searchStringPrimary,n.searchStringSecondary&&(delete n.searchStringSecondary,f.a.publish("search.clearSearchBox")),l.default.updateCtx("searchSearch",n));var i=l.default.getCtx("shapeSearch");i||(i={},l.default.registerCtx("shapeSearch",i));var s=l.default.getCtx("selected");return s&&s.props&&s.props.awb0ArchetypeId&&s.props.awb0ArchetypeName?(i.seedObjectItemId=s.props.awb0ArchetypeId.uiValues[0],i.seedObjectItemName=s.props.awb0ArchetypeName.uiValues[0]):s&&s.props&&(i.seedObjectItemId=s.props.item_id.uiValues[0],i.seedObjectItemName=s.props.object_name.uiValues[0]),r.a.instance.go(e||".",{filter:a,searchCriteria:t}),i},loadBreadcrumbTitle:G,loadInContentBreadcrumbTitle:K,setFiltersFromCrumbs:$,displayNoBreadCrumbProvider:Y,getBreadcrumbProvider:q,setBreadcrumbValue:J,setBreadcrumbDisplayName:Z,setBreadcrumbProviderTitle:X,buildBreadcrumbProvider:function(e,t,a,r,n,i,l,u){if(e&&"true"===e.noBreadCrumb)return Y(e,t,a,u);var c=q(),d=_(!1,!0,!0,!0),f=[];return o.a.forEach(d,(function(e){!function(e){e&&Array.isArray(e)&&o.a.forEach(e,(function(e,t,a){e&&!e.hasOwnProperty("property")&&0!==e.trim().length&&(a[t]=a[t].replace("AW_PreFilter_",""))}))}(e)})),o.a.map(d,(function(e,t){var a=o.a.findIndex(n,(function(e){return e.internalName===t})),r={};o.a.forEach(d[t],(function(e){var l=t,u=s.a.getRealFilterWithNoFilterType(e),o=s.a.getFilterTypeFromFilterValue(e);if(e.hasOwnProperty("property")&&(l=e.property,u=e.filter),a>-1)r={displayName:n[a].displayName+":",displayNameHidden:n[a].displayName+":",internalName:l,internalValue:u,filterType:o};else{if(n&&!(n&&n.length<1))return c;var d=ee(t);if(!d)return c;r={displayName:d+":",displayNameHidden:d+":",internalName:t,internalValue:u,filterType:o}}c=Q(c,-1,f,r,i,l,u)}))})),X(c,t,a,r,l),c},getCategoryDisplayName:ee,loadConfiguration:te,processLoadInContentBreadcrumbTitleShape:j,processLoadInContentBreadcrumbTitle:H,processConvertFilterMapToSavedSearchFilterMap:x,processBreadCrumbsSearchFilters:Q,buildSearchFiltersFromSearchState:function(e){let t={activeFilterMap:{},activeFilters:[]};return A(t,e),t},getFilterMapWithPrefilters:()=>{var e={};return r.a.instance.params.filter&&r.a.instance.params.filter.split(N).map((function(t){var a=t.search("="),r=t.slice(0,a),n=t.slice(a+1),i=[];i[0]=r,i[1]=n,2===i.length&&""!==i[1]&&(e[i[0]]=i[1].split(F))})),e},getDisplayNameForSpecialKeyWord:O,getUserValue:M,sortFilterMapKeys:v,processFilterValues:E,removeDependentDateFilters:e=>{let t=o.a.cloneDeep(e),a=Object.keys(t),r={};if(a&&a.length>0){for(let e=0;e<a.length;e++)if(a[e].includes(p)&&a[e].substr(a[e].length-4,4)===m[0]){let t=a[e].indexOf(p),n=a[e].substr(0,t);if(r[n]){let e=r[n];e.push(1),r[n]=e}else r[n]=[1]}else if(a[e].includes(p)&&a[e].substr(a[e].length-10,10)===m[1]){let t=a[e].indexOf(p),n=a[e].substr(0,t);if(r[n]){let e=r[n];e.push(2),r[n]=e}else r[n]=[2]}else if(a[e].includes(p)&&a[e].substr(a[e].length-4,4)===m[2]){let t=a[e].indexOf(p),n=a[e].substr(0,t);if(r[n]){let e=r[n];e.push(3),r[n]=e}else r[n]=[3]}else if(a[e].includes(p)&&a[e].substr(a[e].length-14,14)===m[3]){let t=a[e].indexOf(p),n=a[e].substr(0,t);if(r[n]){let e=r[n];e.push(4),r[n]=e}else r[n]=[4]}for(let[e,a]of Object.entries(r)){let r=0;const n=e+p+m[0],i=e+p+m[1],l=e+p+m[2],s=e+p+m[3];let u=!1;if(a&&a.length>0){a.sort();for(let e=0;e<a.length;e++){if(a[e]!==e+1){u=!0;break}r++}}if(u)switch(r){case 0:t[n]&&delete t[n],t[i]&&delete t[i],t[l]&&delete t[l],t[s]&&delete t[s];break;case 1:t[i]&&delete t[i],t[l]&&delete t[l],t[s]&&delete t[s];break;case 2:t[l]&&delete t[l],t[s]&&delete t[s];break;case 3:t[s]&&delete t[s]}}}return t},getPendingFiltersMap:(e,t)=>{let a={},r={};const n=Object.keys(e).sort().reduce(((t,a)=>(t[a]=e[a],t)),{}),i=Object.keys(t).sort().reduce(((e,a)=>(e[a]=t[a],e)),{});for(const[l,s]of Object.entries(n))if(i[l]){if(i[l]){let e=C(i[l]),t=o.a.difference(s,e),n=o.a.difference(e,s);t&&t.length>0&&(a[l]=t),n&&n.length>0&&(r[l]=n)}}else a[l]=n[l];for(const[l,s]of Object.entries(i))n[l]||(r[l]=i[l]);return{positivePendingFilterMap:a,negativePendingFilterMap:r}},clearAllSelectedFiltersAndRanges:(e,t,a)=>{if(e&&e.length>0&&t&&t.length>0){let r=new Set;for(let e=0;e<t.length;e++){let a=t[e].name,n=a&&a.length>0?a.indexOf(p):-1;a=a&&n>-1?a.substring(0,n):a,a&&a.length>0&&r.add(a)}if(a&&a.length>0)for(let e=0;e<a.length;e++){let t=a[e].name,n=t.indexOf(p);t=t&&n>-1?t.substring(0,n):t,t&&t.length>0&&r.add(t)}for(let t=0;t<e.length;t++){let a=e[t].internalName;if(a&&r.has(a)){let a=e[t];switch(a=T(a),a.type){case"DateFilter":a=R(a);break;case"NumericFilter":a=S(a)}e[t]=a}}}return e},clearNumericRangeInfoFromCategory:S,clearDateRangeInfoFromCategory:R,removeDependentClassificationFilters:e=>{let t="",a=e.internalName.split("/");if(a&&a.length>0){let e=parseInt(a[0]);if(0===e)return[];if(e>0){let r=e;e-=1,t=e.toString();for(let e=1;e<r+1;e++)t+="/"+a[e];return[t]}}return[]}};t.a=ae},2996:function(e,t,a){"use strict";var r=a(12),n=a(20),i=a(46),l=a(15),s=a(54),u=a.n(s),o=a(6),c=a(1),d=a.n(c),f="",g="",h="";let p="WorkspaceObject.object_type",m="_DateFilter_",N="DateRangeFilter",F="NumericRangeFilter",T="_NumericFilter_",S="_ObjectFilter_",R="_NumericRange_",C="NumericFilter",y="NumericRange",v="NumericRangeBlankStart",E="NumericRangeBlankEnd";var I="_TO_";let V="2100-12-31",b="0001-01-01T00:00:00",_="2100-12-31T23:59:59";var D=!0,L=!1,A=!1,x={};let M=function(e){return!e||e.getFullYear()<=1},O=function(e,t,a,r,n){var i=!1,l=e.numericrange.filter.startNumericValue,s=e.numericrange.filter.endNumericValue,u=parseFloat(r),o=parseFloat(n),c=r===l||u===l||isNaN(u)&&""===l;e.numericrange.filter.startEndRange===v&&(c=isNaN(u));var d=n===s||o===s||isNaN(o)&&""===s;return e.numericrange.filter.startEndRange===E&&(d=isNaN(o)),c&&d&&(e.showSearch=!1,i=!0),i};function w(e){return n.default.isNullDate(e)||e.setHours(0,0,0),e}let W=function(){return L},P=function(e,t,a){var r=a.categoryName.indexOf("."),n=(-1!==r?a.categoryName.slice(r+1):a.categoryName)+"."+a.name,i={};if(a.color&&x[n]){i.propertyGroupID=a.color;var l=U(a.color);i.colorValue=l}else i.propertyGroupID=B(a.colorIndex),i.colorIndex=a.colorIndex,i.colorValue=U("aw-charts-chartColor"+(a.colorIndex%9+1));return"DateFilter"===e?a.colorIndex>=t&&("$NONE"!==a.internalName?(i.startValue=a.startDateValue,i.endValue=a.endDateValue):i.startValue="$NONE"):(i.startValue=a.internalName,i.endValue=""),i},U=function(e){var t=".aw-ui-filterNameColorBlock",a=u()(t),r=a&&a.length>0;if(r||(t=".aw-layout-globalToolbarPanel",r=(a=u()(t))&&a.length>0),r){var n=a[0],i=n.className;n.className="aw-ui-filterNameColorBlock "+e;var l=window.getComputedStyle(n,null).getPropertyValue("background-color");return n.className=i,l}return""},B=function(e){return e>-1?"aw-charts-chartColor"+(e%9+1):""},k=function(e,t){var a;if("*"===e)a=t?_:b;else try{var r=function(e){var t=e.getTime(),a=e.getTimezoneOffset(),r=new Date(t+60*a*1e3);return new Date(r.getTime())}(new Date(e));a=n.default.formatUTC(r)}catch(i){return o.a.error("The specified date is invalid and will be ignored for the search:",e),null}return a},G=function(e){var t={},a=e.split(" TO "),r=parseFloat(a[0]),n=parseFloat(a[1]);if(isNaN(r)&&isNaN(n))return o.a.error("The specified range is invalid and will be ignored for the search:",e),null;if("*"===a[0])t={searchFilterType:"NumericFilter",startNumericValue:0,endNumericValue:n,startEndRange:v};else if("*"===a[1])t={searchFilterType:"NumericFilter",startNumericValue:r,endNumericValue:0,startEndRange:E};else{if(isNaN(r)||isNaN(n))return o.a.error("The specified range is invalid and will be ignored for the search:",e),null;t={searchFilterType:"NumericFilter",startNumericValue:r,endNumericValue:n,startEndRange:y}}return t},z=()=>{let e=r.default.getCtx("preferences.AWC_CustomPropValueColor");if(e&&e[0])for(var t=0;t<e.length;t++){var a=e[t],n=a.indexOf(":"),i=a.slice(n+1),l=a.slice(0,n);x[l]=i}},K=function(e){return!!(e.filterValues&&e.filterValues.length>0)},j=e=>!(!e.filterValues||!(e.filterValues.parentnodes&&e.filterValues.parentnodes.length>0||e.filterValues.childnodes&&e.filterValues.childnodes.length>0));l.default.getLocalizedTextFromKey("UIMessages.invalidDate",!0).then((e=>f=e)),l.default.getLocalizedTextFromKey("UIMessages.invalidRange",!0).then((e=>g=e)),l.default.getLocalizedTextFromKey("UIMessages.invalidPrefilter",!0).then((e=>h=e)),t.a={HIERARCHICAL_FACET_SEPARATOR:"/",PRESET_CATEGORY:p,DATE_FILTER:"DateFilter",INTERNAL_DATE_FILTER:m,DATE_RANGE_FILTER:N,DATE_DRILLDOWN_FILTER:"DrilldownDateFilter",NUMERIC_RANGE_FILTER:F,INTERNAL_NUMERIC_FILTER:T,INTERNAL_OBJECT_FILTER:S,INTERNAL_NUMERIC_RANGE:R,NUMERIC_FILTER:C,NUMERIC_RANGE:y,NumericRangeBlankStart:v,NumericRangeBlankEnd:E,NO_STARTDATE:"*",NO_ENDDATE:V,NO_STARTRANGE:"",NO_ENDRANGE:"",BEGINNING_OF_TIME:b,ENDING_OF_TIME:_,getDate:function(e){var t,a=e.substring(0,10);if(d.a.startsWith(a,"0001-01-0")||d.a.startsWith(a,"2100-12-3"))t=n.default.getNullDate();else{var r=e.substring(11,e.length-6);a=-1!==r.indexOf("59")?e.replace(r,"00:00:00"):e,t=new Date(a)}return t},isNullDate:M,validateDates:function(e,t,a,r,l){e.showSearch=!0;var s=e.daterange.startDate,u=e.daterange.endDate;if(!e.daterange.dateRangeSelected||s.valueUpdated||u.valueUpdated){var o=w(t),c=w(r),d=n.default.isNullDate(o),g=n.default.isNullDate(c);if(d&&g)e.showSearch=!1;else{var h,p=n.default.compare(t,r);if(!d&&!g&&null!==t&&1===p)return i.a.showError(f),void(e.showSearch=!1);var m=w(l);if(d)h=null===e.daterange.startDate&&0===n.default.compare(c,m);else if(g)h=null===e.daterange.endDate&&0===n.default.compare(t,e.daterange.startDate.dateApi.dateObject);else{var N=0===n.default.compare(t,a),F=0===n.default.compare(r,m);h=N&&F}e.showSearch=!h}}else e.showSearch=!1},getDateRangeString:function(e,t){var a=M(e),r=M(t),i=a?"*":n.default.formatUTC(e);r&&(t=new Date(V));var l=n.default.formatUTC(function(e){if(!n.default.isNullDate(e))return e.setHours(23,59,59),e;return e}(t));return m+i+I+l},getDateRangeFilter:function(e){var t={},a=e.split(I);return t.searchFilterType="DateFilter",a[0]="*"===a[0]?n.default.NULLDATE:n.default.formatUTC(a[0]),t.startDateValue=a[0],t.endDateValue=a[1],t},getDateRangeDisplayString:function(e,t){var a,r={},i=n.default.isNullDate(e),l=n.default.isNullDate(t);return a=i?"To "+n.default.formatDate(new Date(t)).substring(0,11):l?"From "+n.default.formatDate(new Date(e)).substring(0,11):n.default.formatDate(new Date(e)).substring(0,11)+" - "+n.default.formatDate(new Date(t)).substring(0,11),r.displayName=a,r.categoryType=N,r},checkIfValidRange:function(e,t,a){if(e.showSearch=!0,null!==t&&null!==a&&t>a){var r=t+"-"+a,n=g.replace("{0}",r);return i.a.showError(n),e.showSearch=!1,!1}return!0},validateNumericRangeSelected:O,validateNumericRange:function(e,t,a){e.showSearch=!0;var r=e.numericrange.startValue.dbValue,n=e.numericrange.endValue.dbValue;if(!e.numericrange.numericRangeSelected||!O(e,0,0,r,n)){var i=void 0===r||null===r||""===r,l=void 0===n||null===n||""===n;if(i&&l)e.showSearch=!1;else{var s=!1;s=i?null===a||isNaN(a):l?null===t||isNaN(t):!isFinite(t)||isNaN(t)||!isFinite(a)||isNaN(a),e.showSearch=!s}}},getNumericRangeString:function(e,t){var a=e&&e.toString();(void 0===a||null===a||0===a.length||isNaN(a))&&(a="");var r=t&&t.toString();return(void 0===r||null===r||0===r.length||isNaN(r))&&(r=""),R+a+I+r},getNumericRangeFilter:function(e){var t={},a=e.split(I);return t.searchFilterType=C,t.startNumericValue=parseFloat(a[0]),t.endNumericValue=parseFloat(a[1]),isNaN(t.startNumericValue)?t.startEndRange=v:isNaN(t.endNumericValue)?t.startEndRange=E:t.startEndRange=y,t},getNumericRangeDisplayString:function(e,t,a){var r,n={},i=a===E||0!==t&&!t;return r=a===v||0!==e&&!e?"To "+t.toString():i?"From "+e.toString():e.toString()+" - "+t.toString(),n.displayName=r,n.categoryType=F,n},getRealFilterWithNoFilterType:function(e){var t=e;return e.hasOwnProperty("property")||(t=e.replace(T,"").replace(S,"")),t},getFilterTypeFromFilterValue:function(e){return d.a.startsWith(e,S)?"ObjectFilter":d.a.startsWith(e,T)?"NumericFilter":"DateFilter"},isPresetFilters:function(){return D},setPresetFilters:function(e){D=e},getHasTypeFilter:W,setHasTypeFilter:function(e){L=e},setIncontext:function(e){A=e},getIncontext:function(){return A},saveIncontextFilterMap:function(e){let t={};if(W()){let a=e.searchFilterMap[p];t[p]=a}return t},getCategoryInternalName:function(e){return e.internalName},getCurrentCategory:function(e){return e.groupedObjectsList[0].internalPropertyName},getPropGroupValues:function(e){z();for(var t=[],a=0;a<e.filterValues.length;a++){var r=e.filterValues[a];r&&(a<9||r.color)&&t.push(P(e.type,e.drilldown,r))}return t},getPropGroupValue:P,getFilterColorRGBValue:U,getFilterColorValue:B,getPropertyFromFilter:function(e){var t=e,a="_0Z0_year",r="_0Z0_year_month",n="_0Z0_week",i="_0Z0_year_month_day";return!0===d.a.endsWith(e,i)&&(t=e.replace(i,"")),!0===d.a.endsWith(e,n)&&(t=e.replace(n,"")),!0===d.a.endsWith(e,r)&&(t=e.replace(r,"")),!0===d.a.endsWith(e,a)&&(t=e.replace(a,"")),t},getFormattedFilterDate:k,getFormattedFilterNumber:G,getRangeSearchFilter:function(e,t){var a,r=t.split(" TO ");if("NumericFilter"===e)a=G(t);else if("DateFilter"===e){var n=k(r[0].trim(),!1),i=k(r[1].trim(),!0);n&&i&&(a={searchFilterType:e,startDateValue:n,endDateValue:i})}else a={searchFilterType:e,stringValue:t};return a},getSingleSearchFilter:function(e,t){var a;if("NumericFilter"===e)try{var r=parseFloat(t);isNaN(r)?o.a.error("The specified number is invalid and will be ignored for the search:",t):a={searchFilterType:e,startNumericValue:r,endNumericValue:r,stringValue:t}}catch(n){o.a.error("The specified number is invalid and will be ignored for the search:",t)}else a={searchFilterType:"StringFilter",stringValue:t};return a},getFilterType:function(e){var t;switch(e){case 2:t="DateFilter";break;case 3:case 4:case 5:case 7:t="NumericFilter";break;default:t="StringFilter"}return t},displayPrefilterError:function(e){var t=h.replace("{0}",e);i.a.showError(t)},getPreferenceValue:z,getCustomPropValueColorMap:function(e){return x[e]},setCustomPropValueColorMap:function(e,t){x[e]=t},applyCustomColor:function(e,t,a){var r=e.indexOf("."),n=(-1!==r?e.slice(r+1):e)+"."+t.stringValue;x[n]&&(t.colorValue?a.color=t.colorValue:a.color=x[n])},checkIfFilterValuesExist:K,isLimitedCategoriesFeatureEnabled:function(){var e=r.default.getCtx("preferences.AWC_Limited_Filter_Categories_Enabled");return!(!e||"true"!==e[0].toLowerCase())},ifFilterSelectedForCategory:function(e){if(K(e))for(var t=0;t<e.filterValues.length;t++)if(e.filterValues[t].selected)return!0;return!1},isClsCategory:j,ifFilterSelectedForCls:e=>{if(j(e))for(var t=0;t<e.filterValues.parentnodes.length;t++)if(e.filterValues.parentnodes[t].selected)return!0;return!1},getFilterFocus:(e,t,a,r)=>{switch(e?e.lastAction:""){case"selectFilter":return!(!e||e.lastSelectedFilter.categoryName!==t.categoryName||e.lastSelectedFilter.internalName!==t.internalName);case"dateRangeSearch":return!(0!==r||!e||e.lastDateRangeSearchCategory!==a);case"numericRangeSearch":return!(1!==r||!e||e.lastNumericRangeSearchCategory!==a);default:return!1}}}}}]);