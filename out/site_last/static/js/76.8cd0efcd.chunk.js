/*! For license information please see 76.8cd0efcd.chunk.js.LICENSE.txt */
(this.webpackJsonpcreatingjsxcomponent=this.webpackJsonpcreatingjsxcomponent||[]).push([[76],{3115:function(e,t,n){var i;!function(l,o,a,r){"use strict";var s,d=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),u=Math.round,p=Math.abs,m=Date.now;function f(e,t,n){return setTimeout(S(e,n),t)}function h(e,t,n){return!!Array.isArray(e)&&(g(e,n[t],n),!0)}function g(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==r)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function E(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=l.console&&(l.console.warn||l.console.log);return o&&o.call(l.console,i,n),e.apply(this,arguments)}}s="function"!==typeof Object.assign?function(e){if(e===r||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==r&&null!==i)for(var l in i)i.hasOwnProperty(l)&&(t[l]=i[l])}return t}:Object.assign;var C=E((function(e,t,n){for(var i=Object.keys(t),l=0;l<i.length;)(!n||n&&e[i[l]]===r)&&(e[i[l]]=t[i[l]]),l++;return e}),"extend","Use `assign`."),v=E((function(e,t){return C(e,t,!0)}),"merge","Use `assign`.");function b(e,t,n){var i,l=t.prototype;(i=e.prototype=Object.create(l)).constructor=e,i._super=l,n&&s(i,n)}function S(e,t){return function(){return e.apply(t,arguments)}}function L(e,t){return"function"==typeof e?e.apply(t&&t[0]||r,t):e}function T(e,t){return e===r?t:e}function A(e,t,n){g(I(t),(function(t){e.addEventListener(t,n,!1)}))}function _(e,t,n){g(I(t),(function(t){e.removeEventListener(t,n,!1)}))}function w(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function y(e,t){return e.indexOf(t)>-1}function I(e){return e.trim().split(/\s+/g)}function R(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function x(e){return Array.prototype.slice.call(e,0)}function D(e,t,n){for(var i=[],l=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];R(l,a)<0&&i.push(e[o]),l[o]=a,o++}return n&&(i=t?i.sort((function(e,n){return e[t]>n[t]})):i.sort()),i}function N(e,t){for(var n,i,l=t[0].toUpperCase()+t.slice(1),o=0;o<d.length;){if((i=(n=d[o])?n+l:t)in e)return i;o++}return r}var P=1;function M(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||l}var O="ontouchstart"in l,H=N(l,"PointerEvent")!==r,F=O&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),B="touch",V="mouse",W=24,k=["x","y"],U=["clientX","clientY"];function j(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){L(e.options.enable,[e])&&n.handler(t)},this.init()}function G(e,t,n){var i=n.pointers.length,l=n.changedPointers.length,o=1&t&&i-l===0,a=12&t&&i-l===0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,l=i.length;n.firstInput||(n.firstInput=z(t));l>1&&!n.firstMultiple?n.firstMultiple=z(t):1===l&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,d=t.center=q(i);t.timeStamp=m(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=Z(s,d),t.distance=K(s,d),function(e,t){var n=t.center,i=e.offsetDelta||{},l=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(l=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y});t.deltaX=l.x+(n.x-i.x),t.deltaY=l.y+(n.y-i.y)}(n,t),t.offsetDirection=X(t.deltaX,t.deltaY);var c=Y(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=p(c.x)>p(c.y)?c.x:c.y,t.scale=a?(u=a.pointers,f=i,K(f[0],f[1],U)/K(u[0],u[1],U)):1,t.rotation=a?function(e,t){return Z(t[1],t[0],U)+Z(e[1],e[0],U)}(a.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,l,o,a=e.lastInterval||t,s=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(s>25||a.velocity===r)){var d=t.deltaX-a.deltaX,c=t.deltaY-a.deltaY,u=Y(s,d,c);i=u.x,l=u.y,n=p(u.x)>p(u.y)?u.x:u.y,o=X(d,c),e.lastInterval=t}else n=a.velocity,i=a.velocityX,l=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=i,t.velocityY=l,t.direction=o}(n,t);var u,f;var h=e.element;w(t.srcEvent.target,h)&&(h=t.srcEvent.target);t.target=h}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function z(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:u(e.pointers[n].clientX),clientY:u(e.pointers[n].clientY)},n++;return{timeStamp:m(),pointers:t,center:q(t),deltaX:e.deltaX,deltaY:e.deltaY}}function q(e){var t=e.length;if(1===t)return{x:u(e[0].clientX),y:u(e[0].clientY)};for(var n=0,i=0,l=0;l<t;)n+=e[l].clientX,i+=e[l].clientY,l++;return{x:u(n/t),y:u(i/t)}}function Y(e,t,n){return{x:t/e||0,y:n/e||0}}function X(e,t){return e===t?1:p(e)>=p(t)?e<0?2:4:t<0?8:16}function K(e,t,n){n||(n=k);var i=t[n[0]]-e[n[0]],l=t[n[1]]-e[n[1]];return Math.sqrt(i*i+l*l)}function Z(e,t,n){n||(n=k);var i=t[n[0]]-e[n[0]],l=t[n[1]]-e[n[1]];return 180*Math.atan2(l,i)/Math.PI}j.prototype={handler:function(){},init:function(){this.evEl&&A(this.element,this.evEl,this.domHandler),this.evTarget&&A(this.target,this.evTarget,this.domHandler),this.evWin&&A(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&_(this.element,this.evEl,this.domHandler),this.evTarget&&_(this.target,this.evTarget,this.domHandler),this.evWin&&_(M(this.element),this.evWin,this.domHandler)}};var J={mousedown:1,mousemove:2,mouseup:4},$="mousedown",Q="mousemove mouseup";function ee(){this.evEl=$,this.evWin=Q,this.pressed=!1,j.apply(this,arguments)}b(ee,j,{handler:function(e){var t=J[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:V,srcEvent:e}))}});var te={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ne={2:B,3:"pen",4:V,5:"kinect"},ie="pointerdown",le="pointermove pointerup pointercancel";function oe(){this.evEl=ie,this.evWin=le,j.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}l.MSPointerEvent&&!l.PointerEvent&&(ie="MSPointerDown",le="MSPointerMove MSPointerUp MSPointerCancel"),b(oe,j,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),l=te[i],o=ne[e.pointerType]||e.pointerType,a=o==B,r=R(t,e.pointerId,"pointerId");1&l&&(0===e.button||a)?r<0&&(t.push(e),r=t.length-1):12&l&&(n=!0),r<0||(t[r]=e,this.callback(this.manager,l,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(r,1))}});var ae={touchstart:1,touchmove:2,touchend:4,touchcancel:8},re="touchstart",se="touchstart touchmove touchend touchcancel";function de(){this.evTarget=re,this.evWin=se,this.started=!1,j.apply(this,arguments)}function ce(e,t){var n=x(e.touches),i=x(e.changedTouches);return 12&t&&(n=D(n.concat(i),"identifier",!0)),[n,i]}b(de,j,{handler:function(e){var t=ae[e.type];if(1===t&&(this.started=!0),this.started){var n=ce.call(this,e,t);12&t&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:B,srcEvent:e})}}});var ue={touchstart:1,touchmove:2,touchend:4,touchcancel:8},pe="touchstart touchmove touchend touchcancel";function me(){this.evTarget=pe,this.targetIds={},j.apply(this,arguments)}function fe(e,t){var n=x(e.touches),i=this.targetIds;if(3&t&&1===n.length)return i[n[0].identifier]=!0,[n,n];var l,o,a=x(e.changedTouches),r=[],s=this.target;if(o=n.filter((function(e){return w(e.target,s)})),1===t)for(l=0;l<o.length;)i[o[l].identifier]=!0,l++;for(l=0;l<a.length;)i[a[l].identifier]&&r.push(a[l]),12&t&&delete i[a[l].identifier],l++;return r.length?[D(o.concat(r),"identifier",!0),r]:void 0}b(me,j,{handler:function(e){var t=ue[e.type],n=fe.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:B,srcEvent:e})}});function he(){j.apply(this,arguments);var e=S(this.handler,this);this.touch=new me(this.manager,e),this.mouse=new ee(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ge(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,Ee.call(this,t)):12&e&&Ee.call(this,t)}function Ee(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)}),2500)}}function Ce(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var l=this.lastTouches[i],o=Math.abs(t-l.x),a=Math.abs(n-l.y);if(o<=25&&a<=25)return!0}return!1}b(he,j,{handler:function(e,t,n){var i=n.pointerType==B,l=n.pointerType==V;if(!(l&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)ge.call(this,t,n);else if(l&&Ce.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ve=N(c.style,"touchAction"),be=ve!==r,Se="compute",Le="auto",Te="manipulation",Ae="none",_e="pan-x",we="pan-y",ye=function(){if(!be)return!1;var e={},t=l.CSS&&l.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||l.CSS.supports("touch-action",n)})),e}();function Ie(e,t){this.manager=e,this.set(t)}Ie.prototype={set:function(e){e==Se&&(e=this.compute()),be&&this.manager.element.style&&ye[e]&&(this.manager.element.style[ve]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return g(this.manager.recognizers,(function(t){L(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(y(e,Ae))return Ae;var t=y(e,_e),n=y(e,we);if(t&&n)return Ae;if(t||n)return t?_e:we;if(y(e,Te))return Te;return Le}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,l=y(i,Ae)&&!ye.none,o=y(i,we)&&!ye["pan-y"],a=y(i,_e)&&!ye["pan-x"];if(l){var r=1===e.pointers.length,s=e.distance<2,d=e.deltaTime<250;if(r&&s&&d)return}if(!a||!o)return l||o&&6&n||a&&n&W?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Re=32;function xe(e){this.options=s({},this.defaults,e||{}),this.id=P++,this.manager=null,this.options.enable=T(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function De(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Ne(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function Pe(e,t){var n=t.manager;return n?n.get(e):e}function Me(){xe.apply(this,arguments)}function Oe(){Me.apply(this,arguments),this.pX=null,this.pY=null}function He(){Me.apply(this,arguments)}function Fe(){xe.apply(this,arguments),this._timer=null,this._input=null}function Be(){Me.apply(this,arguments)}function Ve(){Me.apply(this,arguments)}function We(){xe.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ke(e,t){return(t=t||{}).recognizers=T(t.recognizers,ke.defaults.preset),new Ue(e,t)}xe.prototype={defaults:{},set:function(e){return s(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(h(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Pe(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return h(e,"dropRecognizeWith",this)||(e=Pe(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(h(e,"requireFailure",this))return this;var t=this.requireFail;return-1===R(t,e=Pe(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(h(e,"dropRequireFailure",this))return this;e=Pe(e,this);var t=R(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<8&&i(t.options.event+De(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=8&&i(t.options.event+De(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=Re},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=s({},e);if(!L(this.options.enable,[this,t]))return this.reset(),void(this.state=Re);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},b(Me,xe,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=6&t,l=this.attrTest(e);return i&&(8&n||!l)?16|t:i||l?4&n?8|t:2&t?4|t:2:Re}}),b(Oe,Me,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(we),e&W&&t.push(_e),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,l=e.direction,o=e.deltaX,a=e.deltaY;return l&t.direction||(6&t.direction?(l=0===o?1:o<0?2:4,n=o!=this.pX,i=Math.abs(e.deltaX)):(l=0===a?1:a<0?8:16,n=a!=this.pY,i=Math.abs(e.deltaY))),e.direction=l,n&&i>t.threshold&&l&t.direction},attrTest:function(e){return Me.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Ne(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),b(He,Me,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ae]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),b(Fe,xe,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Le]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,l=e.deltaTime>t.time;if(this._input=e,!i||!n||12&e.eventType&&!l)this.reset();else if(1&e.eventType)this.reset(),this._timer=f((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return Re},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=m(),this.manager.emit(this.options.event,this._input)))}}),b(Be,Me,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ae]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),b(Ve,Me,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Oe.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:n&W&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&p(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=Ne(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),b(We,xe,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Te]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,l=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(i&&l&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||K(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=f((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return Re},failTimeout:function(){return this._timer=f((function(){this.state=Re}),this.options.interval,this),Re},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ke.VERSION="2.0.7",ke.defaults={domEvents:!1,touchAction:Se,enable:!0,inputTarget:null,inputClass:null,preset:[[Be,{enable:!1}],[He,{enable:!1},["rotate"]],[Ve,{direction:6}],[Oe,{direction:6},["swipe"]],[We],[We,{event:"doubletap",taps:2},["tap"]],[Fe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Ue(e,t){var n;this.options=s({},ke.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(H?oe:F?me:O?he:ee))(n,G),this.touchAction=new Ie(this,this.options.touchAction),je(this,!0),g(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function je(e,t){var n,i=e.element;i.style&&(g(e.options.cssProps,(function(l,o){n=N(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=l):i.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}Ue.prototype={set:function(e){return s(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,l=t.curRecognizer;(!l||l&&8&l.state)&&(l=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||l&&n!=l&&!n.canRecognizeWith(l)?n.reset():n.recognize(e),!l&&14&n.state&&(l=t.curRecognizer=n),o++}},get:function(e){if(e instanceof xe)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(h(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(h(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=R(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==r&&t!==r){var n=this.handlers;return g(I(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==r){var n=this.handlers;return g(I(e),(function(e){t?n[e]&&n[e].splice(R(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&je(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},s(ke,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Re,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:W,DIRECTION_ALL:30,Manager:Ue,Input:j,TouchAction:Ie,TouchInput:me,MouseInput:ee,PointerEventInput:oe,TouchMouseInput:he,SingleTouchInput:de,Recognizer:xe,AttrRecognizer:Me,Tap:We,Pan:Oe,Swipe:Ve,Pinch:He,Rotate:Be,Press:Fe,on:A,off:_,each:g,merge:v,extend:C,assign:s,inherit:b,bindFn:S,prefixed:N}),("undefined"!==typeof l?l:"undefined"!==typeof self?self:{}).Hammer=ke,(i=function(){return ke}.call(t,n,t,e))===r||(e.exports=i)}(window,document)},3218:function(e,t,n){"use strict";n.r(t),n.d(t,"initializeTable",(function(){return Ce}));var i=n(7),l=n(1),o=n.n(l),a=n(6),r=n(122),s=n(2902),d=n(2908),c={},u=function(e){var t=e.currentTarget,n=function(e){return e.originalEvent&&(e=e.originalEvent),e.preventDefault(),!1},i=function(e){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),e.cancelBubble=!0,t.dispatchEvent(d.a.createCustomEvent(s.a.EVENT_ON_ELEM_DRAG,e))},l=function(o){o.originalEvent&&(o=e.originalEvent),o.preventDefault(),document.removeEventListener("mouseup",l),document.removeEventListener("mousemove",i),document.removeEventListener("mousedown",n),document.removeEventListener("mouseover",n),o.cancelBubble=!0,t.dispatchEvent(d.a.createCustomEvent(s.a.EVENT_ON_ELEM_DRAG_END,o))};!function(e){var o=!1,a=function(){t.removeEventListener("mouseup",a),o=!1};o=!0,t.addEventListener("mouseup",a),setTimeout((function(){var r;!0===o&&(a(),(r=e).originalEvent&&(r=r.originalEvent),r.preventDefault(),r.cancelBubble=!0,document.addEventListener("mouseup",l),document.addEventListener("mousemove",i),document.addEventListener("mousedown",n),document.addEventListener("mouseover",n),t.dispatchEvent(d.a.createCustomEvent(s.a.EVENT_ON_ELEM_DRAG_START,r)))}),160)}(e)};i.a.subscribe("dragDropEvent.highlight",(function(e){c.handleDragDropHighlightPLTable(e)}));var p=function(e,t,n){t?n?e.classList.add(n):(e.classList.add(s.a.CLASS_THEME_DROP_FRAME),e.classList.add(s.a.CLASS_WIDGETS_DROP_FRAME)):n?e.classList.remove(n):(e.classList.remove(s.a.CLASS_THEME_DROP_FRAME),e.classList.remove(s.a.CLASS_WIDGETS_DROP_FRAME))},m=function(e,t,n,i){o.a.forEach(e,(function(e){e.children&&(p(e,i,n?s.a.CLASS_DONOT_HIGHLIGHT_INDIVIDUAL_ROWS:t?s.a.CLASS_PINNED_CONTAINER_DROP_FRAME:s.a.CLASS_SCROLL_CONTAINER_DROP_FRAME),o.a.forEach(e.children,(function(e){n?p(e,i,s.a.CLASS_DONOT_HIGHLIGHT_INDIVIDUAL_ROWS):p(e,i)})))}))},f=function(e,t,n){var i=null,l=null;if(n)p(e,t),i=e.querySelector(".aw-splm-tablePinnedContainer"),l=e.querySelector(".aw-splm-tableScrollContainer");else{var a=d.a.closestElement(e,".aw-splm-table");i=a.querySelector(".aw-splm-tablePinnedContainer"),l=a.querySelector(".aw-splm-tableScrollContainer");var r=parseInt(e.getAttribute("data-indexnumber"))}if(i&&l){var s,c,u=[],f=[];o.a.isUndefined(r)?(u=i.querySelectorAll("div.ui-grid-row"),f=l.querySelectorAll("div.ui-grid-row")):((u=i.querySelectorAll("div.ui-grid-row[data-indexnumber='"+r+"']"))&&u.length>0&&(s=u[0]),(f=l.querySelectorAll("div.ui-grid-row[data-indexnumber='"+r+"']"))&&f.length>0&&(c=f[0])),!n&&!o.a.isUndefined(r)&&s&&c&&(p(s,t),p(c,t)),m(u,!0,n,t),m(f,!1,n,t)}};var h=c={enableDragging:function(e){e.addEventListener("mousedown",u)},disableDragging:function(e){e.removeEventListener("mousedown",u)},handleDragDropHighlightPLTable:function(e){if(!o.a.isUndefined(e)&&!o.a.isUndefined(e.targetElement)&&e.targetElement.classList){var t=e.isHighlightFlag,n=e.targetElement;t?n.classList.contains(s.a.CLASS_ROW)?f(n,!0,!1):n.classList.contains(s.a.CLASS_TABLE)&&f(n,!0,!0):n.classList.contains(s.a.CLASS_ROW)?f(n,!1,!1):n.classList.contains(s.a.CLASS_TABLE)&&f(n,!1,!0)}}},g=function(e){var t=!1,n=!1,i=this,l=function(e,t){var n=e.getElementsByClassName(s.a.CLASS_COLUMN_DEF)[0],i=t.getElementsByClassName(s.a.CLASS_COLUMN_DEF)[0];if(n&&n.columnDef&&i&&i.columnDef){var l=n.columnDef.index;return n.columnDef.index=i.columnDef.index,i.columnDef.index=l,!0}return!1},a=function(i){var o,a,r,c=0,u=0;i.classList.add(s.a.CLASS_HEADER_DRAGGABLE);var p=i.getElementsByClassName(s.a.CLASS_COLUMN_DEF)[0],m=i.getElementsByClassName(s.a.CLASS_CELL_CONTENTS)[0];h.enableDragging(m),m.addEventListener(s.a.EVENT_ON_ELEM_DRAG_START,(function(t){d.a.getTableMenuService(e).ensureAllTableMenusDismissed();var n=t?t.detail:window.event;(o=i.cloneNode(!0)).classList.add(s.a.CLASS_UTILITY_HIDDEN),o.setAttribute("id",o.id+"ClonedHeader");var l=d.a.closestElement(i,"."+s.a.CLASS_PIN_CONTAINER+",."+s.a.CLASS_SCROLL_CONTAINER),c=l.getElementsByClassName(s.a.CLASS_VIEWPORT)[0].scrollLeft;l.appendChild(o),o.style.left=i.offsetLeft-c+"px",o.style.top=i.offsetTop+"px",u=n.clientX,p&&p.columnDef&&(a=p.columnDef,r=a.index)})),m.addEventListener(s.a.EVENT_ON_ELEM_DRAG,(function(e){var a=e?e.detail:window.event;t||(i.classList.add("stationaryHeader"),o.classList.add("dragHeader"),o.classList.remove(s.a.CLASS_UTILITY_HIDDEN),t=!0),c=u-a.clientX,u=a.clientX,o.style.left=o.offsetLeft-c+"px",n=function(e,t){var n=e.getBoundingClientRect(),i=e.nextSibling,o=e.previousSibling;return i&&t>n.right+i.getBoundingClientRect().width/3&&i.classList.contains(s.a.CLASS_HEADER_DRAGGABLE)&&l(i,e)?(e.parentNode.insertBefore(i,e),!0):!!(o&&t<n.left-o.getBoundingClientRect().width/2&&o.classList.contains(s.a.CLASS_HEADER_DRAGGABLE)&&l(o,e))&&(e.parentNode.insertBefore(e,o),!0)}(i,a.clientX)||n})),m.addEventListener(s.a.EVENT_ON_ELEM_DRAG_END,(function(){if(i.classList.remove("stationaryHeader"),o.parentNode.removeChild(o),t=!1,n){n=!1;var l={name:a.name,originalPosition:r};e._tableInstance.tableInstanceCallbacks.columnsRearranged(l),function(t,n){if(t!==n.index)for(var i=t<n.index?-1:1,l=d.a.getColumnContentCellElementsByIndex(e,n.index+i),o=d.a.getColumnContentCellElementsByIndex(e,n.index),a=0;a<o.length;a++){var r=o[a],s=l[a];t<n.index&&(s=s.nextSibling),r.parentNode.insertBefore(r,s)}}(r,a)}}))};return i.initialize=function(){var t=e.getElementsByClassName(s.a.CLASS_HEADER_CELL);o.a.forEach(t,(function(e){var t,n=e.getElementsByClassName(s.a.CLASS_COLUMN_DEF);n.length>0&&(t=n[0].columnDef),t&&!1!==t.enableColumnMoving&&a(e)}))},i.initialize(),i},E=n(26),C=function(){var e,t,n,i,l,o,a,r,s=null,d=null,c=0,u=0,p=function(e){return e.touches[0].pageY},m=function(e){return e.touches[0].pageX},f=function(){d.scrollTop-u>=0&&(d.scrollTop-=u),d.scrollLeft-c>=0&&(d.scrollLeft-=c)},h=function(){var e=Date.now(),t=e-l;l=e;var o=1e3*u/(1+t),a=1e3*c/(1+t);u=0,c=0,i=Math.round(.4*o+.2*i),n=Math.round(.4*a+.2*n)},g=function(){if(r||a){var e=Date.now()-l;u=-r*Math.exp(-e/325),c=-a*Math.exp(-e/325),u>.5||u<-.5||c>.5||c<-.5?(f(),requestAnimationFrame(g)):f()}},E=function(s){e=p(s),t=m(s),i=0,n=0,r=0,a=0,l=Date.now(),clearInterval(o),o=setInterval(h,50)},C=function(n){if(d.scrollTop-(e-p(n))<=0||d.scrollLeft-(t-m(n))<=0)n.preventDefault(),n.stopPropagation();else{var i=p(n);u=e-i,e=i;var l=m(n);c=t-l,t=l}},v=function(){clearInterval(o),(i>10||i<-10||n>10||n<-10)&&(r=.6*i,a=.6*n,l=Date.now(),requestAnimationFrame(g))};this.enable=function(e,t){null!==e&&((s=e).addEventListener("touchstart",E,{passive:!0}),s.addEventListener("touchmove",C,{passive:!0}),s.addEventListener("touchend",v,{passive:!0})),null!==t&&((d=t).addEventListener("touchstart",E,{passive:!0}),d.addEventListener("touchmove",C,{passive:!0}),d.addEventListener("touchend",v,{passive:!0}))},this.disable=function(){null!==s&&(s.removeEventListener("touchstart",E),s.removeEventListener("touchmove",C),s.removeEventListener("touchend",v),s=null),null!==d&&(d.removeEventListener("touchstart",E),d.removeEventListener("touchmove",C),d.removeEventListener("touchend",v),d=null)}};var v=function(e){let t=this,n={},i=0,l=0,r=[],d=[],c=!1,u=!1,p=e,m=p-n.headerHeight,f=0,h=14,g=0,v=0,b=!1,S=null,L=!1,T=!1,A=0,_=0,w=E.default.isIE||E.default.isFirefox?200:0,y=E.default.isIE?500:0,I=E.default.isIE||E.default.isFirefox?1/0:0,R=new C,x=new Date,D=0,N=0,P=o.a.debounce((function(){n.scrollViewportElem&&n.scrollViewportElem.offsetWidth&&(_=n.scrollViewportElem.offsetWidth),n.updateScrollColumnsInView(v,_),n.updateVisibleCells(n.scrollParentElem)}),y),M=o.a.debounce((function(){!function(){let e;e=i>l?t.handleScrollDown:Y;l=i,i>0?n.tableElem.classList.contains(s.a.CLASS_TABLE_SCROLLED)||n.tableElem.classList.add(s.a.CLASS_TABLE_SCROLLED):n.tableElem.classList.contains(s.a.CLASS_TABLE_SCROLLED)&&n.tableElem.classList.remove(s.a.CLASS_TABLE_SCROLLED);e.call()}()}),w,{maxWait:I});t.initializeGrid=function(e){n=e,n.pinParentElem=n.pinViewportElem.children[0],n.scrollParentElem=n.scrollViewportElem.children[0],n.totalFound=n.loadedVMObjects.length,n.dynamicRowHeightStatus=n.dynamicRowHeightStatus||!1,n.scrollViewportElem.removeEventListener("scroll",z),n.scrollViewportElem.removeEventListener("scroll",U),n.pinViewportElem.removeEventListener("scroll",q),n.scrollViewportElem.addEventListener("scroll",z),n.scrollViewportElem.addEventListener("scroll",U),n.pinViewportElem.addEventListener("scroll",q),R.enable(n.pinViewportElem,n.scrollViewportElem),c=!0};let O,H=function(){return p-n.headerHeight};function F(e){g=e,function(e){h=Math.max(10,Math.min(30,e))}(e)}function B(e){return d[e]?e===d.length-1?d[e]:d[e]-1:n.rowHeight}function V(e){let t=0;for(let n=0;n<e;n++)t+=B(n);return t}function W(e){let t=0,n=0;for(;t<e;)t+=B(n),n++;return n}function k(){return W(i+m)-1}function U(){O&&clearTimeout(O),O=setTimeout((function(){!function(){const e=n.scrollParentElem;if(r=e.querySelectorAll(n.rowSelector),0===r.length)a.a.error("Rendering error");else{let e,t,l;const o=r[0],a=parseInt(o.getAttribute("data-indexNumber"));l=n.treeTableEditSettings?(a-n.treeTableEditSettings.firstIndex)*n.rowHeight-i:V(a)-i,l<0&&(t=Math.abs(W(i)-a),e=t-h,e>0&&X(e,0));const s=r[r.length-1],d=parseInt(s.getAttribute("data-indexNumber")),c=g*n.rowHeight+i,u=k();l=n.treeTableEditSettings?(d-n.treeTableEditSettings.firstIndex)*n.rowHeight+n.rowHeight-c:d-u,l>0&&(t=d-u,e=t-h,e>0&&X(r.length-1,r.length-e-1))}t.updateRowAlignment()}()}),300)}function j(e){n.pinViewportElem.style.top=String(-1*e)+"px",N=e}function G(){n.pinViewportElem.style.top="0px",N=0}function z(e){x=new Date;let t=i;i=n.scrollViewportElem.scrollTop;let l=v;v=n.scrollViewportElem.scrollLeft,t===i&&i<0&&l===v&&v<0&&(e.preventDefault(),e.stopPropagation());let o=n.pinViewportElem;if(0!==A||t===i&&0!==i||(T=!0,o.scrollTop=i),n.onStartScroll(),l!==v&&v>=0&&(n.syncHeader(!1,v),P()),t!==i&&i>=0){let e=o.offsetHeight+i-o.scrollHeight;e>0?n.scrollViewportElem.clientWidth>0&&j(e):N>0&&G(),M()}A-=1,A<0&&(A=0)}function q(e){if(!0!==T){var t=n.pinViewportElem.scrollLeft;n.syncHeader(!0,t),n.pinViewportElem.scrollTop!==i&&(A+=1,n.pinViewportElem.scrollTop!==n.pinViewportElem.scrollHeight-n.pinViewportElem.offsetHeight?n.scrollViewportElem.scrollTop=n.pinViewportElem.scrollTop:n.scrollViewportElem.scrollTop=n.pinViewportElem.scrollTop+40,e.preventDefault())}else T=!1}function Y(){if(r&&r.length){var e,l=r[0],o=parseInt(l.getAttribute("data-indexNumber"));e=n.treeTableEditSettings?(o-n.treeTableEditSettings.firstIndex)*n.rowHeight:V(o);var a=W(i);if(!0===e>i+m)t.handleScroll();else if(e>V(a-h)){var s=o-a,d=o-1;Z(d-h-(s=s<0?0:s),d)}}else t.handleScroll()}function X(e,t){n.removeRows(e,t),r=n.scrollParentElem.querySelectorAll(n.rowSelector)}function K(e,t){if(n.renderRows(e,t),r=n.scrollParentElem.querySelectorAll(n.rowSelector),n.dynamicRowHeightStatus){let e=d.length-1,t=r[0].getAttribute("data-indexnumber"),n=r[r.length-1].getAttribute("data-indexnumber");(e<t||e>n)&&(d[d.length-1]=null);for(let i of r){let e=parseInt(i.getAttribute("data-indexnumber"));d[e]=i.offsetHeight}}}function Z(e,i,l){var o;n.treeTableEditSettings?(e<n.treeTableEditSettings.firstIndex&&(e=n.treeTableEditSettings.firstIndex),i>n.treeTableEditSettings.lastIndex&&(i=n.treeTableEditSettings.lastIndex),o=n.treeTableEditSettings.totalDataLength):(e<0&&(e=0),o=n.totalFound),e>=o&&(0===o?(X(r.length-1,0),t.updateRowAlignment()):(n.updateScrollColumnsInView(v,_),K(e,i)),e===o)?a.a.trace("Table scroll service: Rendering of page data complete. No more data to render."):(e>o&&(i-=e,e=0),i>=o&&(i=o-1),l&&X(r.length-1,0),K(e,i),t.updateRowAlignment(),function(){var e=0,t=0,i=r[0];e=parseInt(i.getAttribute("data-indexNumber"));var l=r[r.length-1];t=parseInt(l.getAttribute("data-indexNumber"));var o={index:e,uid:i.vmo.uid,levelNdx:i.vmo.levelNdx},a={index:t,uid:l.vmo.uid,levelNdx:l.vmo.levelNdx};n.afterGridRenderCallback(o,a)}())}t.checkForResize=o.a.debounce((async function(){if(D=new Date-x,D<200)return;let e=n.scrollViewportElem.offsetWidth;if(e!==_&&(e>_?(_=e,n.updateScrollColumnsInView(v)):(_=e,n.updateScrollColumnsInView(v,_)),n.updateVisibleCells(n.scrollParentElem),t.handlePinViewportScrollbarPadding()),n.directiveElem.clientHeight!==p){p=n.directiveElem.clientHeight;let e=n.scrollViewportElem.clientHeight||n.pinViewportElem.clientHeight||p,i=Math.floor(e/n.rowHeight);m=H(),F(i),await t.handleScroll()}}),200),t.isInitialized=function(){return c},t.renderInitialRows=function(){t.initializeProperties(),n.initialRowIndex=f,t.handleScroll()},t.getFirstRenderedItemIndex=function(){var e=r[0];return parseInt(e.getAttribute("data-indexNumber"))},t.getLastRenderedItemIndex=function(){var e=r[r.length-1];return parseInt(e.getAttribute("data-indexNumber"))},t.setContainerHeight=function(e){p=e,m=H(),n.scrollViewportElem.style.maxHeight=String(m)+"px",n.pinViewportElem.style.maxHeight=String(m)+"px"},t.setDynamicRowHeight=function(e){n.dynamicRowHeightStatus=e,n.tableElem._tableInstance&&(n.tableElem._tableInstance.dynamicRowHeightStatus=e)},t.initializeProperties=function(){d=[],void 0===p?(p=e>0?e:n.directiveElem.clientHeight,m=H()):!1===u&&t.setContainerHeight(p),u=!0,n.scrollViewportElem.style.minHeight=String(n.rowHeight)+"px",n.pinViewportElem.style.minHeight=String(n.rowHeight)+"px";let i=m;i<0&&(i=0),F(Math.floor(i/n.rowHeight)),a.a.trace("Table scroll service: Visible row count - "+g)},t.updateRowAlignment=function(){let e,t=0;if(r){let e=r[0];if(e&&e.getAttribute("data-indexNumber")){let i=parseInt(e.getAttribute("data-indexNumber"));t=n.treeTableEditSettings?(i-n.treeTableEditSettings.firstIndex)*n.rowHeight:V(i)}}n.pinParentElem.style.top=t+"px",n.scrollParentElem.style.top=t+"px",e=n.treeTableEditSettings?(n.treeTableEditSettings.lastIndex-n.treeTableEditSettings.firstIndex+1)*n.rowHeight-t:V(n.totalFound)-t,n.pinParentElem.style.height=e+"px",n.scrollParentElem.style.height=e+"px"},t.getRowHeight=function(){return n.rowHeight},t.manualScroll=function(e){let i=e?t.getRowHeight():-t.getRowHeight();return n.scrollViewportElem.scrollTop+=i,n.scrollViewportElem.scrollTop},t.getScrollTop=function(){return n.scrollViewportElem.scrollTop},t.setRowHeight=function(e){n.rowHeight=e},t.getTotalFound=function(){return n.totalFound},t.setLoadedVMObjects=function(e){!0===L&&function(e){L=!1,b=!0;let t=W(n.scrollViewportElem.scrollTop);S=V(t+e)}(e.length-n.totalFound),n.loadedVMObjects=e,n.totalFound=e.length},t.setScrollPositionToBeMaintained=function(){L=!0},t.isScrollToRowInProgress=function(){return b},t.handlePinViewportScrollbarPadding=function(){const e=n.pinViewportElem,t=n.scrollViewportElem;if(i>=0)if("0px"===e.style.top&&t.clientWidth>0){let t=e.offsetHeight+i-e.scrollHeight;t>0&&j(t)}else"0px"!==e.style.top&&t.clientWidth<=0&&G()},t.handleScrollDown=function(){if(r&&r.length){let e,l=r[r.length-1],o=parseInt(l.getAttribute("data-indexNumber"));e=n.treeTableEditSettings?(o-n.treeTableEditSettings.firstIndex)*n.rowHeight+n.rowHeight:V(o+1);let a=k();if(!0===e<i)o+1<n.totalFound&&t.handleScroll();else if(e<V(a+h)){let e=a-o;e=e<0?0:e;let t=o+1;Z(t,t+h+e)}}else t.handleScroll()},t.handleScroll=function(){var e;if(n.initialRowIndex){t.updateRowAlignment();var o=W(V(n.initialRowIndex)-.75*m),a=V(o);delete n.initialRowIndex,i=a<0?0:a,e=o,n.scrollViewportElem.scrollTop=i}!0===b&&(t.updateRowAlignment(),n.scrollViewportElem.scrollTop=S,b=!1,S=null),e||(e=W(i));var r=e-h,s=e+g+h;if(s>n.totalFound-1){var d=s-n.totalFound-1;s-=d,r-=d}Z(r,s,!0),l=i},t.setupTreeEditScroll=function(e){if(e){if(r&&r[0]){for(var i=r[0],l=parseInt(i.getAttribute("data-indexNumber")),o=n.loadedVMObjects[l].props;o&&l>0;)(o=n.loadedVMObjects[l-1].props)&&l--;var a=r[r.length-1],s=parseInt(a.getAttribute("data-indexNumber"));for(o=n.loadedVMObjects[s].props;o&&s<n.totalFound-1;)(o=n.loadedVMObjects[s+1].props)&&s++;n.treeTableEditSettings={firstIndex:l,lastIndex:s,totalDataLength:s+1},t.updateRowAlignment()}}else if(n.treeTableEditSettings){var d=(n.scrollViewportElem.scrollTop/t.getRowHeight()+n.treeTableEditSettings.firstIndex-1)*t.getRowHeight();delete n.treeTableEditSettings,t.updateRowAlignment(),t.handleScroll(),n.pinViewportElem.scrollTop=d,n.scrollViewportElem.scrollTop=d}},t.resetInfiniteScroll=function(){t.setLoadedVMObjects([]),t.resetInitialRowIndex(),d=[],n.scrollViewportElem.scrollTop=0,n.pinViewportElem.style.top="0px",n.scrollViewportElem.style.top="0px",i=0,t.handleScroll()},t.resetRowHeightCache=function(){d=[]},t.destroyGrid=function(){n.scrollViewportElem&&n.scrollViewportElem.removeEventListener("scroll",z),n.scrollViewportElem&&n.scrollViewportElem.removeEventListener("scroll",U),n.pinViewportElem&&n.pinViewportElem.removeEventListener("scroll",q),R.disable(),t.checkForResize.cancel(),P.cancel(),M.cancel()},t.scrollToRowIndex=function(e){if(!0===t.isInitialized()){var i=null,l=0,o=0;r.length>0&&(l=Number(r[0].getAttribute("data-indexnumber")),o=Number(r[r.length-1].getAttribute("data-indexnumber")));for(var a=n.scrollViewportElem.getBoundingClientRect(),s=0;s<e.length;s++){var d=e[s];if(r.length>0){if(d>o||d<l){f=d;continue}if((i=r[d-l].getBoundingClientRect()).top<a.top||i.bottom>a.bottom){f=d;continue}f=d}return!1}var c=n.scrollViewportElem.scrollHeight-n.scrollViewportElem.clientHeight,u=Math.floor(V(f)-.75*m),p=f-l;r[p]&&((i=r[p].getBoundingClientRect()).top<a.top&&i.bottom>a.top?u=V(f):i.top<a.bottom&&i.bottom>a.bottom&&(u=n.scrollViewportElem.scrollTop+(i.bottom-a.bottom))),u>c&&(b=!0,S=u),n.scrollViewportElem.scrollTop=u}else f=e[0];return!0},t.scrollToColumn=function(e){(e.startPosition<=v||e.startPosition>v+_)&&(n.scrollViewportElem.scrollLeft=e.startPosition-10)},t.isInitialRowIndexInView=function(){let e=Number(r[0].getAttribute("data-indexnumber")),t=r[f-e];if(void 0===t)return!1;let n=t.getAttribute("data-indexnumber"),l=W(i),o=k();return!(n<l||f>o)},t.resetInitialRowIndex=function(){f=0}},b=n(12),S=n(65),L=n(2943),T=n(27),A=n(2944);var _=function(e,t){let n=this,i=e,l=t,o=d.a.getTableInstance(i),a=new A.a(e);const r="data-indexNumber",c=function(e){e.preventDefault(),e.stopPropagation()},u=function(e){switch(e){case"Up":case"ArrowUp":return"UP";case"Down":case"ArrowDown":return"DOWN";case"Left":case"ArrowLeft":return"LEFT";case"Right":case"ArrowRight":return"RIGHT";default:return null}},p=function(e){e.target.tabIndex="0"},m=function(e){e.target.tabIndex="-1"};n.setOnFocusAndBlur=function(e){e.addEventListener("focus",p),e.addEventListener("blur",m)};const f=function(e){return e.classList.contains(s.a.CLASS_HEADER_CELL)},h=function(e){return e.classList.contains(s.a.CLASS_CELL)},g=function(e){return e.classList.contains(s.a.CLASS_TABLE_CONTAINER)},E=function(e){return d.a.closestElement(e,".".concat(s.a.CLASS_TABLE_MENU_BUTTON))},C=function(){i.querySelector(".".concat(s.a.CLASS_TABLE_MENU_BUTTON," button")).focus()},v=function(){let e;return o.gridOptions.transpose?e=o.controller.getColumnDefs():(e=o.dataProvider.cols,e=e.filter((function(e){return!0!==e.hiddenFlag}))),e},_=(e,t,n,i,l)=>{let o={newRowIdx:null,newColIdx:null,scrollLeft:null};if(!e)return o.newColIdx=1,o.newRowIdx=1,o;if(E(e))return"LEFT"===t?(o.newColIdx=n.length,o.newRowIdx=1):"DOWN"===t&&(o.newRowIdx=2,o.newColIdx=n.length,o.scrollLeft=n[n.length-1].startPosition),o;const a=parseInt(e.getAttribute("aria-colindex"));switch(t){case"UP":if(i<=1)return null;o.newColIdx=a,o.newRowIdx=i-1;break;case"DOWN":if(i>=l)return null;o.newColIdx=a,o.newRowIdx=i+1;break;case"LEFT":if(a<=1)return null;o.newColIdx=a-1,o.newRowIdx=i;break;case"RIGHT":if(a>=n.length)return f(e)&&C(),null;o.newColIdx=a+1,o.newRowIdx=i}return o.newColIdx!==a&&(o.scrollLeft=function(e,t,n,i){const l=v();let o=e.columnDef||e.getElementsByClassName(s.a.CLASS_COLUMN_DEF)[0].columnDef,a=l.indexOf(o),r=null,d=l[a+(i-n)];return o&&d&&o.pinnedLeft&&!d.pinnedLeft?r=0:1===t&&d&&!d.pinnedLeft&&(r=d.startPosition),r}(e,i,a,o.newColIdx)),o},w=(e,t)=>{const n=v();let l;l=o.gridOptions.transpose?o.dataProvider.cols.length+1:o.dataProvider.viewModelCollection.getLoadedViewModelObjects().length+1;const r=e?parseInt(e.parentElement.getAttribute("aria-rowindex")):null,d=_(e,t,n,r,l);if(!d)return;const c=d.newRowIdx,u=d.newColIdx,p=d.scrollLeft;let m=a.getScrollContainerElementFromTable().getElementsByClassName(s.a.CLASS_VIEWPORT)[0];1===r&&2===c&&(m.scrollTop=0),null!==p&&(m.scrollLeft=p),setTimeout((function(){let e="[aria-rowindex='".concat(c,"'] [aria-colindex='").concat(u,"']"),t=i.querySelector(e);t&&t.focus()}),100)},y=function(e,t){const n=v();if(f(e))if(t)w();else{const e=n[n.length-1],t=e.startPosition;if(!e.pinnedLeft){a.getScrollContainerElementFromTable().getElementsByClassName(s.a.CLASS_VIEWPORT)[0].scrollLeft=t}setTimeout((function(){let e="[aria-rowindex='1'] [aria-colindex='".concat(n.length,"']"),t=i.querySelector(e);t&&t.focus()}),50)}else if(h(e)||d.a.closestElement(e,".".concat(s.a.CLASS_CELL))){let l,o=d.a.closestElement(e,".".concat(s.a.CLASS_CELL));const c=o?o.parentElement.getAttribute(r):e.parentElement.getAttribute(r);if(t){if(l=n[0],!l.pinnedLeft){a.getScrollContainerElementFromTable().getElementsByClassName(s.a.CLASS_VIEWPORT)[0].scrollLeft=0}}else if(l=n[n.length-1],!l.pinnedLeft){a.getScrollContainerElementFromTable().getElementsByClassName(s.a.CLASS_VIEWPORT)[0].scrollLeft=l.startPosition}setTimeout((function(){let e="[aria-rowindex='".concat(parseInt(c)+2,"'] [aria-colindex='").concat(l.index+1,"']"),t=i.querySelector(e);t&&t.focus()}),50)}},I=function(e,t){let n=e.parentElement&&e.parentElement.vmo;l.onClickHandler(t,e,n);L.default.selectionChanged(i,e)(t)};n.setupInternalCellNavigation=e=>{e.onkeydown=function(t){const n=u(t.key);let a=(r=e,T.default.findFocusableChildren(r).length>0);var r;!d.a.isBulkEditing(i)&&!e.isElementInEdit&&a&&("LEFT"===n||"RIGHT"===n?(delete o.focusTreeNodeExpandAfterRender,((e,t,n)=>{if(c(n),document.activeElement===e&&"RIGHT"===t){l.removeAllCellSelection();let t=T.default.findNextFocusableChild(e,!0);t&&t.focus()}else if("RIGHT"===t){let n=T.default.findNextFocusableChild(e);n?n.focus():w(e,t)}else{let n=T.default.findPreviousFocusableChild(e);n?n.focus():w(e,t)}})(e,n,t)):"DOWN"!==n&&"UP"!==n||document.activeElement===e||(delete o.focusTreeNodeExpandAfterRender,c(t),w(e,n)))}};const R=e=>{if(d.a.isCellEditing(i)&&!e.isElementInEdit){const e=o.dataProvider.json&&o.dataProvider.json.editContext?o.dataProvider.json.editContext:o.declViewModel._internal.editContext?o.declViewModel._internal.editContext:null;let t=null;if(e&&(t=S.a.getEditHandler(e)),t)t.cancelEdits();else if(o.dataProvider.getEditConfiguration()){const e={data:o.declViewModel,ctx:b.default.ctx};o.dataProvider.cancelEdits(e,o.declViewModel)}else o.declViewModel.getEditConfiguration()&&o.declViewModel.cancelEdits()}};n.setupKeyListener=()=>{i.onkeydown=e=>{let t=e.srcElement;if("INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||(t=d.a.closestElement(t,".".concat(s.a.CLASS_CELL))||t),d.a.isBulkEditing(i)){if(g(t)){c(e);let n=t.getElementsByClassName("aw-jswidgets-editableGridCell")[0];n&&n.parentElement.focus()}return}const n=e.key,a=u(n);"Tab"===n?((e,t)=>{f(e)&&!t.shiftKey?(c(t),C()):E(e)&&t.shiftKey?(c(t),w()):(g(e)||document.activeElement.closest(s.a.CLASS_TABLE_CONTAINER))&&l.removeAllCellSelection()})(t,e):a?((e,t,n)=>{if(h(e)&&n.shiftKey&&("DOWN"===t||"UP"===t)){c(n),l.removeAllCellSelection();const i=parseInt(e.parentElement.getAttribute(r)),a=o.dataProvider.viewModelCollection.getLoadedViewModelObjects().length;("DOWN"===t&&i<a-1||"UP"===t&&i>0)&&(w(e,t),setTimeout((function(){I(document.activeElement,n)}),100))}else e.isElementInEdit||(c(n),f(e)||h(e)?(l.removeAllCellSelection(),w(e,t)):E(e)?w(e,t):g(e)&&(l.removeAllCellSelection(),w()))})(t,a,e):"Enter"===n||"Space"===n||" "===n?((e,t)=>{h(e)&&!e.isElementInEdit&&(c(t),I(e,t))})(t,e):"Escape"===n||"Esc"===n?R(t):"Home"!==n||t.isElementInEdit?"End"!==n||t.isElementInEdit||(y(t,!1),l.removeAllCellSelection()):(y(t,!0),l.removeAllCellSelection())}}};const w=function(e){let t;t=e.displayName?e.displayName:e.props.object_string?e.props.object_string.uiValues[0]:e.props.object_name?e.props.object_name.uiValues[0]:"";let n={field:e.uid,name:e.uid,displayName:t,enableColumnMoving:!0,enableColumnResizing:!0,enablePinning:!1,width:300,vmo:e,enableRendererContribution:!0,headerTooltip:!0,modifiable:!1};if(e.column){let t=Object.assign(e.column,n);return t.width=t.drawnWidth,t}return n};var y=function(e,t){let n=t;if(!function(e,t){if(e&&e.length===t.length+1){for(let n=0;n<t.length;n++){let i=!1,l=t[n];for(let t=0;t<e.length;t++){let n=e[t];l.uid===n.field&&(i=!0)}if(!1===i)return!0}return!1}return!0}(e,t)){n=[],e=o.a.sortBy(e,"index");for(let i=1;i<e.length;i++){let l=e[i].field;for(let o=0;o<t.length;o++){let a=t[o];if(a.uid===l){a.column=e[i],n.push(a);break}}}}return[{name:"",field:"transposedColumnProperty",displayName:"",pinnedLeft:!0,enableColumnMenu:!1,enableColumnMoving:!1,enableSorting:!1,enableColumnResizing:!0,enableRendererContribution:!0,modifiable:!1,width:125}].concat(n.map(w))},I=function(e,t){for(let l=0;l<e.length;l++)e[l].visible=!e[l].hasOwnProperty("visible")||e[l].visible;let n=o.a.filter(e,(function(e){return!!e.visible&&e})),i=[];for(let l=0;l<n.length;l++){let e=n[l],o={props:{transposedColumnProperty:{uiValue:e.displayName,dbValue:e.field}}};"icon"===e.name&&(o.name="icon");for(let n=0;n<t.length;n++){let i=t[n];"icon"===e.name?o.props[i.uid]={thumbnailURL:i.thumbnailURL,typeIconURL:i.typeIconURL,iconURL:i.iconURL}:o.props[i.uid]=i.props[e.field]}i.push(o)}return i},R=n(272),x=n(3039),D=n(166),N=n(21),P=n(628),M=n(15),O=n(175),H=n(58),F=n(46),B=n(955),V=n(954),W=n(953),k=n(3115),U=n.n(k);var j=function(e){var t=this;return E.default.isMobileOS||document.body.classList.add("nonTouch"),delete t.tableContentElt,delete t.currentSrcCell,delete t.currentSrcCellRectangle,delete t.currentPanHandler,delete t.currentPanHandlerElement,t.scrollDelta=0,t.isActivelyDragging=!1,t.dragSelectedCells=[],t.removePanEvtHandler=function(){t.currentPanHandler&&t.currentPanHandler.off("panup pandown panend panstart pancancel",t.handleHammerCellDrag),delete t.currentPanHandler,t.isActivelyDragging=!1,delete t.currentPanHandlerElement,t.currentSrcCell&&t.currentSrcCell.classList.remove("dragSrc")},t.handlePan=function(n){var i,l;t.dragSelectedCells=[];let o=t.currentSrcCell.parentElement&&parseInt(t.currentSrcCell.parentElement.getAttribute("aria-rowindex"))-2||0;n.srcEvent.clientY+t.scrollDelta>t.currentSrcCellRectangle.top+t.initialScrollDelta+1?(t.dragUp=!1,i=t.currentSrcCellRectangle.top-1+t.initialScrollDelta,l=n.srcEvent.clientY+t.scrollDelta):(t.dragUp=!0,i=n.srcEvent.clientY+t.scrollDelta,l=t.currentSrcCellRectangle.bottom+t.initialScrollDelta+1);var r=d.a.getPropertyByCellElement(t.currentSrcCell);t.srcUiVal!==r.uiValue&&(t.dragUp?l=9999999:i=0);let s=d.a.getColumnContentCellElementsByIndex(t.tableContentElt,t.targetColNumber);for(let e of s){let n=parseInt(e.parentElement.getAttribute("aria-rowindex"))-2-o;var c=t.currentSrcCellRectangle.top+t.initialScrollDelta+(t.currentSrcCellRectangle.height+1)*n;let a=c+t.currentSrcCellRectangle.height;e.classList.remove("dragCellTop"),e.classList.remove("dragCell"),e.classList.remove("dragCellBottom");var u=c;!0===t.dragUp&&(u=a),u<l&&u>=i&&(e.classList.add("dragCell"),t.dragSelectedCells.push(e))}t.dragSelectedCells.length&&(t.dragSelectedCells[0].classList.add("dragCellTop"),t.dragSelectedCells[t.dragSelectedCells.length-1].classList.add("dragCellBottom")),function(n){var i=d.a.getTableInstance(e).renderer;let l=t.currentViewportElement.getBoundingClientRect();var o=l.top,r=o+l.height;n.srcEvent.pageY<o+10?(t.scrollDelta=i.manualScroll(!1),a.a.debug(scroll," scroll up")):n.srcEvent.pageY>r-10&&(t.scrollDelta=i.manualScroll(!0),a.a.debug(scroll," scroll down"))}(n)},t.handlePanEnd=function(){if(t.dragSelectedCells.length>1){var n,i;t.dragUp?(n=t.dragSelectedCells[0],i="up"):(n=t.dragSelectedCells[t.dragSelectedCells.length-1],i="down");for(var l=d.a.getPropertyByCellElement(n),o=0;o<t.dragSelectedCells.length;o++)t.dragSelectedCells[o].classList.remove("dragCellTop"),t.dragSelectedCells[o].classList.remove("dragCell"),t.dragSelectedCells[o].classList.remove("dragCellBottom");d.a.getTableInstance(e).gridId;let a=l.substituteParentUid||l.parentUid;if(!a)a=d.a.closestElement(n,"."+s.a.CLASS_ROW).vmo.uid;d.a.getTableInstance(e).editor.fillDownCompleteHandler({propertyName:t.propertyName,source:t.srcUid,endTarget:a,direction:i})}t.scrollDelta=0,t.isActivelyDragging=!1,t.tableContentElt.classList.remove("aw-jswidgets-dragfilling")},t.handlePanCancel=function(){t.removePanEvtHandler()},t.handlePanStart=function(n){t.dragUp=!1,t.isActivelyDragging=!0;const i=d.a.getTableInstance(e).renderer;t.initialScrollDelta=i.getScrollTop(),t.scrollDelta=t.initialScrollDelta;var l=d.a.closestElement(n.target,"."+s.a.CLASS_CELL);t.currentSrcCell=l,t.currentSrcCellRectangle=t.currentSrcCell.getBoundingClientRect(),t.currentViewportElement=d.a.closestElement(t.currentSrcCell,"."+s.a.CLASS_VIEWPORT);var o=d.a.getPropertyByCellElement(t.currentSrcCell);if(t.srcUid=o.substituteParentUid||o.parentUid,!t.srcUid){var a=d.a.closestElement(t.currentSrcCell,"."+s.a.CLASS_ROW);t.srcUid=a.vmo.uid}t.srcUiVal=o.uiValue,t.propertyName=o.propertyName,t.tableContentElt=d.a.closestElement(n.target,"."+s.a.ELEMENT_TABLE),t.currentSrcCell.classList.add("dragSrc"),t.tableContentElt.classList.add("aw-jswidgets-dragfilling"),t.targetColNumber=t.currentSrcCell.columnDef.index},t.handleHammerCellDrag=function(e){"panstart"===e.type?t.handlePanStart(e):"panend"===e.type?t.handlePanEnd():"pancancel"===e.type?t.handlePanCancel():t.isActivelyDragging&&t.handlePan(e)},t.initialize=function(e){if(!t.isActivelyDragging)if(e.preventDefault(),t.currentPanHandlerElement&&t.currentPanHandlerElement!==e.target&&t.removePanEvtHandler(),t.currentPanHandler)t.currentPanHandlerElement&&t.currentPanHandlerElement!==e.target&&a.a.warn("different event handler element - shouldnt be here ------------------");else{var n=U()(e.target,{touchAction:"pan-y"});t.currentPanHandlerElement=e.target,n.get("pan").set({direction:U.a.DIRECTION_VERTICAL}),n.on("panup pandown panend panstart pancancel",t.handleHammerCellDrag),t.currentPanHandler=n}},t};var G=function(e){let t,n=this,i=new j(e);return n.enableFillDown=function(e){var n=e.getElementsByClassName(s.a.CLASS_WIDGET_TABLE_CELL_DRAG_HANDLE)[0];if(!n){let l=e.parentElement;(n=d.a.createElement("div",s.a.CLASS_WIDGET_TABLE_CELL_DRAG_HANDLE)).addEventListener("mouseover",i.initialize),n.addEventListener("mousedown",(function(){t=l.draggable,l.draggable=!1})),n.addEventListener("mouseup",(function(){l.draggable=t})),e.appendChild(n)}},n.disableFillDown=function(e){var t=e.getElementsByClassName(s.a.CLASS_WIDGET_TABLE_CELL_DRAG_HANDLE)[0];t&&e.removeChild(t)},n},z=n(16),q=n(0),Y=n(123),X=n(158),K=n(2);const Z=e=>e.dataProvider.json&&e.dataProvider.json.editContext?e.dataProvider.json.editContext:e.dataProvider.json&&e.dataProvider.json.customPanelEditContext?e.dataProvider.json.customPanelEditContext:e.declViewModel._internal.editContext?e.declViewModel._internal.editContext:null,J=(e,t)=>{const n={message:{messageType:"INFO",messageText:e},showType:"false",closable:!0},i=Object(q.d)("AwGuidanceMessage",n);let l=document.createDocumentFragment();Object(Y.d)(Object(K.jsx)(X.a,{children:i}),l),t.parentElement.insertBefore(l,t)},$=e=>{M.default.getLocalizedTextFromKey("BaseMessages.AUTO_SAVE_ONLY_TABLE",!0).then((t=>{J(t,e)}))},Q=e=>{M.default.getLocalizedTextFromKey("BaseMessages.CELL_EDITING_DISABLED",!0).then((t=>{J(t,e)}))};var ee=n(2965),te=function(e,t,n){let l=new A.a(e),r=new G(e),c={},u=null,p=null,m=d.a.getTableInstance(e),f=null,h=null,g=null,C=null,v=null,T=!1;const _="aria-readonly",w="aria-activedescendant";let y=[],I=this;const R=function(){o.a.forEach(c,(function(e){i.a.unsubscribe(e)})),c={}};I.destroy=function(){R(),o.a.forEach(y,(function(e){i.a.unsubscribe(e)})),y=[]},I.setFocusProp=function(e){p=e};const x=function(){u&&u()};I.updateEditStatus=function(){x();var t=l.getContentCellElementsFromTable();o.a.forEach(t,(function(e){I.updateEditStatusForCell(e)})),d.a.isBulkEditing(e)||(p=null,R())};const D=function(e,t){if(t)for(var n=e.getElementsByClassName(s.a.CLASS_WIDGET_TABLE_PROPERTY_VALUE_LINKS_DISABLED),i=n.length;i>0;i--){var l=n[i-1];l&&l.classList&&(l.classList.add(s.a.CLASS_WIDGET_TABLE_PROPERTY_VALUE_LINKS),l.classList.remove(s.a.CLASS_WIDGET_TABLE_PROPERTY_VALUE_LINKS_DISABLED))}else for(var o=(n=e.getElementsByClassName(s.a.CLASS_WIDGET_TABLE_PROPERTY_VALUE_LINKS)).length;o>0;o--){var a=n[o-1];a&&a.classList&&(a.classList.add(s.a.CLASS_WIDGET_TABLE_PROPERTY_VALUE_LINKS_DISABLED),a.classList.remove(s.a.CLASS_WIDGET_TABLE_PROPERTY_VALUE_LINKS))}},N=function(t,n,i,l){if(null!==t.parentElement){t.isElementInEdit=!1;var o=null;o=l.isArray?t.getElementsByClassName(s.a.CLASS_TABLE_EDIT_CELL_TOP_ARRAY):t.getElementsByClassName(s.a.CLASS_TABLE_EDIT_CELL_TOP);var a=!1,r=ee.a.createElement(i,n,e,t.parentElement);if(!0===m.dynamicRowHeightStatus&&ee.a.addDynamicCellHeight(n,r),o.length>0){var c=o[0];if(l.isArray){const e=m.gridOptions.popupContext.editArrayPopup;e&&e.hide()}else c.parentElement.removeChild(c);setTimeout((function(){d.a.cleanupComponents(c),c.getElementsByClassName("aw-widgets-propertyError").length>0&&(a=!0),a&&r.classList.add("aw-widgets-propertyError"),l.isArray||d.a.destroyElement(c)}),1e3)}t.classList.remove(s.a.CLASS_AW_IS_EDITING),t.appendChild(r);var u=t.getElementsByClassName(s.a.CLASS_TABLE_CELL_TOP);u.length>0&&u[0].classList.add(s.a.CLASS_AW_EDITABLE_CELL),function(e){var t=e.getElementsByClassName(s.a.CLASS_WIDGET_TABLE_CELL_DRAG_HANDLE);t.length>0&&t[0].parentElement.appendChild(t[0])}(t)}},P=function(e){e.removeEventListener("focus",e.onFocusEvent,!0),e.onFocusEvent=null,e.removeEventListener("mousedown",e.onFocusClickEvent),e.onFocusClickEvent=null};let M=!1,O=!1;const H=function(e,t){P(e);const n=function(n){if(M){let t;E.default.isIE?(t=document.createEvent("MouseEvent"),t.initMouseEvent("click",!0,!0,window,0,t.screenX,t.screenY,t.clientX,t.clientY,O,!1,!1,!1,0,null)):t=new MouseEvent("click",{ctrlKey:O}),e.parentElement.dispatchEvent(t),M=!1,O=!1}I.editCell(e,t)};e.onFocusEvent=n;e.addEventListener("focus",n,!0);const i=function(e){M=!0,O=e.ctrlKey};e.isFocusClickEvent=i,e.addEventListener("mousedown",i)},F=function(e,t,n){if(e.children[0]){e.children[0].classList.add(s.a.CLASS_AW_EDITABLE_CELL);var i=d.a.getTableRowHeight(m.gridOptions,void 0);void 0!==i&&(e.children[0].style.height=i+"px")}else a.a.debug(e.propName+" has no child");H(e,n),r.enableFillDown(e),D(e,!1);var l=e.getElementsByClassName(s.a.CLASS_TABLE_CELL_TOP)[0]||e.getElementsByClassName(s.a.CLASS_TABLE_EDIT_CELL_TOP)[0]||e.getElementsByClassName(s.a.CLASS_TABLE_EDIT_CELL_TOP_ARRAY)[0];ee.a.updateCellChangedClass(t,l),p===e.prop&&I.editCell(e,n)},B=function(){const e=!0;document.body.removeEventListener("click",u,e),l.getScrollCanvasElementFromTable().removeEventListener("scroll",u,e),l.getPinCanvasElementFromTable().removeEventListener("scroll",u,e)},V=function(e){document.body.removeEventListener("keydown",C,!0),e.removeEventListener("keydown",v,!0),C=null,v=null},W=function(e,t,n,i){const l=e.getElementsByClassName(s.a.CLASS_TABLE_CELL_TOP)[0];(l&&(l.classList.contains(s.a.CLASS_AW_EDITABLE_CELL)||l.classList.contains(s.a.CLASS_CELL_CHANGED))||e.propIsEditableCache)&&(t.isArray||e.isSelected||r.disableFillDown(e),i||(e.removeChild(l),N(e,n,e.columnDef,t)),e.children[0].classList.remove(s.a.CLASS_AW_EDITABLE_CELL),P(e)),D(e,!0)};I.updateEditStatusForCell=function(t){var n=t.prop;let i=d.a.getViewModelObjectByCellElement(t);i=J(i.alternateID||i.uid);var l=i&&i.props&&i.props[t.propName];t.propName&&n&&!0!==t.columnDef.isTreeNavigation?(n.isEditable||l&&l.isEditable)&&!1!==t.columnDef.modifiable&&d.a.isBulkEditing(e)||t.isSelected&&t.propIsEditableCache&&n.isPropInEdit?F(t,n,i):(W(t,n,i),d.a.isBulkEditing(e)?t.setAttribute(_,"true"):t.hasAttribute(_)&&!1!==t.propIsEditableCache&&t.removeAttribute(_)):d.a.isBulkEditing(e)?t.setAttribute(_,"true"):t.hasAttribute(_)&&!1!==t.propIsEditableCache&&t.removeAttribute(_)};const k=function(){const e=Z(m);let t,n=null;e?(n=S.a.getEditHandler(e),t=n.isDirty()):m.dataProvider.getEditConfiguration()?t=m.dataProvider.isDirty():m.declViewModel.getEditConfiguration()&&(t=m.declViewModel.isDirty()),t&&t.then((function(e){if(!e)if(n)n.cancelEdits();else if(m.dataProvider.getEditConfiguration()){const e={data:m.declViewModel,ctx:b.default.ctx};m.dataProvider.cancelEdits(e,m.declViewModel)}else m.declViewModel.getEditConfiguration()&&m.declViewModel.cancelEdits()}))},U=function(e,t){if(!1!==e.modifiable&&!e.isTreeNavigation){const n=e.propertyName||e.field,i=t.props[n];if(i&&i.isEditable)return{vmo:t,column:e}}return null},j=t=>{t.onkeydown=t=>{if("Tab"!==t.code)return;let n=!1;t.shiftKey&&(n=!0);const i=((e,t,n)=>{let i=m.dataProvider.cols.filter((function(e){return!e.hiddenFlag}));const l=i.indexOf(t);n&&(i=i.slice().reverse());for(let a=l+1;a<i.length;a++){const t=i[a],n=U(t,e);if(n)return n}const o=m.dataProvider.viewModelCollection.loadedVMObjects;for(let a=m.dataProvider.viewModelCollection.findViewModelObjectById(e.uid)+1;a<o.length;a++){const e=o[a];for(let t=0;t<i.length;t++){const n=i[t],l=U(n,e);if(l)return l}}return null})(t.target.closest(".ui-grid-row").vmo,t.target.closest(".ui-grid-cell").columnDef,n);if(i){t.preventDefault(),t.stopPropagation();const n=m.dataProvider.viewModelCollection.findViewModelObjectById(i.vmo.uid);x(),m.renderer.scrollToRowIndex([n]),i.column.pinnedLeft||m.renderer.scrollToColumn(i.column),setTimeout((()=>{const t=e.getElementsByClassName("ui-grid-row")[0];if(t){const e=n-t.getAttribute("data-indexNumber");let a;a=i.column.pinnedLeft?l.getPinContentRowElementFromTable(e):l.getScrollContentRowElementFromTable(e);const r=a&&a.getElementsByClassName("ui-grid-cell")||[],s=o.a.filter(r,{columnDef:i.column})[0];s&&I.editCell(s,i.vmo)}}),200)}}},J=function(e){let t=m.dataProvider.viewModelCollection.findViewModelObjectById(e);return m.dataProvider.viewModelCollection.loadedVMObjects[t]},te=function(t,n,l){const a=function(t,n,l){return i.a.subscribe(l.propertyName+".lovValueChanged",(function(){l.lovApi&&l.lovApi.behaviorData&&"Interdependent"===l.lovApi.behaviorData.style&&l.lovApi.behaviorData.dependendProps.forEach((function(i){if(l.propertyName!==i){var a=t.parentElement;o.a.forEach(a.children,(function(t){if(t.propName===i){var l=t.children[0],o=ee.a.createElement(t.columnDef,a.vmo,e,a);return!0===m.dynamicRowHeightStatus&&ee.a.addDynamicCellHeight(n,o),o.classList.add(s.a.CLASS_AW_EDITABLE_CELL),t.replaceChild(o,l),t.isDependantEdit=!0,!d.a.isBulkEditing(e)&&d.a.isAutoSaveEnabled(e)&&(I.removeAllCellSelection(),I.editCell(t,n)),!1}return!0}))}}))}))}(t,n,l);let r=c[l.parentUid+l.propertyName];r&&(i.a.unsubscribe(r),delete c[l.parentUid+l.propertyName]),c[l.parentUid+l.propertyName]=a};I.editCell=function(t,o){const a=t.columnDef,c=t.prop;if(!t.isDependantEdit&&(!t.isSelected&&!d.a.isBulkEditing(e)||!0===t.isElementInEdit))return;n({type:"UPDATE_VALUES",editVmo:o,editPropertyName:t.propName}),function(t,n){const l={columnInfo:t.columnDef,gridId:e.id,vmo:n};i.a.publish(e.id+".cellStartEdit",l)}(t,o),x(),t.isElementInEdit=!0,c.isPropInEdit=!0,t.classList.add(s.a.CLASS_AW_IS_EDITING),te(t,o,c);let f=t.getElementsByClassName(s.a.CLASS_TABLE_CELL_TOP)[0];f&&t.removeChild(f);let g=c.autofocus;!function(e,t,n){const i=e.props[n.propName];i.autofocus=!0;let l=i.isArray?s.a.CLASS_TABLE_EDIT_CELL_ARRAY:s.a.CLASS_TABLE_EDIT_CELL_NON_ARRAY,o=d.a.createElement("div","aw-splm-tableEditCellTop",l),a=d.a.createElement("div","aw-jswidgets-tableEditContainer","aw-jswidgets-cellTop"),r=Object(q.d)("SplmTableCellEditor",{vmo:e,name:i.propertyName});if(Object(Y.d)(Object(K.jsx)(X.a,{children:r}),a),o.appendChild(a),j(o),ee.a.updateCellChangedClass(i,o.getElementsByClassName(s.a.CLASS_AW_JS_CELL_TOP)[0]),i.isArray&&m.gridOptions.popupContext&&m.gridOptions.popupContext.editArrayPopup){const e=n.getBoundingClientRect(),t={whenParentScrolls:"follow",innerClassName:s.a.CLASS_TABLE_EDIT_CELL_TOP_ARRAY,autoFocus:!1,parent:n,reference:n,overlapOnReference:!0,containerWidth:e.width,width:e.width,forceCloseOthers:!1},i=m.gridOptions.popupContext.editArrayPopup;i&&i.hide().then((()=>{i.show(t).then((e=>{I.popupRef=e}))}))}else n.insertBefore(o,n.childNodes[0])}(o,0,t),P(t);const E=function(n){if(n&&"scroll"===n.type&&t.prop&&!t.prop.isArray)return;let l=null;if(n&&"keydown"!==n.type&&(p=null,l=d.a.closestElement(n.target,".".concat(s.a.CLASS_CELL))),t.isElementInEdit){if(l!==t&&t.isElementInEdit){let l=b.default.getCtx("panelContext");if(l&&!0===l.addTypeRef){if(t.propName===c.propertyName&&t.parentElement.vmo.uid===c.parentUid)return;i.a.publish("completed",{source:"toolAndInfoPanel"})}if(((e,t)=>{if(e.hasLov&&t){const e=document.querySelector(".sw-lov-contentContainer");if(e&&e.contains(t.target))return!0}else if(e.type&&t&&("DATE"===e.type||"DATEARRAY"===e.type)){const e=document.querySelector(".flatpickr-calendar.open");if(e&&e.contains(t.target))return!0;const n=document.querySelector(".sw-popup-contentContainer .aw-base-scrollPanel");if(n&&n.contains(t.target))return!0}else if(e.type&&t&&"STRING"===e.type&&e.isRichText){const e=document.getElementsByClassName("ck-body-wrapper")[0];if(e&&e.contains(t.target))return!0}return!1})(c,n))return!0;B(),V(t),N(t,o,a,c),c.autofocus=g,c.isPropInEdit=!1,t.isSelected=!1,delete t.isDependantEdit,function(t,n,i,l){if(!d.a.isBulkEditing(e)&&d.a.isAutoSaveEnabled(e)&&t&&!T){t.stopPropagation(),t.preventDefault(),r.disableFillDown(n);const i=d.a.closestElement(t.target,".ui-grid-cell");let l,o;i&&(o=i.propName,l=d.a.getViewModelObjectByCellElement(i)),h=I.saveEdit([n]).then((()=>{if(h=null,i){let t=l&&l.alternateID||l.uid,n=d.a.getCellElementsByPropertyAndUid(e,o,t)[0];n&&n.click&&n.click()}else{let e=t.target;for(;!e.click;)e=e.parentElement;e.click()}}))}else d.a.isBulkEditing(e)||d.a.isAutoSaveEnabled(e)||(k(),W(n,i,l,!0))}(n,t,c,o),H(t,o)}}else B(),V(t)};B(),V(t);const L=!0;document.body.addEventListener("click",E,L);const A=l.getScrollCanvasElementFromTable(),_=l.getPinCanvasElementFromTable();A.removeEventListener("scroll",E,L),_.removeEventListener("scroll",E,L),A.addEventListener("scroll",E,L),_.addEventListener("scroll",E,L),((t,n,i,l)=>{C=o=>{if("Escape"===o.key)if(d.a.closestElement(o.target,"."+s.a.CLASS_CELL)===t&&t.isElementInEdit)o.stopPropagation(),z.a.resetUpdates(n),N(t,i,l,n),d.a.isBulkEditing(e)?H(t,i):(n.isPropInEdit=!1,W(t,n,i,!0),k(),V(t),t.focus());else{const e=Z(m);let t=S.a.getEditHandler(e);if(t)t.cancelEdits();else if(m.dataProvider.getEditConfiguration()){const e={data:m.declViewModel,ctx:b.default.ctx};m.dataProvider.cancelEdits(e,m.declViewModel)}else m.declViewModel.getEditConfiguration()&&m.declViewModel.cancelEdits()}},document.body.addEventListener("keydown",C,!0)})(t,c,o,a),((t,n)=>{v=t=>{if("Enter"===t.key&&!t.altKey&&!d.a.isBulkEditing(e)){const i=d.a.closestElement(t.target,"."+s.a.CLASS_CELL);i.prop&&i.prop.isArray?""===t.target.value&&(t.stopPropagation(),n(t),d.a.isBulkEditing(e)||i.focus()):i&&!(e=>{const t=e.getElementsByClassName("aw-jswidgets-popUpVisible"),n=e.getElementsByClassName("aw-jswidgets-expanded");return t.length+n.length>0})(i)&&(t.stopPropagation(),n(t),h?h.then((function(){i.focus()})):i.focus())}},t.addEventListener("keydown",v,!0)})(t,E),function(e){u=e}(E)},I.isPropertiesEditablePromise=function(e){let t;const n=Z(m);if(n){const i=S.a.getActiveEditHandler();i&&i!==S.a.getEditHandler(n)&&i.editInProgress()?t=new Promise((t=>{i.leaveConfirmation((()=>{S.a.setActiveEditHandlerContext(n),S.a.startEdit(e).then((()=>{t()}))}))})):(S.a.setActiveEditHandlerContext(n),t=S.a.startEdit(e))}else if(m.dataProvider.getEditConfiguration()){const n={data:m.declViewModel,ctx:b.default.ctx};t=m.dataProvider.startEdit(n,m.declViewModel,e)}else m.declViewModel.getEditConfiguration()&&(t=m.declViewModel.startEdit(e));return t||Promise.resolve(!1)};I.saveEdit=function(t){let n=null;const i=Z(m);if(i)n=S.a.saveEdits(i,true,d.a.isAutoSaveEnabled(e));else if(m.dataProvider.getEditConfiguration()){const e={data:m.declViewModel,ctx:b.default.ctx};n=m.dataProvider.saveEdits(e,m.declViewModel)}else m.declViewModel.getEditConfiguration()&&(n=m.declViewModel.saveEdits());return n?n.finally((function(){I.setCellEditingContext(!1);for(let e=0;e<t.length;e++)document.body.contains(t[e])&&I.updateEditStatusForCell(t[e]);I.clearPropIsEditableCache()})):Promise.resolve(!1)};const ne=function(){let t=Array.prototype.slice.call(e.getElementsByClassName(s.a.CLASS_TABLE_CELL_SELECTED_EDITABLE)),n=Array.prototype.slice.call(e.getElementsByClassName(s.a.CLASS_TABLE_CELL_SELECTED)),i=t.concat(n);for(let e=0;e<i.length;e++){i[e].classList.remove(s.a.CLASS_TABLE_CELL_SELECTED_EDITABLE),i[e].classList.remove(s.a.CLASS_TABLE_CELL_SELECTED);let t=null;t=l.getTableContainerElementFromTable(),t&&t.hasAttribute(w)&&t.removeAttribute(w)}},ie=function(t,n){if(f&&f.cell){let t=f.cell;t.isSelected=!1;const i=J(f.vmoId);!n&&i&&t.prop&&d.a.isPropEditEnabled(e)&&!d.a.isBulkEditing(e)&&(t.prop.isEditable=!1,i.props&&i.props[t.propName]&&(i.props[t.propName].isEditable=!1))}if(t){t.classList.add(s.a.CLASS_TABLE_CELL_SELECTED),t.isSelected=!0;let e=d.a.getViewModelObjectByCellElement(t),n=e.alternateID||e.uid;f={cell:t,vmoId:n};let i=null;i=l.getTableContainerElementFromTable(),i&&i.setAttribute(w,t.getAttribute("id"))}else f=null};I.clearPropIsEditableCache=function(e){const t=l.getContentCellElementsFromTable();o.a.forEach(t,(function(e){delete e.propIsEditableCache,e.hasAttribute(_)&&e.removeAttribute(_)})),ne();const n=f?f.cell:null;if(ie(null,e),n&&n.parentElement){const e={ctrlKey:!1,shiftKey:!1,type:"click"};I.onClickHandler(e,n,d.a.getViewModelObjectByCellElement(n))}};const le=function(t,n){ne(),ie(t);if(d.a.isPropEditEnabled(e)&&t.propName&&t.prop&&!0!==t.columnDef.isTreeNavigation)if(z.a.isModified(t.prop)&&void 0===t.propIsEditableCache&&!d.a.isAutoSaveEnabled(e)&&(t.propIsEditableCache=!0),"icon"===t.columnDef.name||!1===t.columnDef.modifiable||void 0!==t.propIsEditableCache)t.propIsEditableCache?(t.prop.isEditable=!0,n.props[t.propName].isEditable=!0,t.classList.add(s.a.CLASS_TABLE_CELL_SELECTED_EDITABLE),t.hasAttribute(_)&&t.removeAttribute(_)):!1===t.propIsEditableCache&&t.setAttribute(_,"true");else{const i=function(){return async function(t,n){h&&await h;let i=t.props[n.propName],l=[i.propertyName];i.lovApi&&i.lovApi.behaviorData&&"Interdependent"===i.lovApi.behaviorData.style&&(l=i.lovApi.behaviorData.dependendProps);let o={vmos:[t],propertyNames:l,autoSave:d.a.isAutoSaveEnabled(e)};return!1!==await I.isPropertiesEditablePromise(o)&&(i=t.props[n.propName],i&&i.isEditable&&!1!==i.isEnabled)}(n,t).then((function(e){t.propIsEditableCache=e,!1===t.propIsEditableCache?t.setAttribute(_,"true"):t.hasAttribute(_)&&t.removeAttribute(_),t.isSelected&&(e&&t.classList.add(s.a.CLASS_TABLE_CELL_SELECTED_EDITABLE),r.enableFillDown(t))})).then((function(){delete t.isCellEditablePromise,g=null}))};g?g.then((function(){ne(),ie(t),g=i(),t.isCellEditablePromise=g})):(g=i(),t.isCellEditablePromise=g)}else t.setAttribute(_,"true")};let oe=!1;const ae=function(e,t){i.a.publish(m.gridId+".plTable.cellNotEditable",{vmo:e,prop:t})};I.setCellEditingContext=function(t){if(t?m.dataProvider.cacheCollapse=t:m.dataProvider.restoreInitialCacheCollapseState(),m.controller.setDraggable(!t),!d.a.isAutoSaveEnabled(e)){const e=Z(m);if(e){const n=S.a.getEditHandler(e);n._editing=t,b.default.updateCtx("editInProgress",n._editing),S.a.setActiveEditHandlerContext(e),n.editStateChangeDispatcher&&n.editStateChangeDispatcher({type:"SET_EDIT_STATE_CHANGED",value:n._editing})}else m.dataProvider.getEditConfiguration()?(m.dataProvider._editing=t,b.default.updateCtx(m.dataProvider._appCtxEditInProgress,m.dataProvider._editing)):m.declViewModel.getEditConfiguration()&&(m.declViewModel._editing=t,b.default.updateCtx(m.declViewModel._internal.eventTopicEditInProgress,m.declViewModel._editing))}b.default.getCtx("autoSave")&&b.default.getCtx("autoSave.dbValue")||!e._tableInstance.gridOptions.forceAutoSave||!t||d.a.isCellEditing(e)||oe||(oe=!0,$(e)),d.a.setIsCellEditing(e,t)};let re=null;I.onClickHandler=async(t,n,i)=>{if(!d.a.isBulkEditing(e))return t.ctrlKey?(x(),ne(),ie(null),void(d.a.isCellHeaderSelectionEnabled(e)&&L.default.setCellHeaderSelection(null,e))):void(n.isSelected&&n.propIsEditableCache&&!n.isElementInEdit?function(e,t){ne(),e.prop.isEditable||(e.prop.isEditable=!0,t.props&&t.props[e.propName]&&(t.props[e.propName].isEditable=!0));const n=Z(m),i=S.a.getActiveEditHandler();n&&i&&i!==S.a.getEditHandler(n)&&i.editInProgress()?i.leaveConfirmation((()=>{S.a.setActiveEditHandlerContext(n),S.a.getEditHandler(n).reregisterLeaveHandler(),I.editCell(e,t),I.setCellEditingContext(!0)})):(I.editCell(e,t),I.setCellEditingContext(!0))}(n,i):n.isSelected&&!1===d.a.isPropEditEnabled(e)&&!re?(re=!0,Q(e)):n.isSelected&&n.isCellEditablePromise&&!n.isCellEditablePromiseResolving?async function(e,t){e.isCellEditablePromiseResolving=!0,await e.isCellEditablePromise,delete e.isCellEditablePromiseResolving,e.isSelected&&(e.propIsEditableCache?(p=e.prop,ne(),e.prop.isEditable||(e.prop.isEditable=!0,t.props&&t.props[e.propName]&&(t.props[e.propName].isEditable=!0)),I.editCell(e,t),I.setCellEditingContext(!0)):ae(t,e.prop))}(n,i):n.isSelected||t.shiftKey?t.shiftKey?(x(),ne(),ie(null)):!n.isCellEditablePromiseResolving&&function(e){return e&&e.isSelected&&e.prop&&!1===e.prop.isEditable}(n)&&ae(i,n.prop):(await le(n,i),r.enableFillDown(n),d.a.isCellHeaderSelectionEnabled(e)&&L.default.setCellHeaderSelection(n,e)))},I.addCellClickListener=function(t,n){t.onclick=function(e){e.target.closest(".aw-command, a.aw-splm-tablePropertyValueLinks")||I.onClickHandler(e,t,n)},t.oncontextmenu=function(i){d.a.isBulkEditing(e)||t.isSelected||le(t,n)}},I.removeAllCellSelection=function(){ne(),ie()};const se=function(t,n){let i=d.a.getCellElementsByPropertyAndUid(e,t.propertyName,n);for(let l=0;l<i.length;l++){let t=i[l],n=t.parentElement,o=t.children[0],a=ee.a.createElement(t.columnDef,n.vmo,e,n);d.a.isBulkEditing(e)&&a.classList.add(s.a.CLASS_AW_EDITABLE_CELL),t.replaceChild(a,o)}},de=function(e,t){e.uiValue=t.uiValue,e.dbValue=t.dbValue,e.valueUpdated=!0,z.a.updateViewModelProperty(e)},ce=function(t,n,i,l){(function(t){return!(!d.a.isPropEditEnabled(e)||!0===t.isTreeNavigation||"icon"===t.name||!1===t.modifiable)})(l)&&i.push(t)},ue=function(e,t,n){const i=e.props[t.propertyName];n&&i&&i.isPropertyModifiable&&i.editable&&(de(i,n),se(n,e.uid))};I.fillDownCompleteHandler=t=>{let n=m.dataProvider.viewModelCollection.loadedVMObjects,i=n.filter((function(e){return e.uid===t.source})),l=i[0]&&i[0].props[t.propertyName],o=[],a={},r=[];"up"!==t.direction&&(n=n.slice().reverse());let s=!1;for(let c of n){if(s||c.uid!==t.endTarget||(s=!0),!s)continue;if(c.uid===t.source)break;const n=d.a.getColumnDef(t.propertyName,m.dataProvider);if(d.a.isBulkEditing(e))ue(c,t,l);else{const i=d.a.getCellElementsByPropertyAndUid(e,t.propertyName,c.uid)[0];i&&(a[c.uid]=i),ce(c,0,o,n)}}if(!d.a.isBulkEditing(e)){T=!0;let n=[t.propertyName];(function(t,n,i){let l={vmos:n,propertyNames:i,autoSave:d.a.isAutoSaveEnabled(e)};return I.isPropertiesEditablePromise(l).then((function(e){for(let i of n){let n=t[i.uid];n&&(n.propIsEditableCache=!1!==e&&n.prop&&n.prop.isEditable,!1===n.propIsEditableCache&&n.setAttribute(_,"true"))}return Promise.resolve(e)}))})(a,o,n).then((n=>{!function(t,n,i,l,o,a){if(!1===t)return;let r=!1;for(let e=0;e<n.length;e++){let t=n[e];const s=t.props[i.propertyName];a&&s&&s.isPropertyModifiable&&s.editable&&(r=!0,l.push(o[t.uid]),de(s,a),se(a,t.uid))}r&&(d.a.isAutoSaveEnabled(e)?I.saveEdit(l):I.setCellEditingContext(!0))}(n,o,t,r,a,l),T=!1}))}},y.push(i.a.subscribe("".concat(m.dataProvider.name,".selectNone"),I.removeAllCellSelection)),y.push(i.a.subscribe("".concat(m.dataProvider.name,".selectAll"),I.removeAllCellSelection)),y.push(i.a.subscribe("".concat(m.dataProvider.name,".selectionChangeEvent"),(function(e){let t=e.selectedObjects;if(f&&f.vmoId){const e=J(f.vmoId);-1===t.indexOf(e)&&I.removeAllCellSelection()}})))},ne=n(964),ie=function(e,t,n,l){var a=this,r=e,c=n,u=c.dataProvider,p=c.gridOptions,m=c.messages,f=new A.a(e),h=n.keyboardService,g=null,E=[];c.menuService=a;const C=function(e,t){setTimeout((function(){const n=t&&d.a.isBulkEditing(r);e&&document.activeElement&&"BODY"===document.activeElement.tagName&&!n&&e.focus()}),150)};a.addGridMenu=function(){const e=m.gridMenu,t='<div class="aw-commands-svg"><button type="button" class="aw-commands-commandIconButton icon-override" tabindex="-1" title="'+e+'" aria-label="'+e+'" >'+ne.svgString+"</button></div>";let n=d.a.createElement("div","aw-splm-tableMenuButton");n.innerHTML=t;let i=n.querySelector("button");h.setOnFocusAndBlur(i),r.insertBefore(n,r.children[0]),function(){var e=r.getElementsByClassName("aw-splm-tableMenuButton")[0],t=function(t,n){l({type:"UPDATE_VALUES",isBulkEditing:c.isBulkEditing,dynamicRowHeightStatus:c.dynamicRowHeightStatus}),t.preventDefault();let i=p.popupContext.gridMenuPopup;if(i)if(a.gridMenuPopupRef)a.ensureTableMenuDismissed();else{const t={forceCloseOthers:!1,whenParentScrolls:"close",reference:e,placement:"bottom-end",hasArrow:!0,autoFocus:!0,innerClassName:"aw-popup-gridMenu",padding:{x:4,y:4},hooks:{whenClosed:()=>{a.gridMenuPopupRef=null,C(n)}}};i.show(t).then((e=>{a.gridMenuPopupRef=e}))}};e.addEventListener("click",t),e.addEventListener("keydown",(function(n){T.default.isValidKeyPress(n)&&t(n,e)}))}()};a.setContextSelectionHelper=function(e){g=e},a.contextSelectionHandler=function(e){if("a"===e.target.tagName.toLowerCase()&&""!==e.target.href)return;if(!0!==p.showContextMenu)return;e.preventDefault(),e.cancelBubble=!0;let t=d.a.closestElement(e.target,"."+s.a.CLASS_CELL),n=p.popupContext.contextMenuPopup;if(n){const i={whenParentScrolls:"close",resizeToClose:!0,targetEvent:e,reference:e.target,autoFocus:!0,forceCloseOthers:!1,hooks:{whenClosed:()=>{C(t,!0)}}};n.hide().then((()=>{n.show(i)}))}var i=e.currentTarget;let o=[i.vmo];if(l({type:"UPDATE_VALUES",contextVmo:o}),!i.classList.contains("aw-state-selected")&&!i.classList.contains("ui-grid-row-selected")){for(;r.getElementsByClassName("aw-state-selected").length>0;)r.getElementsByClassName("aw-state-selected")[0].classList.remove("aw-state-selected"),r.getElementsByClassName("ui-grid-row-selected")[0].classList.remove("ui-grid-row-selected");!function(e,t,n,i){var l=t.mode;t.setMode("single"),g.handleSelectionEvent(e,t,n,i),t.setMode(l)}(o,u.selectionModel,e)}};a.loadDefaultColumnMenus=function(){var e=function(e){for(var t=0,n=0;n<e.length;n++)e[n].index>t&&e[n].pinnedLeft&&(t=e[n].index);return t}(u.cols),t=p.addIconColumn?1:0;e>0&&(t=e),l&&l({type:"UPDATE_VALUES",defaultColumnPinIndex:t})},a.ensureAllTableMenusDismissed=function(){a.ensureColumnMenuDismissed(),a.ensureTableMenuDismissed()},a.ensureTableMenuDismissed=function(){a.gridMenuPopupRef&&p.popupContext.gridMenuPopup.hide(),a.gridMenuPopupRef=null},a.ensureColumnMenuDismissed=function(){a.columnMenuPopupRef&&p.popupContext.columnMenuPopup.hide(),a.columnMenuPopupRef=null},a.createColumnMenuElement=function(){var e=document.createElement("div");e.id=r.id+"_menu",e.classList.add(s.a.CLASS_TABLE_MENU),e.classList.add(s.a.CLASS_TABLE_MENU_POPUP),e.setAttribute("role","menu");var t=document.createElement("div");return t.id=r.id+"_menuContainer",t.classList.add(s.a.CLASS_TABLE_MENU_CONTAINER),t.classList.add("afx-content-background"),t.classList.add("aw-widgets-groupCommandStack"),t.appendChild(e),t},a.menuElements=[];return a.columnMenuHandler=function(e,t){var c=e.columnDef;return function(t){if(function(e){return d.a.isBulkEditing(r)||!1===e.enableColumnMenu||d.a.isCellEditing(r)}(c))return;t.preventDefault();d.a.closestElement(r,"."+s.a.CLASS_TABLE_MENU_CONTAINER);var u;(u=t.currentTarget)&&u.dataset&&u.dataset.popupId&&"null"!==u.dataset.popupId&&a.columnMenuPopupRef?a.ensureColumnMenuDismissed():(!function(e,t,n,r){const s=()=>{const t=e,{width:n,height:i}=t.getBoundingClientRect();return{x:-n/2,y:-i/2}};let d=p.popupContext.columnMenuPopup;if(d){const t={whenParentScrolls:"close",ignoreReferenceClick:!0,ignoreClicksFrom:[".flatpickr-calendar"],reference:e,placement:"right",adaptiveShift:!0,autoFocus:!0,selectedElementCSS:".aw-state-selected",innerClassName:"sw-table-menu-tooltip",hasArrow:!0,forceCloseOthers:!1,padding:s(),width:"185px",arrowOptions:{alignment:"center",offset:5,shift:15},hooks:{whenClosed:()=>{b.default.unRegisterCtx("columnMenuContext"),E.length&&(o.a.forEach(E,(function(e){i.a.unsubscribe(e)})),E.length=0),C(r)}}};b.default.registerCtx("columnMenuContext",{}),d.hide().then((()=>{d.show(t).then((e=>{a.columnMenuPopupRef=e,l({type:"UPDATE_VALUES",popupRef:e})}))}))}}(t.currentTarget,0,0,e.parentElement),n.columnMenuLoaded=!0)}},a.setFilterDisability=function(e){var t=f.queryTableMenu(r.id).getElement().getElementsByClassName("filter-button")[0];t&&(e?t.classList.add("disabled"):t.classList.remove("disabled"))},a};var le={applyColumnResizeHandler:function(e,t,n){var i=-1,l=-1,o=-1,a=t.parentElement.children[1].columnDef,r=a.index;h.enableDragging(t),t.addEventListener(s.a.EVENT_ON_ELEM_DRAG_START,(function(t){var d=t.detail;i=d.pageX,o=0,n.ensureAllTableMenusDismissed();var c=!0===a.pinnedLeft?e.getPinCanvasScrollLeftPosition():e.getScrollCanvasScrollLeftPosition();l=e.getTotalColumnWidth(r)-(s.a.WIDTH_COLUMN_SPLITTER-d.offsetX)+c,e.showColumnGrip(l)})),t.addEventListener(s.a.EVENT_ON_ELEM_DRAG,(function(t){var n=t.detail.pageX-i;e.isColumnWidthChangeValid(r,n)&&(o=n,e.setColumnGripPosition(l+o))})),t.addEventListener(s.a.EVENT_ON_ELEM_DRAG_END,(function(){e.hideColumnGrip(),e.updateColumnWidth(r,o)})),t.addEventListener("dblclick",(function(){e.fitColumnWidth(r)}))}};let oe={};oe={subscribeMouseEvent:function(e,t,n){o.a.forEach(Object.keys(t),(i=>{if(e.default.on?e.default.on(i,n):e.default.addEventListener(i,n),E.default.isMobileOS&&e.mobile){var l=!1;o.a.forEach(["touchmove","touchcancel"],(function(t){e.mobile["on".concat(t)]=function(){l=!0}})),e.mobile["on".concat(t[i])]=function(e){if(!l){e.preventDefault();var t=document.createEvent("MouseEvent");t.initMouseEvent(i,!0,!1,window,1,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,1,null),e.target.dispatchEvent(t)}l=!1}}}))}};var ae=oe,re=function(e,t,n,i){var l=this,a=e,r=new A.a(e),c=d.a.getTableMenuService(e),u=t,p=e._tableInstance,m=p.keyboardService,f=null,h=0,g=0,E=0,C=!1,v={start:null,end:null};const S="aria-colindex",_="aria-rowindex",w="aria-rowcount",y="data-indexnumber";var I=function(e){if("string"===typeof e){if("ASC"===(e=e.toUpperCase()))return s.a.CLASS_ICON_SORT_ASC;if("DESC"===e)return s.a.CLASS_ICON_SORT_DESC;if(""===e)return s.a.CLASS_ICON_SORTABLE}return s.a.CLASS_ICON_NON_SORTABLE};l.setPinContext=function(e){if(void 0!==e&&null!==e)h=e+1;else{var t=-1;o.a.forEach(u,(function(e,n){!0===e.pinnedLeft&&(t=n)})),0===h&&(h=t+1)}g=0,E=0;for(var n=0;n<u.length;n++)n<h?(u[n].pinnedLeft=!0,u[n].startPosition=g,g+=u[n].drawnWidth):(u[n].pinnedLeft=!1,u[n].startPosition=E,E+=u[n].drawnWidth)},l.getPinColumnCount=function(){return h},l.initializeColumnWidths=function(){o.a.forEach(u,(function(e){var t=0;"icon"===e.name?(t=d.a.getTableRowHeight(p.gridOptions,s.a.WIDTH_DEFAULT_ICON_COLUMN_WIDTH))!==s.a.WIDTH_DEFAULT_ICON_COLUMN_WIDTH&&(t+=8):e.width>0?t=e.width:(t=e.minWidth>0?e.minWidth:s.a.WIDTH_DEFAULT_MINIMUM_WIDTH,t=Math.floor(1.25*t),t=e.maxWidth>0&&e.maxWidth<t?e.maxWidth:t),e.width=t,e.drawnWidth=t}))},l.setAriaColCount=function(e,t){if(void 0!==t){var n=t.filter((e=>void 0!==e.visible&&e.visible)).length;e.setAttribute("aria-colcount",n)}else e.setAttribute("aria-colcount",-1)},l.setAriaRowCount=function(e){if(!0===p.gridOptions.transpose){var t=p.dataProvider.cols.filter((e=>void 0!==e.visible&&e.visible));e.setAttribute(w,t.length+1)}else p.dataProvider.json&&p.dataProvider.json.firstPage&&p.dataProvider.action&&p.dataProvider.action.inputData.searchInput?e.setAttribute(w,p.dataProvider.json.firstPage.length+1):p.dataProvider.viewModelCollection&&p.dataProvider.viewModelCollection.loadedVMObjects?e.setAttribute(w,p.dataProvider.viewModelCollection.loadedVMObjects.length+1):e.setAttribute(w,-1)},l.setAriaLabelledAndDescribedBy=function(e,t){e&&(e.getAttribute("labelled-by")&&t.setAttribute("aria-labelledby",e.getAttribute("labelled-by")),e.getAttribute("described-by")&&t.setAttribute("aria-describedby",e.getAttribute("described-by")))};var R=function(e,t){var n=t>0?t:1;e.style.minWidth=n+"px"},x=function(e){var t=r.getPinHeaderElementFromTable(),n=r.getPinContentElementFromTable();t.style.minWidth=String(e)+"px",R(n,e)},D=function(e){var t=r.getScrollHeaderElementFromTable(),n=r.getScrollContentElementFromTable();t.style.minWidth=String(e)+"px";var i=parseInt(e,10)-parseInt(n.style.paddingLeft,10);R(n,i)},N=function(e,t){e.style.minWidth=String(t)+"px"},P=function(){var e=0,t=r.getScrollContentRowElementsFromTable();return t&&(e=t.length),e},M=function(e,t){e.classList.add(s.a.CLASS_HEADER_CELL_FILTER_APPLIED_ICON),e.title=t.summaryText};const O=function(t,n,o,r){let u=document.createElement("div");u.classList.add(s.a.CLASS_HEADER_CELL),u.tabIndex=-1,m.setOnFocusAndBlur(u),u.setAttribute("role","columnheader"),u.setAttribute(S,n+1);let f=document.createElement("div");f.classList.add(s.a.CLASS_COLUMN_DEF),f.classList.add(s.a.CLASS_CELL_CONTENTS),f.classList.add(s.a.CLASS_HEADER_CLEARFIX),f.classList.add(s.a.CLASS_HEADER_CELL_CONTENT),f.style.width=String(t.drawnWidth)+"px",f.columnDef=t,!0===p.gridOptions.transpose&&(f.onclick=L.default.selectionChanged(a)),!1!==t.headerTooltip&&!0===t.headerTooltip&&(f.title=t.displayName),u.appendChild(f);let g=document.createElement("div");g.classList.add(s.a.CLASS_HEADER_CELL_SPLITTER),t.enableColumnResizing&&(u.insertBefore(g,f),le.applyColumnResizeHandler(l,g,c));let E=ee.a.createHeaderElement(t,e);E.classList.add(s.a.CLASS_HEADER_CELL_INNER),f.appendChild(E);let C,v=document.createElement("i");v.classList.add(s.a.CLASS_HEADER_CELL_SORT_ICON),v.classList.add(I(o)),v.title="",f.appendChild(v),null!==o&&""!==o&&(C=o.toLowerCase().includes("desc")?"descending":"ascending",u.setAttribute("aria-sort",C));let b=document.createElement("i");if(b.classList.add(s.a.CLASS_HEADER_CELL_FILTER_ICON),t.filter&&t.filter.isFilterApplied?M(b,t.filter):b.title="",f.appendChild(b),!0===t.enableColumnMenu){const e=e=>{if(i){let e=-1;if(p.columnProvider.sortCriteria&&p.columnProvider.sortCriteria.length>0){var t=p.columnProvider.sortCriteria[0];e=l.getIdxFromColumnName(t.fieldName)}i({type:"UPDATE_VALUES",columnDef:f.columnDef,currentColumnIndex:e,pinColumnCount:h,isBulkEditing:d.a.isBulkEditing(a)})}c.columnMenuHandler(f,i)(e)};f.classList.add(s.a.CLASS_COLUMN_MENU_ENABLED),f.setAttribute("role","button"),f.setAttribute("aria-haspopup","true"),f.addEventListener("click",(t=>{e(t)})),u.addEventListener("keydown",(function(t){T.default.isValidKeyPress(t)&&e(t)}))}return t.startPosition=r,u};var H=function(e,t,n){let i=u,l=0;t<n&&(e.setAttribute("role","row"),e.setAttribute(_,1));for(let a=t;a<n;a++){let t=i[a],n=null;!1!==p.gridOptions.enableSorting&&t.enableSorting&&(n=t.sort&&t.sort.direction?t.sort.direction:"");const o=O(t,a,n,l);l+=t.drawnWidth,e.appendChild(o)}let o=d.a.getTableHeaderHeight(p.gridOptions,s.a.HEIGHT_HEADER)+"px";e.style.height=o,e.style.minHeight=o,e.style.maxHeight=o,e.style.minWidth=String(l)+"px"},F=function(){for(var e=r.getTableContainerElementFromTable().getElementsByClassName("ui-grid-row"),t=0;t<e.length;t++)e[t].classList.remove(s.a.CLASS_ROW_HOVER)},B=function(){requestAnimationFrame((function(){F()}))};const V=function(t,i,l,o){const a=d.a.createElement("div",s.a.CLASS_CELL);a.tabIndex=-1,p.dynamicRowHeightStatus&&a.classList.add(s.a.CLASS_CELL_DYNAMIC),t.colSelected&&(a.classList.add(s.a.CLASS_COLUMN_SELECTED),a.classList.add(s.a.CLASS_CELL_SELECTED));const r="compact"===b.default.ctx.layout?s.a.HEIGHT_COMPACT_ROW:s.a.HEIGHT_ROW,c=d.a.getTableRowHeight(p.gridOptions,r);a.style.width="".concat(l,"px"),a.style.height=p.dynamicRowHeightStatus?"auto":c+"px",a.appendChild(ee.a.createElement(t,i,e,o)),"transposedColumnProperty"===t.field?a.setAttribute("role","rowheader"):a.setAttribute("role","gridcell"),a.propName=t.field,a.columnDef=t,i.props&&(a.prop=i.props[t.field]);const u=a.getElementsByClassName("aw-splm-tableCellTop");u.length>0&&d.a.addCSSClassForRowHeight(u[0],p.gridOptions);const f=document.createAttribute(y);return f.value=t.index,t.index>=h&&(f.value=t.index-h),a.setAttributeNode(f),a.setAttribute(S,t.index+1),n.addCellClickListener(a,i),m.setOnFocusAndBlur(a),m.setupInternalCellNavigation(a),a},W=function(e,t,n){let i=d.a.createElement("div",s.a.CLASS_CELL_CHECKBOX),l=d.a.createElement("a","aw-commands-cellCommandCommon"),o=d.a.createElement("span","sw-checkbox-val"),a=d.a.createElement("input",s.a.CLASS_CELL_CHECKBOX_BUTTON),r=document.createAttribute("type");r.value="checkbox",a.setAttributeNode(r);let c=n.filter((function(e){return!(!e.isTableCommand&&!e.isTreeNavigation)}))[0],u=c&&(c.propertyName||c.name);if(u&&e.vmo&&e.vmo.props&&e.vmo.props[u]){let t=e.vmo.props[u].uiValue,n=document.createAttribute("aria-label");n.value=t,a.setAttributeNode(n)}let p=document.createElement("span");p.classList.add("sw-checkbox-pseudo"),o.appendChild(a),o.appendChild(p),l.appendChild(o),i.appendChild(l),e.appendChild(i)},k=function(e,t,n,i){const l=u,m=d.a.createElement("div",s.a.CLASS_ROW,s.a.CLASS_UI_GRID_ROW,s.a.CLASS_ROW_ICON);let f=0;m.vmo=e,n<=i&&m.setAttribute("role","row"),function(e,t){!0===p.gridOptions.useTree&&(!1===t.isLeaf&&(!0===t.isExpanded?e.setAttribute("aria-expanded","true"):e.setAttribute("aria-expanded","false")),e.setAttribute("aria-level",t.levelNdx+1))}(m,e);let h={default:m,mobile:m};ae.subscribeMouseEvent(h,{click:"touchend"},L.default.selectionChanged(a)),m.oncontextmenu=c.contextSelectionHandler,m.draggable=!0,function(e){e.addEventListener("mouseenter",(function(e){const t=e.currentTarget;requestAnimationFrame((function(){F();const e=d.a.getIndexInParent(t),n=r.getScrollContentRowElementFromTable(e),i=r.getPinContentRowElementFromTable(e);n.classList.add(s.a.CLASS_ROW_HOVER),i.classList.add(s.a.CLASS_ROW_HOVER)}))}))}(m),e.rowStatus&&"ADDED"===e.rowStatus?m.classList.add("aw-jswidgets-change"):e.rowStatus&&"REMOVED"===e.rowStatus&&m.classList.add("aw-jswidgets-oldText");let g=o.a.sortBy(l,(function(e){return e.index}));o.a.forEach(g,(function(e){m.vmo.props&&m.vmo.props[e.field]&&(m.vmo.props[e.field].renderingHint=e.renderingHint)}));for(let o=n;o<=i;o++){const t=g[o];let n=null,i=t.drawnWidth;const l=p.showCheckBox;0===o&&l&&W(m,0,g),n=V(t,e,i,m),f+=i,m.appendChild(n)}return m.style.minWidth=String(f)+"px",m.style.minHeight=String(t)+"px",m},U=function(e){e.classList.remove(s.a.CLASS_HEADER_CELL_FILTER_APPLIED_ICON),e.title=""};l.updateScrollColumnsInView=function(e,t){var n=r.getScrollHeaderElementFromTable().children,i=null,l=null,o=n.length;if(null!==t&&void 0!==t&&0!==t){for(var a=0;a<o;a++){var d=n[a].getElementsByClassName(s.a.CLASS_COLUMN_DEF)[0].columnDef.startPosition;d<=e&&(i=a),d<=e+t&&(l=a)}v={start:i=i-3<0?0:i-3,end:l=l+3>o-1?o-1:l+3}}else v={start:0,end:o-1}},l.updateVisibleCells=function(e){const t=v.start,i=v.end;e=e.childNodes;const l=r.getScrollHeaderElementFromTable(),o=r.getScrollContentElementFromTable(),a=l.children;let c=0;for(let n=t;n<a.length;n++){const e=a[n].getElementsByClassName(s.a.CLASS_COLUMN_DEF)[0].columnDef;null!==t&&(c+=e.drawnWidth)}let p=null;const m=l.style.minWidth;if(t>0){const e=a[t-1].getElementsByClassName(s.a.CLASS_COLUMN_DEF)[0].columnDef;p=e.startPosition+e.drawnWidth+"px"}else p="0px";o.style.paddingLeft=p;const f=parseInt(m,10)-parseInt(p,10);R(o,f);const g=e;for(let r=0;r<g.length;r++){const e=g[r].children;if(0===e.length)continue;const l=g[r];l.style.minWidth=c+"px";const o=e[0].columnDef.index,a=e[e.length-1].columnDef.index,s=t+h,p=i+h;for(let t=e.length-1;t>=0;t--){const n=e[t],i=n.columnDef.index;(i<s||i>p)&&(d.a.destroyChildElements(n),n.parentElement.removeChild(n))}for(let t=o-1;t>=s;t--){const e=V(u[t],l.vmo,u[t].drawnWidth,l);l.insertBefore(e,l.children[0]),n.updateEditStatusForCell(e)}for(let t=a+1;t<=p;t++){const e=V(u[t],l.vmo,u[t].drawnWidth,l);l.appendChild(e),n.updateEditStatusForCell(e)}}};const j=function(e){e.classList.remove(s.a.CLASS_ICON_SORT_ASC),e.classList.remove(s.a.CLASS_ICON_SORT_DESC),e.classList.remove(s.a.CLASS_ICON_NON_SORTABLE),e.classList.remove(s.a.CLASS_ICON_SORTABLE)};l.getColumnMinWidth=function(e){return u[e].minWidth},l.getColumnMaxWidth=function(e){return u[e].maxWidth},l.getColumnWidth=function(e){return u[e].drawnWidth};const G=function(){let e=0,t=0;for(let n=0;n<u.length;n++)n<h?(u[n].startPosition=e,e+=u[n].drawnWidth):(u[n].startPosition=t,t+=u[n].drawnWidth)};l.updateColumnWidth=function(e,t){let n=l.getColumnWidth(e)+t;!function(e,t){r.getHeaderCellElementFromTable(e).style.width=String(t)+"px"}(e,n),function(e,t){for(var n=P(),i=0;i<n;i++){var o=r.getContentCellFromTable(i,e),a=l.getColumnWidth(e);if(e<h){var s=r.getPinContentRowElementFromTable(i);N(s,g+t-a)}else{var d=r.getScrollContentRowElementFromTable(i);N(d,E+t-a)}o.style.width=String(t)+"px"}}(e,n),e<h?(x(g+=t),r.getScrollContainerElementFromTable().style.marginLeft=String(g)+"px"):D(E+=t),0!==t&&(u[e].drawnWidth=n,p.tableInstanceCallbacks.columnsResized({name:u[e].name,delta:t})),G();let i=r.getScrollCanvasElementFromTable();l.updateScrollColumnsInView(i.scrollLeft,i.offsetWidth),0!==t&&l.updateVisibleCells(r.getScrollContentElementFromTable())},l.updateFilterIcon=function(e){for(var t=r.getHeaderCellElementsFromTable(),n=0;n<t.length;n++){var i=t[n].getElementsByClassName(s.a.CLASS_COLUMN_DEF)[0].columnDef,l=t[n].getElementsByClassName(s.a.CLASS_HEADER_CELL_FILTER_ICON)[0];if(i&&i.filter&&l&&i.field===e){i.filter.isFilterApplied?M(l,i.filter):U(l);break}}},l.updateAllFilterIcons=function(){for(var e=r.getHeaderCellElementsFromTable(),t=0;t<e.length;t++){var n=e[t].getElementsByClassName(s.a.CLASS_COLUMN_DEF)[0].columnDef,i=e[t].getElementsByClassName(s.a.CLASS_HEADER_CELL_FILTER_ICON)[0];n&&n.filter&&i&&(n.filter.isFilterApplied?M(i,n.filter):U(i))}},l.fitColumnWidth=function(e){var t=u[e].isTreeNavigation,n=r.queryRowColumnCellElementsFromTable(e),i=0,o=r.getHeaderCellElementFromTable(e).getElementsByClassName(s.a.CLASS_HEADER_CELL_INNER)[0];i=d.a.getElementTextWidth(o);var a=p.gridOptions.isFilteringEnabled,c=p.gridOptions.enableSorting;if((a||c)&&(i+=s.a.WIDTH_MINIMUM_EXTRA_SPACE),n.forEach((function(e){var n;if(t)n=d.a.getElementTextWidth(e),i=n>i?n:i;else{var l=e.getElementsByClassName(s.a.CLASS_WIDGET_TABLE_CELL_TEXT);0===l.length&&(l=e.getElementsByClassName(s.a.CLASS_WIDGET_TABLE_PROPERTY_VALUE_LINKS));for(var o=0;o<l.length;o++)n=d.a.getElementTextWidth(l[o]),i=n>i?n:i}})),i>0){var m=l.getColumnWidth(e),f=l.getValidColumnWidth(e,i);m!==f&&l.updateColumnWidth(e,f-m)}},l.updateColumnVisibility=function(e){var t=l.getIdxFromColumnName(e),n=r.getHeaderCellElementFromTable(t);n&&n.parentElement&&n.parentElement.removeChild(n);for(var i=P(),a=0;a<i;a++){var s=r.getContentCellFromTable(a,t);s&&s.parentElement&&s.parentElement.removeChild(s)}u[t].visible=!1,u.splice(t,1),o.a.forEach(u,(function(e,t){e.index=t})),l.resetColumnDefs(u);var d=r.getScrollCanvasElementFromTable();l.updateScrollColumnsInView(d.scrollLeft),l.updateVisibleCells(r.getScrollContentElementFromTable())};l.pinToColumn=function(e){var t=r.getScrollCanvasElementFromTable();l.updateScrollColumnsInView(t.scrollLeft),l.updateVisibleCells(r.getScrollContentElementFromTable()),function(e){var t=e+1,n=h,i=r.getHeaderCellElementsFromTable(),o=document.createDocumentFragment(),a=0;if(n<t){for(var s=n;s<t;s++)o.appendChild(i[n]),a+=l.getColumnWidth(s);r.queryPinContainerFromTable().toHeader().getElement().appendChild(o),x(g+a),D(E-a),r.getScrollContainerElementFromTable().style.marginLeft=String(g+a)+"px"}else if(n>t){for(var d=t;d<n;d++)o.appendChild(i[t]),a+=l.getColumnWidth(d);var c=r.queryScrollContainerFromTable().toHeader().getElement();c.insertBefore(o,c.childNodes[0]),x(g-a),D(E+a),r.getScrollContainerElementFromTable().style.marginLeft=String(g-a)+"px"}}(e),function(e){var t=e+1,n=h,i=document.createDocumentFragment(),o=r.queryPinContainerFromTable().getContentRowElements(),a=r.queryScrollContainerFromTable().getContentRowElements(),s=o.length,d=0;if(n<t)for(var c=0;c<s;c++){d=0;for(var u=n;u<t;u++)i.appendChild(a[c].children[0]),d+=l.getColumnWidth(u);o[c].appendChild(i),N(o[c],g+d),N(a[c],E-d)}else if(n>t)for(var p=0;p<s;p++){d=0;for(var m=t;m<n;m++)i.appendChild(o[p].children[t]),d+=l.getColumnWidth(m);a[p].insertBefore(i,a[p].childNodes[0]),N(o[p],g-d),N(a[p],E+d)}}(e),l.setPinContext(e);let n=u[e],i=r.getPinCanvasElementFromTable();i.scrollLeft=n.startPosition;let o=new A.a(a);d.a.syncHeader(o,!0,i.scrollLeft),function(){for(var e=r.getContentCellElementsFromTable(),t=0;t<e.length;t++){var n=e[t],i=n.columnDef,l=document.createAttribute(y);l.value=i.index,i.index>=h&&(l.value=i.index-h),n.setAttributeNode(l),G()}}(),l.updateScrollColumnsInView(t.scrollLeft,t.offsetWidth),l.updateVisibleCells(r.getScrollContentElementFromTable())},l.resetFreezeScroll=function(e){let t=0;if(u&&u.length)for(var n=0;n<u.length;n++)u[n].field===e&&(t=u[n].startPosition);let i=t;r.getScrollCanvasElementFromTable().scrollLeft=i};l.getColumnDefs=function(){return u},l.resetColumnDefs=function(e){var t=function(e,t){var n;if(o.a.isArray(t)&&o.a.isArray(e))for(var i=t.length-1;i>=0;i--){for(var l=0;l<e.length;l++)if(t[i].name&&(t[i].name===e[l].name||t[i].name===e[l].field)){n=e[l].index;break}if(n)break}return n}(e,function(){var e=[];if(u&&u.length)for(var t=0;t<u.length;t++)!0===u[t].pinnedLeft&&e.push(u[t]);return e}());u=e,l.initializeColumnWidths(),l.setPinContext(t);var n=r.getPinContainerElementFromTable(),i=r.getPinHeaderElementFromTable(),a=r.getPinContentElementFromTable();i.innerHTML="",H(i,0,h),n.replaceChild(i,n.children[0]),R(a,parseInt(i.style.minWidth,10));var s=r.getScrollContainerElementFromTable(),d=r.getScrollHeaderElementFromTable(),c=r.getScrollContentElementFromTable();d.innerHTML="",H(d,h,u.length);var p=parseInt(d.style.minWidth,10)-parseInt(c.style.paddingLeft,10);R(c,p),0===s.children.length&&s.appendChild(d),l.updateColumnWidth(0,0),l.setAriaColCount(r.getTableContainerElementFromTable(),e)},l.isColumnWidthChangeValid=function(e,t){var n=l.getColumnWidth(e)+t;return l.getValidColumnWidth(e,n)===n},l.getValidColumnWidth=function(e,t){var n=l.getColumnMaxWidth(e),i=l.getColumnMinWidth(e);return(i=i>s.a.WIDTH_ALLOWED_MINIMUM_WIDTH?i:s.a.WIDTH_ALLOWED_MINIMUM_WIDTH)&&t<i?t=i:n&&t>n&&(t=n),t},l.isColumnSplitterDraggable=function(e){return!1!==u[e].enableColumnResizing},l.getTotalColumnWidth=function(e){for(var t=0,n=e+1,i=0;i<n;i++)t+=l.getColumnWidth(i);return t},l.getIdxFromColumnName=function(e){for(var t=0;t<u.length;t++)if(u[t].field===e||u[t].name===e)return t;return-1},l.setHeaderCellSortDirection=function(e,t,n){var i,l=null,o=null;null!==n&&""!==n&&(o=n.toLowerCase().includes("desc")?"descending":"ascending"),e>-1&&(i=r.getHeaderCellSortIconElementFromTable(e),j(i),i.classList.add(I("")),null!==(l=r.getHeaderCellElementFromTable(e))&&l.parentElement.hasAttribute("aria-sort")&&l.parentElement.removeAttribute("aria-sort")),i=r.getHeaderCellSortIconElementFromTable(t),j(i),i.classList.add(I(n)),null!==(l=r.getHeaderCellElementFromTable(t))&&null!==o&&l.parentElement.setAttribute("aria-sort",o)},l.getScrollCanvasScrollLeftPosition=function(){return-1*r.getScrollCanvasElementFromTable().scrollLeft},l.getPinCanvasScrollLeftPosition=function(){return-1*r.getPinCanvasElementFromTable().scrollLeft};const z=function(e,t,n,i,o,a){let r=document.createDocumentFragment(),d=document.createDocumentFragment();for(let c=0;c<e.length;c++){let m=e[c];const f=c+t,g=document.createAttribute(y);g.value=f;let E=null,C=null;a?(E=k(m,n,i,o),E.classList.add(s.a.CLASS_PINNED_ROW)):(null!==v.start&&null!==v.end&&(i=v.start+h,o=v.end+h),E=k(m,n,i,o),p.dynamicRowHeightStatus&&(C=k(m,n,i,u.length-1),C.setAttributeNode(g.cloneNode()))),E.setAttributeNode(g),E.children.length>0&&E.setAttribute(_,f+2);let b,L=E.childNodes;for(let e=0;e<L.length;e++)L[e].hasAttribute(S)&&(b=p.gridId+"_row"+E.getAttribute(_)+"_col"+L[e].getAttribute(S),L[e].setAttribute("id",b));r.appendChild(E),p.dynamicRowHeightStatus&&C&&d.appendChild(C),!0!==a&&null!==v.start&&null!==v.end&&l.updateVisibleCells(r)}return p.dynamicRowHeightStatus&&function(e,t,n){let i=document.createElement("div");i.style.position="absolute",i.style.visibility="hidden",i.style.height="auto",i.style.width="auto";const l=t.childNodes.length?t:e.cloneNode(!0);i.appendChild(l),document.body.appendChild(i);const o=i.childNodes,a=e.childNodes,r=n*s.a.MAX_ROW_HEIGHT_ROWS;for(let d=0;d<o.length;d++){const e=o[d],t=a[d].vmo;let i=0;const l=e.childNodes;for(let o=0;o<l.length;o++){const e=l[o];if(!e.childNodes[0]||!e.childNodes[0].classList.contains(s.a.CLASS_SPLM_TABLE_ICON_CELL))if(e.childNodes[0]&&e.childNodes[0].classList.contains(s.a.CLASS_AW_TREE_COMMAND_CELL)){const t=e.getElementsByClassName(s.a.CLASS_WIDGET_TABLE_CELL_TEXT)[0];if(t){const e=t.offsetHeight+15;i=e>i?e:i}else i=n>i?n:i}else{const t=e.offsetHeight+11;i=t>i?t:i}}i=Math.min(Math.max(i,n),r),t.rowHeight=!t.rowHeight||i>t.rowHeight?i:t.rowHeight;const c=a[d].getElementsByClassName(s.a.CLASS_WIDGET_TABLE_CELL_TEXT_DYNAMIC);for(let n=0;n<c.length;n++)c[n].style.maxHeight=String(t.rowHeight)+"px"}document.body.removeChild(i)}(r,d,n),r};l.constructContentElement=function(e,t,n,i){if(!0===i){var l=r.getPinHeaderElementFromTable();return!0===p.showCheckBox?C||(C=!0,g+=32,l.lastChild.style.width=l.lastChild.clientWidth+32+"px",r.getScrollContainerElementFromTable().style.marginLeft=String(g)+"px"):!p.showCheckBox&&C&&(C=!1,g-=32,l.lastChild.style.width="",r.getScrollContainerElementFromTable().style.marginLeft=String(g)+"px"),z(e,t,n,0,h-1,i)}return z(e,t,n,h,u.length-1,i)};var q=function(e,t,n){var i=e.getElement(),l=e.getContentRowElements(),o=t||l.length-1,a=n||0;if(l&&l.length>0)for(;o>=a;o--){var r=l[o].getElementsByClassName(s.a.CLASS_TABLE_EDIT_CELL_TOP)[0]||l[o].getElementsByClassName(s.a.CLASS_TABLE_EDIT_CELL_TOP_ARRAY)[0];void 0!==r&&void 0!==r.parentElement.prop&&(r.parentElement.prop.isEditing=!1),d.a.cleanupComponents(l[o]),i.removeChild(l[o])}};return l.removeContentElement=function(e,t){q(r.queryPinContentFromTable(),e,t),q(r.queryScrollContentFromTable(),e,t)},l.clearScrollContents=function(){r.getScrollContentElementFromTable().innerHTML=""},l.setSelectable=function(e){e?a.classList.add(s.a.CLASS_SELECTION_ENABLED):a.classList.remove(s.a.CLASS_SELECTION_ENABLED)},l.setDraggable=function(e){for(var t=a.getElementsByClassName(s.a.CLASS_ROW),n=0;n<t.length;n++)t[n].draggable=e},l.showColumnGrip=function(e){l.setColumnGripPosition(e),f.style.removeProperty("display")},l.setColumnGripPosition=function(e){f.style.marginLeft=String(e-30)+"px"},l.hideColumnGrip=function(){f.style.display="none"},function(){var e=u,t=document.createElement("div");t.classList.add(s.a.CLASS_TABLE_CONTAINER),t.tabIndex=0,!0===p.gridOptions.useTree?t.setAttribute("role","treegrid"):t.setAttribute("role","grid"),"multiple"===p.dataProvider.selectionModel.mode?t.setAttribute("aria-multiselectable","true"):t.setAttribute("aria-multiselectable","false"),!0===p.gridOptions.enableCellHeaderSelection&&t.classList.add(s.a.CLASS_HEADER_SELECTION_ENABLED),l.setAriaRowCount(t),l.setAriaColCount(t,p.dataProvider.cols),a.appendChild(t),l.initializeColumnWidths(),l.setPinContext(),t.appendChild(function(){(f=document.createElement("div")).classList.add(s.a.CLASS_COLUMN_RESIZE_GRIP),f.style.position="absolute",f.style.height="100%";var e=document.createElement("div");return e.style.borderLeft="1px solid",e.style.marginLeft="30px",e.style.height="100%",f.appendChild(e),f.style.zIndex="1000",f.style.cursor="col-resize",f.style.outline="20px transparent",f.style.width="60px",f.style.display="none",f}());var n=document.createElement("div");n.classList.add(s.a.CLASS_PIN_CONTAINER),n.classList.add(s.a.CLASS_PIN_CONTAINER_LEFT),!0===p.gridOptions.transpose&&n.classList.add(s.a.CLASS_COMPARE_CONTAINER);var i=document.createElement("div");i.classList.add(s.a.CLASS_HEADER_ROW),H(i,0,h),n.appendChild(i);var o=document.createElement("div");o.classList.add(s.a.CLASS_CANVAS),o.classList.add(s.a.CLASS_VIEWPORT);var r=document.createElement("div");r.addEventListener("mouseleave",(function(){B()})),r.classList.add(s.a.CLASS_SCROLL_CONTENTS),R(r,parseInt(i.style.minWidth,10)),o.appendChild(r),n.appendChild(o),t.appendChild(n);var d=document.createElement("div");d.classList.add(s.a.CLASS_SCROLL_CONTAINER),d.style.marginLeft=String(g)+"px";var c=document.createElement("div");c.classList.add(s.a.CLASS_HEADER_ROW),H(c,h,e.length),d.appendChild(c);var m=document.createElement("div");m.classList.add(s.a.CLASS_VIEWPORT),m.classList.add(s.a.CLASS_CANVAS);var E=document.createElement("div");E.addEventListener("mouseleave",(function(){B()})),E.classList.add(s.a.CLASS_SCROLL_CONTENTS),R(E,parseInt(c.style.minWidth,10)),m.appendChild(E),d.appendChild(m),t.appendChild(d)}(),l.updateColorIndicatorElements=function(e){var t=r.getPinContentRowElementsFromTable();o.a.forEach(t,(function(t){var n=t.vmo;if(e.includes(n)){var i=t.getElementsByClassName(s.a.CLASS_AW_CELL_COLOR_INDICATOR)[0];if(i){var l=d.a.createColorIndicatorElement(n);i.parentElement.replaceChild(l,i)}}}))},l.syncContentRowHeights=function(e,t){if(e&&e.childNodes)for(let n=0;n<e.childNodes.length;n++){let t=e.childNodes[n],i=t.vmo;t.style.height=String(i.rowHeight)+"px"}if(t&&t.childNodes)for(let n=0;n<t.childNodes.length;n++){let e=t.childNodes[n],i=e.vmo;e.style.height=String(i.rowHeight)+"px"}},l},se={},de={isIdOfObject:function(e,t){let n=!1;return e&&(e.alternateID&&(n=e.alternateID===t),!n&&e.uid&&(n=e.uid===t||-1!==e.uid.indexOf(t))),n}};const ce=N.b.DOMAPIs;se.arrangeMenu=M.default.getLoadedTextFromKey("treeTableMessages.arrangeMenu"),se.removeAllFilters=M.default.getLoadedTextFromKey("treeTableMessages.removeAllFilters"),se.TwistieTooltipExpanded=M.default.getLoadedTextFromKey("treeTableMessages.TwistieTooltipExpanded"),se.TwistieTooltipCollapsed=M.default.getLoadedTextFromKey("treeTableMessages.TwistieTooltipCollapsed"),se.hideColumn=M.default.getLoadedTextFromKey("treeTableMessages.hideColumn"),se.sortAscending=M.default.getLoadedTextFromKey("treeTableMessages.sortAscending"),se.sortDescending=M.default.getLoadedTextFromKey("treeTableMessages.sortDescending"),se.removeSort=M.default.getLoadedTextFromKey("treeTableMessages.removeSort"),se.freezeMenu=M.default.getLoadedTextFromKey("treeTableMessages.freezeMenu"),se.unfreezeMenu=M.default.getLoadedTextFromKey("treeTableMessages.unfreezeMenu"),se.visibilityControlsTitle=M.default.getLoadedTextFromKey("treeTableMessages.visibilityControlsTitle"),se.gridMenu=M.default.getLoadedTextFromKey("treeTableMessages.gridMenu");var ue={createTableObject:function(e,t,n,l,a,r,c,u,p,m,f,E,C,S,T){var w=null,N=c||de,k=x.a.createCellRenderer(),U=d.a.createElement("div"),j=new A.a(U),G=null,z=null,q=null,Y=!1;let X=null,K=null,Z=null,J=null,$=T;var Q="compact"===b.default.ctx.layout?s.a.HEIGHT_COMPACT_ROW:s.a.HEIGHT_ROW;Q=d.a.getTableRowHeight(u,Q);var ne=s.a.HEIGHT_HEADER;ne=d.a.getTableHeaderHeight(u,ne);let le=function(){let e=n.cols;!0===u.transpose&&(e=y(w,n.viewModelCollection.loadedVMObjects));for(let t=0;t<e.length;t++)e[t].visible=!e[t].hasOwnProperty("visible")||e[t].visible;w=o.a.filter(e,(function(e){return!!e.visible&&e})),o.a.forEach(w,(function(e,t){e.index=t,e.cellRenderers||(e.cellRenderers=[]),"icon"===e.name&&e.iconCellRenderer&&(e.cellRenderers=e.cellRenderers.concat(e.iconCellRenderer)),e.cellRenderers=e.cellRenderers.concat(k.getAwCellRenderers())})),o.a.forEach(w,(function(e,t){e.index=t,e.headerRenderers||(e.headerRenderers=[]),e.headerRenderers=e.headerRenderers.concat(k.getAwHeaderRenderers())})),q.loadDefaultColumnMenus()},oe=function(){return n.viewModelCollection?!0===u.transpose?I(n.cols,n.viewModelCollection.loadedVMObjects):n.viewModelCollection.loadedVMObjects:[]},ae=function(){le(),R.default.removeStaleFilters(a,w),G.resetColumnDefs(w),K.initialize(),X.isInitialized()&&(k.resetHoverCommandElement(),X.setLoadedVMObjects(oe()),X.handleScroll())};var ue=function(e,t){for(var i=[],l=e;l<=t;l++){var o=n.viewModelCollection.loadedVMObjects[l];if(!o.isPropLoading)o.props?0===Object.keys(o.props).length&&i.push(o):i.push(o)}return i};if(t){var pe=[];U.id=t,U.classList.add(s.a.CLASS_TABLE),U.classList.add(s.a.CLASS_WIDGET_GRID),U.classList.add(s.a.CLASS_LAYOUT_COLUMN),U.classList.add(s.a.CLASS_WIDGET_TABLE_DROP),U.classList.add(s.a.CLASS_SELECTION_ENABLED),d.a.setSortCriteriaOnColumns(a,n);var me=function(){return void 0!==p?p:void 0!==u.maxRowsToShow?(Q+1)*u.maxRowsToShow+s.a.HEIGHT_HEADER:void 0};X=new v(me()),U._tableInstance={ctx:b.default.ctx,messages:se,declViewModel:r,dataProvider:n,viewModelCollection:l,columnProvider:a,gridId:t,gridOptions:u,isBulkEditing:!1,isCellEditing:!1,renderer:X,dynamicRowHeightStatus:!1,cellRenderer:k,runActionWithViewModel:f,tableInstanceCallbacks:E,tableContext:C||{},showCheckBox:T},z=new te(U,e,m),U._tableInstance.editor=z,Z=new _(U,z),Z.setupKeyListener(),U._tableInstance.keyboardService=Z,q=new ie(U,e,U._tableInstance,m),u.enableGridMenu&&q.addGridMenu(),!0===u.showContextMenu&&q.setContextSelectionHelper(O.a),u.enableDynamicRowHeight&&(U._tableInstance.dynamicRowHeightStatus=!0),le(),G=new re(U,w,z,m),U._tableInstance.controller=G,U._tableInstance.editor=z;var fe=o.a.debounce((function(e,n){i.a.publish(t+".plTable.loadMorePages",{firstRenderedItem:e,lastRenderedItem:n})}),500),he={},ge=o.a.debounce((function(){U._tableInstance.isDestroyed||(!function(e){var t=j.queryAllRowCellElementsFromTable();o.a.forEach(e,(function(e,i){o.a.forEach(t,(function(t){o.a.forEach(t.children,(function(l){let o=null;if(t.vmo&&t.vmo.uid===i)o=t.vmo;else{if(!0!==u.transpose||!l.columnDef.vmo||l.columnDef.vmo.uid!==i)return;o=l.columnDef.vmo}var a=!1;if(l.columnDef&&"icon"===l.columnDef.name||!0===u.transpose&&"icon"===t.vmo.props.transposedColumnProperty.dbValue){var r=l.getElementsByTagName("img")[0];r&&r.getAttribute("src")!==d.a.getImgURL(o)&&(a=!0)}else for(var c=0;c<e.length;c++)if(l.propName===e[c]||!0===u.transpose&&t.vmo.props.transposedColumnProperty.dbValue===e[c]){a=!0;break}if(a&&(ee.a.updateCell(l,t,U,z),t.vmo.selected&&(l.columnDef.isTableCommand||l.columnDef.isTreeNavigation))){let e=l.children[0];if(l.columnDef.isTreeNavigation&&(e=l.getElementsByClassName("aw-jswidgets-tableNonEditContainer")[0]),0===e.getElementsByClassName(s.a.CLASS_AW_CELL_COMMANDS_CONTAINER).length&&n.selectionModel&&!n.selectionModel.multiSelectEnabled&&1===n.selectionModel.getCurrentSelectedCount()){let n=x.a.createCellCommandElement(l.columnDef,t.vmo,!0);e.appendChild(n)}}}))}))}))}(he),he={})}),250);pe.push(i.a.subscribe("viewModelObject.propsUpdated",(function(e){for(var t in e)if(void 0===he[t])he[t]=e[t];else for(var n=0;n<e[t].length;n++){var i=e[t][n];-1===he[t].indexOf(i)&&he[t].push(i)}ge()})));var Ee=function(e){i.a.publish(t+".plTable.loadProps",{VMOs:e})};K=new g(U);var Ce=function(e){G.setDraggable(!e),z.updateEditStatus(e)};J=function(e){if(G&&e.dataSource&&(e.dataSource.getAtomicData&&e.dataSource.getAtomicData().dpRef&&e.dataSource.getAtomicData().dpRef.current||e.dataSource.name===n.name)){var t="partialSave"===e.state||"starting"===e.state;"saved"===e.state?(o.a.forEach(n.cols,(function(e){R.default.setColumnFilterStale(e)})),d.a.isAutoSaveEnabled(U)||z.clearPropIsEditableCache(),d.a.setIsCellEditing(U,!1)):"canceling"===e.state&&(z.clearPropIsEditableCache(),d.a.setIsCellEditing(U,!1)),n.cacheCollapse=!0,d.a.setIsBulkEditing(U,t),m({type:"UPDATE_VALUES",isBulkEditing:U._tableInstance.isBulkEditing,dynamicRowHeightStatus:U._tableInstance.dynamicRowHeightStatus}),G.setSelectable(!t),(!1===d.a.isCellEditing(U)||d.a.isCellEditing(U)&&!d.a.isAutoSaveEnabled(U))&&Ce(t),u.useTree&&!d.a.isExpandOrPaginationAllowedInEdit(U)&&function(e){X.setupTreeEditScroll(e)}(t),t||n.restoreInitialCacheCollapseState(),!0===U._tableInstance.dynamicRowHeightStatus&&(Re(),ye())}},pe.push(i.a.subscribe(n._eventTopicEditInProgress,(function(){if(!0!==S){const e={dataSource:n,state:n._editingState};J(e)}}))),pe.push(i.a.subscribe(r._internal.eventTopicEditInProgress,(function(){const e={dataSource:r,state:r._editingState};J(e)}))),pe.push(i.a.subscribe("plTable.editStateChange",(function(e){J(e)}))),pe.push(i.a.subscribe("editHandlerStateChange",(function(e){J(e)})));var ve=o.a.debounce((function(){var e=j.queryAllRowCellElementsFromTable();o.a.forEach(e,(function(e){if(e.vmo){var t=e.getElementsByClassName(s.a.CLASS_SPLM_TABLE_ICON_CELL)[0];if(t||(t=e.getElementsByClassName(s.a.CLASS_AW_TREE_COMMAND_CELL)[0]),t){var n=t.parentElement,i=n.columnDef,l=ee.a.createElement(i,e.vmo,U,e);n.replaceChild(l,t)}}}))}),100);pe.push(i.a.subscribe(n.name+".resetScroll",(function(){xe()}))),!1===d.a.validateRowHeightGridOption(U._tableInstance.gridOptions)&&pe.push(i.a.subscribe("LayoutChangeEvent",(function(e){var t=Q;if(t!==(Q=e.rowHeight)&&X.isInitialized()){X.setRowHeight(Q+1);var n=me();void 0!==n&&X.setContainerHeight(n),X.initializeProperties(),U._tableInstance.dynamicRowHeightStatus&&Re(),X.updateRowAlignment();var i=j.getScrollCanvasElementFromTable(),l=i.scrollTop;i.scrollTop=l/t*Q,X.handleScroll()}}))),!0!==(o.a.isString(S)?"true"===S:S)&&(pe.push(i.a.subscribe(n.name+".selectionChangeEvent",(function(){L.default.updateContentRowSelection(n.selectionModel,n.cols,j.getPinContentRowElementsFromTable(),j.getScrollContentRowElementsFromTable(),U)}))),pe.push(i.a.subscribe(n.name+".selectAll",(function(){L.default.updateContentRowSelection(n.selectionModel,n.cols,j.getPinContentRowElementsFromTable(),j.getScrollContentRowElementsFromTable(),U)}))),pe.push(i.a.subscribe(n.name+".selectNone",(function(){L.default.updateContentRowSelection(n.selectionModel,n.cols,j.getPinContentRowElementsFromTable(),j.getScrollContentRowElementsFromTable(),U)})))),pe.push(i.a.subscribe(t+".plTable.visibilityStateChanged",ve)),pe.push(i.a.subscribe(t+".plTable.resizeCheck",(function(){X.isInitialized()&&X.checkForResize()})));var be=function(e,i){if(t===e){if(d.a.isBulkEditing(U))return;for(var l=[],o=0;o<i.length;o++){var a=i[o].uid?i[o].uid:i[o],r=n.viewModelCollection.findViewModelObjectById(a);-1!==r&&l.push(r)}l.length>0&&X.scrollToRowIndex(l)}};pe.push(i.a.subscribe("plTable.scrollToRow",(function(e){be(e.gridId,e.rowUids)})));var Se=function(e){!0===e&&!1!==u.showDecorators?U.classList.add(s.a.CLASS_AW_SHOW_DECORATORS):U.classList.remove(s.a.CLASS_AW_SHOW_DECORATORS)},Le="decoratorToggle",Te=b.default.getCtx(Le);Se(Te),pe.push(i.a.subscribe("appCtx.register",(function(e){e.name===Le&&Se(e.value)}))),pe.push(i.a.subscribe("appCtx.update",(function(e){e.name===Le&&Se(e.value.decoratorToggle)}))),pe.push(i.a.subscribe("decoratorsUpdated",(function(e){e=void 0===e.length?[e]:e,G.updateColorIndicatorElements(e)}))),pe.push(i.a.subscribe(n.name+".expandTreeNode",(function(e){if(e.parentNode){var t=n.getViewModelCollection(),l=t.findViewModelObjectById(e.parentNode.id);if(-1!==l){var o=t.getViewModelObject(l);!0!==o.isExpanded&&(o.isExpanded=!0,E.toggleTreeNode?E.toggleTreeNode(o):i.a.publish(U.id+".plTable.toggleTreeNode",o))}}})));const c=function(e,t){var i=[],l=e.classList.contains(s.a.CLASS_ROW)?e:d.a.closestElement(e,"."+s.a.CLASS_ROW);if(l&&l.vmo){i.push(l.vmo);var o=l.vmo.uid;if(!t){var a=P.a.getSourceObjects(n,o).filter((function(e){return-1===i.indexOf(e)}));i=i.concat(a)}return i}return null};var Ae=!1,_e=null;const A=(e,t)=>{Ae||(Ae=!0,_e=t)},y=e=>!(!e||!e.types)&&("dragstart"===event.type&&[...e.types].some((e=>"text/plain"===e||"Text"===e)));let I={clearSelection:e=>{n.selectNone()},setSelection:e=>{A(null,e)},getTargetElementAndVmo:(e,t)=>{let n=null,i=null;return y(e.dataTransfer)||(i=ce.closest(e.target,".ui-grid-row")||ce.closest(e.target,".aw-widgets-droppable")),i&&(n=c(i,!t)),{targetElement:i,targetVMO:n}},highlightTarget:e=>{h.handleDragDropHighlightPLTable(e)}};const N=(e,t,n,i)=>{const l=e=>{let l={},o="dragstart"===e.type;t.getTargetElementAndVmo&&(l=t.getTargetElementAndVmo(e,o)),(0,n.dndHandler[e.type])(e,l,t,i)},o=t=>{let n=l.bind(null);e.addEventListener(t,n)},a=e=>{Object.keys(e).forEach((e=>{o(e.toLowerCase())}))};let r=D.a.getDragHandler(n);r&&a(r);let s=D.a.getDropHandler(n);s&&a(s)};U._tableInstance.subDefs=pe,e.appendChild(U),!1!==u.enableDragAndDrop?D.a.areDnDHandelersDefined(r)&&N(U,I,r,n):P.a.disableDragAndDrop(U)}let we=function(){var l=[];if(o.a.forEach(n.cols,(function(e){e.field&&!0!==e.hiddenFlag&&l.push(e.field)})),n&&n.action&&n.action.inputData){n.action.inputData.searchInput=n.action.inputData.searchInput||{};var a=n.action.inputData.searchInput;a.attributesToInflate?a.attributesToInflate=o.a.union(a.attributesToInflate,l):a.attributesToInflate=l}if(!0===u.transpose&&ae(),X.isInitialized())X.resetRowHeightCache(),X.setLoadedVMObjects(oe()),0===j.getScrollCanvasElementFromTable().scrollTop?X.renderInitialRows():X.handleScroll();else{if(n.isFocusedLoad){var c=n.getSelectedObjects();1===c.length&&be(t,[c[0].uid])}X.initializeGrid({tableElem:U,directiveElem:e,scrollViewportElem:j.getScrollCanvasElementFromTable(),pinViewportElem:j.getPinCanvasElementFromTable(),rowSelector:"."+s.a.CLASS_ROW,rowHeight:Q+1,headerHeight:ne,dynamicRowHeightStatus:u.enableDynamicRowHeight,loadedVMObjects:oe(),updateVisibleCells:function(e){G.updateVisibleCells(e)},updateScrollColumnsInView:function(e,t){G.updateScrollColumnsInView(e,t)},onStartScroll:function(){d.a.isBulkEditing(U)},syncHeader:function(e,t){let n=new A.a(U);d.a.syncHeader(n,e,t)},renderRows:function(t,i){var l=oe().slice(t,i+1);if(0!==l.length){if(!0===u.useTree){let e=u.textBundle?u.textBundle:se;o.a.forEach(l,(function(t){t.isLeaf?t._twistieTitle="":t._twistieTitle=t.isExpanded?e.TwistieTooltipExpanded:e.TwistieTooltipCollapsed,d.a.isExpandAllowed(U)||(t._twistieTitle="")}))}var a=!1,r=j.getScrollContentElementFromTable(),c=j.getPinContentElementFromTable(),p=c.childElementCount>0?c.childNodes[0]:0,m=r.childElementCount>0?r.childNodes[0]:0;if(m&&m.getAttribute("data-indexNumber"))a=parseInt(m.getAttribute("data-indexNumber"))>t;var f=G.constructContentElement(l,t,Q,!0),h=G.constructContentElement(l,t,Q,!1);if(G.setAriaLabelledAndDescribedBy(e,j.getTableContainerElementFromTable()),G.setAriaRowCount(j.getTableContainerElementFromTable()),U._tableInstance.dynamicRowHeightStatus&&G.syncContentRowHeights(f,h),L.default.updateContentRowSelection(n.selectionModel,n.cols,f.childNodes,h.childNodes,U),a?(j.getPinContentElementFromTable().insertBefore(f,p),j.getScrollContentElementFromTable().insertBefore(h,m)):(j.getPinContentElementFromTable().appendChild(f),j.getScrollContentElementFromTable().appendChild(h)),U._tableInstance.focusTreeNodeExpandAfterRender){let e=U._tableInstance.focusTreeNodeExpandAfterRender,t=j.queryAllRowCellElementsFromTable(),n=o.a.filter(t,{vmo:e})[0];if(n){let e=n.getElementsByClassName(s.a.CLASS_WIDGET_TREE_NODE_TOGGLE_CMD)[0];e&&e.focus()}}}},removeRows:function(e,t){k.resetHoverCommandElement(),G.removeContentElement(e,t),G.setAriaRowCount(j.getTableContainerElementFromTable())},afterGridRenderCallback:function(e,l){let o=j.getTableContainerElementFromTable();if(o&&o.hasAttribute("aria-activedescendant")){var a=o.getAttribute("aria-activedescendant");document.getElementById(a)||o.removeAttribute("aria-activedescendant")}var s=d.a.isBulkEditing(U);let c=!1;if(s&&Ce(s),!0===u.useTree){if(!0===Y)return;for(var p=!1,m=l.index;m>=e.index;m--){var f=n.viewModelCollection.loadedVMObjects[m];if(n.focusAction){if(f._focusRequested)return;if(f.isPlaceholder){if(p)return delete f.isPlaceholder,f._focusRequested=!0,void E.doFocusPlaceHolder(f)}else p=!0}}for(var h=e.index;h<=l.index;h++){var g=n.viewModelCollection.loadedVMObjects[h],C=!1;if(!0!==g.isLeaf&&!0!==g._expandRequested&&!0!==g.isExpanded&&d.a.performStateServiceAction("isNodeExpanded",r,t,g)&&(C=!0),!0===C)return g.isExpanded=!0,void(E.toggleTreeNode?E.toggleTreeNode(g):i.a.publish(U.id+".plTable.toggleTreeNode",g))}var v=ue(e.index,l.index);v.length>0&&(Ee(v),c=!0)}d.a.isPaginationAllowed(U)&&E&&(fe(e,l,E),E.loadMorePages({firstRenderedItem:e,lastRenderedItem:l})),!0===n.scrollToRow&&!0===X.isInitialRowIndexInView()&&(n.scrollToRow=!1)}}),X.renderInitialRows();var p=i.a.subscribe(t+".plTable.containerHeightUpdated",(function(e){Ie(e)}));pe.push(p)}},ye=function(){U&&U._tableInstance&&(U._tableInstance.showCheckBox=$),d.a.cleanupComponents(U),we()},Ie=function(e){X.setContainerHeight(e),X.initializeProperties(),X.handleScrollDown()},Re=function(){n.viewModelCollection&&o.a.forEach(n.viewModelCollection.loadedVMObjects,(function(e){delete e.rowHeight}))},xe=function(){X&&X.isInitialized()&&X.resetInfiniteScroll()};return{getDynamicRowHeightStatus:function(){return U._tableInstance.dynamicRowHeightStatus},resetDynamicRowHeights:Re,updateDynamicRowHeight:function(e){U._tableInstance.dynamicRowHeightStatus=e,X.setDynamicRowHeight(U._tableInstance.dynamicRowHeightStatus),ye(),U._tableInstance.dynamicRowHeightStatus||Re()},maintainScrollPosition:function(){X.setScrollPositionToBeMaintained()},unsetScrollToRowIndex:function(){X&&X.isInitialized()&&X.resetInitialRowIndex()},relatedModified:function(){if(Ae){Ae=!1;var e=n.selectionModel;e&&(O.a.handleSelectionEvent([_e],e,null,n),L.default.updateContentRowSelection(n.selectionModel,n.cols,j.getPinContentRowElementsFromTable(),j.getScrollContentRowElementsFromTable(),U))}},columnsResized:function(e){!0!==u.transpose&&a.columnSizeChanged(e.name,e.delta),U._tableInstance.dynamicRowHeightStatus&&(Re(),ye())},columnsRearranged:function(e){if(!0!==u.transpose){var t=e.originalPosition,i=null;o.a.forEach(n.cols,(function(t){e.name===t.name&&(i=t.index)})),o.a.forEach(n.cols,(function(e,n){!0===e.hiddenFlag&&n<=i&&(i+=1),!0===e.hiddenFlag&&n<=t&&(t+=1)})),n.cols&&"icon"!==n.cols[0].name&&(t+=1,i+=1),null!==t&&null!==i&&a.columnOrderChanged(e.name,t,i)}else ae()},resetInfiniteScroll:xe,getTableElement:function(){return U},updateContentRowSelection:()=>{L.default.updateContentRowSelection(n.selectionModel,n.cols,j.getPinContentRowElementsFromTable(),j.getScrollContentRowElementsFromTable(),U)},updateContainerHeight:Ie,updateSortDirection:(e,t,n)=>{G.setHeaderCellSortDirection(e,t,n)},updatePinColumn:(e,t,n)=>{const i=t?e.index:n;G.pinToColumn(i),t||G.resetFreezeScroll(e.field),X.handlePinViewportScrollbarPadding()},hideColumn:e=>{let l;var r=n.cols;if(o.a.forEach(r,(function(t){if(t.field===e)return l=t,!1})),l){var s=l.index;let e=!0;if(o.a.forEach(r,(function(t){if(t.name!==l.name&&!0===t.visible&&"icon"!==t.name)return e=!1,!1})),e)M.default.getLocalizedText("UIMessages","hideColumnOnlyVisibleError").then((function(e){F.a.showError(e)}));else{if(a.isArrangeSupported()&&a.hideColumn){if(n.cols[s].propertyName!==l.propertyName)for(var d=0;d<r.length;d++)if(r[d].propertyName===l.propertyName){s=d;break}a.hideColumn(s)}if(G.updateColumnVisibility(l.field),l.filter&&l.filter.isFilterApplied){const e={gridId:t,column:l};i.a.publish("pltable.columnFilterApplied",e)}}}},resetColumns:function(){ae()},updateEditState:J,removeStaleFilters:function(e){R.default.removeStaleFilters(a,e||w)},setNodeExpansionInProgress:function(e){Y=e},updateFilterIcons:function(e){e?G.updateFilterIcon(e):G.updateAllFilterIcons()},setFilterDisability:function(e){q.setFilterDisability(e)},loadMissingProps:function(){!function(){var e=X.getFirstRenderedItemIndex(),n=X.getLastRenderedItemIndex(),l=ue(e,n);l.length>0&&i.a.publish(t+".plTable.loadProps",{VMOs:l})}()},updateTreeCellIcon:function(e){const t=j.queryAllRowCellElementsFromTable();o.a.forEach(t,(function(t){if(t.vmo){if(!0===N.isIdOfObject(t.vmo,H.a.getEvaluatedId(e))){let n=t.querySelector(".".concat(s.a.CLASS_WIDGET_TREE_NODE_TOGGLE_CMD));if(n){const t=function(e){return e.loadingStatus?{id:"miscInProcessIndicator",image:B.svgString}:e.isLeaf?{}:e.isExpanded?{id:"miscExpandedTree",image:V.svgString}:{id:"miscCollapsedTree",image:W.svgString}}(e);let i=n.querySelector(".".concat(s.a.CLASS_ICON_BASE));i&&t&&t.image&&t.image.length>0&&(i=d.a.addAttributeToDOMElement(i,"iconId",t.id),i=d.a.addAttributeToDOMElement(i,"icon-id",t.id),n.title=e._twistieTitle,i.innerHTML=t.image)}}}}))},refresh:we,updateInstanceState:function(e){r=e,U._tableInstance.declViewModel=e}}},destroyTable:function(e,t,n){var l=t.querySelector(".".concat(s.a.CLASS_TABLE)),a=l&&l._tableInstance||{},r=a.subDefs;o.a.forEach(r,(function(e){null!==e&&i.a.unsubscribe(e)}));for(var c=0;c<n.length;c++){var u=n[c].cellRenderers;if(u)for(var p=0;p<u.length;p++)o.a.isFunction(u[p].destroy)&&u[p].destroy()}d.a.cleanupComponents(t);var m=document.getElementById(e+"_menuContainer");null!==m&&m.parentElement.removeChild(m),a.renderer&&a.renderer.destroyGrid(),a.editor&&a.editor.destroy(),a.isDestroyed=!0,i.a.publish("tableDestroyed")}},pe=n(134),me=n(128),fe=n(507),he=n(31),ge=n(55),Ee=n(47);const Ce=function(e,t,n,l,s){let c={},u={...l};const p=u.gridid,m=u.dataProviderInstance,f=u.columnProviderInstance;Ee.a.applyScope(n.data,u.gridOptions,null,n,null);let h=u.gridOptions,g=n.data;var E=[],C=null;let v=null;var b=[];const S={};f.setColumnFilters([]);var T=function(){p&&(m&&m.json&&m.json.firstPage&&delete m.json.firstPage,m.resetDataProvider())};if(p){var A=g.dataProviders[u.propertyProvider];f.sortCallback||(f.sortCallback=function(){T()}),h=h||{},h.enableArrangeMenu=u.enableArrangeMenu,h.showContextMenu=o.a.isNil(u.showContextMenu)?h.showContextMenu:u.showContextMenu,h.showDecorators=u.showDecorators,h.useTree=u.useTree,void 0===h.enableGridMenu&&h.enableArrangeMenu&&(h.enableGridMenu=!0),!0===h.enableHeaderIcon&&(h.headerHeight="XXLARGE");var _=o.a.debounce((function(e){if(!g.isDestroyed()){if(!m.topTreeNode.props){for(var t=m.topTreeNode.uid,i=!1,l=0;l<e.length;l++)if(e[l].uid===t){i=!0;break}i||e.push(m.topTreeNode)}if(0!==e.length){var a=[];o.a.forEach(m.cols,(function(e){e.isTreeNavigation||a.push(e)})),o.a.forEach(e,(function(e){e.isPropLoading=!0})),function(e){var t=pe.a.createPropertyLoadInput([e]);A.getProperties(n,t).then((function(e){m.topNodeUid&&(o.a.forEach(e.updatedNodes,(function(e){e.uid===m.topNodeUid&&(void 0===m.topTreeNode.props&&(m.topTreeNode.props={}),o.a.assign(m.topTreeNode.props,e.props)),he.default.setEditState(e,!1),delete e.isPropLoading})),e.updatedNodes&&C.refresh()),e.columnConfig?e.columnConfig.columns.length!==m.cols.length&&f.buildDynamicColumns(e.columnConfig.columns,!0).then((()=>{C.resetColumns()})):C.refresh(),d.a.shouldRequestStartEditPropsLoaded(v)&&d.a.requestStartEdit(v)}))}({parentNode:null,childNodes:e,columnInfos:a})}}}),500,{maxWait:1e4,trailing:!0,leading:!1});c.completeInitialization=()=>{if(m.columnConfig)return m.initializationComplete="InProgress",f.buildDynamicColumns(m.columnConfig.columns,!0).then((()=>{var a=n.gridContextDispatcher;u.reusable&&(a=u.gridContextDispatcher),(C=ue.createTableObject(e,p,m,t,f,g,u.contentFilter,h,u.containerheight,a,s,S,u.tableContext,u.reusable,u.showCheckBox)).showCheckBox=u.showCheckBox,C.resetColumns(),C.viewModelCollection=t,C.refresh(),l(),v=C.getTableElement(),m.initializationComplete=!0,u.containerHeight&&C.updateContainerHeight(u.containerHeight),E.push(i.c(p+".plTable.clientRefresh",(function(){o.a.defer((function(){C.showCheckBox=u.showCheckBox,v&&v._tableInstance&&(v._tableInstance.showCheckBox=u.showCheckBox),d.a.cleanupComponents(e),C.refresh()}))})))}))},c.updateTableColumns=e=>{e&&e.length>0&&f.buildDynamicColumns(e,!0).then((()=>{null!==C&&C.resetColumns()}))},c.updateContentRowSelection=()=>{C&&C.updateContentRowSelection()},c.selectTableColumn=e=>{e&&L.default.selectColumnCells(C.getTableElement(),e.field)},c.updateSortDirection=(e,t,n)=>{t>-1&&(C&&C.updateSortDirection(e,t,n),T())},c.updateDynamicRowHeight=e=>{C&&C.updateDynamicRowHeight(e)},c.updatePinColumn=(e,t,n)=>{e&&n>-1&&C&&C.updatePinColumn(e,t,n)},c.hideColumn=e=>{e&&C&&C.hideColumn(e)},c.columnFilterApplied=e=>{const t={isInternalTableEvent:!0,gridId:p,...e};i.b("pltable.columnFilterApplied",t);d.a.getTableMenuService(v).ensureAllTableMenusDismissed(),e.filters&&e.filters.length?R.default.setFilters(f,m,e.filters,e.column):e.column?R.default.removeFilter(e.column,f,m):R.default.removeAllFilters(m,f),m.isColumnFilterApplied=R.default.isColumnFilterApplied(m);const n=e.column?e.column.field:null;C.updateFilterIcons(n),T()},c.editStateUpdated=()=>{const e={dataSource:m,state:m._editingState};C.updateEditState(e)},c.updateEditState=async e=>{e&&e.tableContext&&(e.tableContext.startEdit&&!0===e.tableContext.startEdit.value?(await m.startEdit(e.dataCtxNode,e.dataCtxNode.data),e.tableContext.startEdit.update&&e.tableContext.startEdit.update(!1),e.tableContext.isBulkEditing&&e.tableContext.isBulkEditing.update&&e.tableContext.isBulkEditing.update(!0)):e.tableContext.cancelEdit&&!0===e.tableContext.cancelEdit.value?(await m.cancelEdits(e.dataCtxNode,e.dataCtxNode.data),e.tableContext.cancelEdit.update&&e.tableContext.cancelEdit.update(!1),e.tableContext.isBulkEditing&&e.tableContext.isBulkEditing.update&&e.tableContext.isBulkEditing.update(!1)):e.tableContext.saveEdit&&!0===e.tableContext.saveEdit.value&&(await m.saveEdits(e.dataCtxNode,e.dataCtxNode.data),e.tableContext.saveEdit.update&&e.tableContext.saveEdit.update(!1),e.tableContext.isBulkEditing&&e.tableContext.isBulkEditing.update&&e.tableContext.isBulkEditing.update(!1)))};const l=()=>{if(me.a.supportsResizeObserver()){const t=o.a.debounce((()=>{i.b(p+".plTable.resizeCheck")}),200,{maxWait:1e4,trailing:!0,leading:!1});me.a.observe(e,t)}};if(!0===h.useTree){E.push(i.c(p+".plTable.loadProps",(function(e){_(e.VMOs)}))),E.push(i.c("primaryWorkarea.reloadTop",(function(e){!(e&&e.retainAllStates)&&fe.a.clearAllStates(g,p),m.json.firstPage&&delete m.json.firstPage,m.initialize(n)})));const e=function(e){if(!e.loadingStatus)if(e.loadingStatus=!0,C.updateTreeCellIcon(e),Object.assign(n.data.data,n.data.getData()),!0===e.isExpanded){C.setNodeExpansionInProgress(!0),e._expandRequested=!0;var t=m.viewModelCollection.loadedVMObjects.length;m.expandObject(n,e).then((function(n){C.setNodeExpansionInProgress(!1),t===n.loadedVMObjects.length&&(delete e.loadingStatus,C.refresh()),m.update(n.loadedVMObjects)})).finally((function(){C.setNodeExpansionInProgress(!1),C.loadMissingProps(),delete e.loadingStatus,delete e._expandRequested,C.updateTreeCellIcon(e),v._tableInstance.focusTreeNodeExpandAfterRender=e,d.a.shouldRequestStartEditTreeExpand(v,e,A)&&d.a.requestStartEdit(v)})),fe.a.saveRowExpanded(g,p,e)}else m.collapseObject(n,e).then((function(e){m.update(e.loadedVMObjects),t===e.loadedVMObjects.length&&C.refresh()})).finally((function(){delete e.loadingStatus,C.updateTreeCellIcon(e),v._tableInstance.focusTreeNodeExpandAfterRender=e})),fe.a.saveRowCollapsed(g,p,e)};E.push(i.c(p+".plTable.toggleTreeNode",e)),u.reusable&&(S.toggleTreeNode=e);const t=function(e){var t=m.viewModelCollection,l=t.findViewModelObjectById(H.a.getEvaluatedId(e)),a=null,s=t.getViewModelObject(l),d=s.levelNdx-1;if(-1===d)a=m.topTreeNode;else for(var c=l-1;c>=0;c--){var u=t.getViewModelObject(c);if(u.levelNdx===d){a=u;break}}if(null===a)return null;var p=pe.a.createTreeLoadInput(a,0,null,e.id,m.treePageSize,!0,null),f={t_uid:m.topTreeNode.uid,o_uid:a.uid,c_uid:e.uid,uid:null},h={treeLoadInput:p,loadIDs:f};return e.loadingStatus=!0,Object.assign(n.data.data,n.data.getData()),m.someDataProviderSvc.executeLoadAction(m.nextAction,m.json,n,h).then((function(t){for(var n=H.a.getEvaluatedId(s),l=s.levelNdx,d=m.viewModelCollection,c=d.findViewModelObjectById(n),u=d.loadedVMObjects,f=[u[c]],h=c+1;h<u.length;h++){var g=u[h];if(g.levelNdx<=l)break;f.push(g)}for(var E=t.actionResultObj.responseObj.treeLoadResult,v=E.childNodes,b=0,S=0;S<v.length;S++)if(v[S].id===n){b=S;break}for(var L=0;L<v.length;L++)v[L].childNdx=L-b;0===b&&v[0].incompleteHead&&(s.incompleteHead=!0);var T=v.length-1;if(b===T&&v[T].incompleteTail&&(s.incompleteTail=!0),a.children=o.a.clone(v),a.children[b]=s,v.splice(b,1),0===v.length)return delete e.loadingStatus,delete e._focusRequested,void C.refresh();var A=b-1;r.a.insert(v,A,f),u.splice(c,f.length),r.a.insert(u,c-1,v),delete e.loadingStatus,delete e._focusRequested,m.update(u),i.b(m.name+".treeNodesLoaded",{treeLoadInput:p,treeLoadResult:E}),i.b(m.name+".modelObjectsUpdated",{viewModelObjects:u,noResults:!1})}))};S.doFocusPlaceHolder=t}else E.push(i.c(m.name+".modelObjectsUpdated",(function(e){e&&!e.arrangeColumnEvent&&c.columnsArranged(e)})));c.columnsArranged=e=>{e.arrangeType&&"saveColumnAndLoadAction"===e.arrangeType&&e.viewModelObjects&&(C.resetInfiniteScroll(),m.update(e.viewModelObjects,e.totalFound),C.refresh())},E.push(i.c(m.name+".resetState",(function(){fe.a.clearAllStates(g,p),m.isFocusedLoad=!0}))),ge.b("propertyRendererTemplates"),function(e,t,i){return t.initialize(i).then((function(i){return e.cols=e.cols?e.cols:i,e.json&&e.json.firstPage?null:e.initialize(n).then((function(){return e.cols&&0!==e.cols.length?null:e.columnConfig?t.buildDynamicColumns(e.columnConfig.columns,!0):Promise.reject(new Error("Column config not loaded"))}))}))}(m,f,n).then((()=>{var a=n.gridContextDispatcher;u.reusable&&(a=u.gridContextDispatcher),(C=ue.createTableObject(e,p,m,t,f,g,u.contentFilter,h,u.containerheight,a,s,S,u.tableContext,u.reusable,u.showCheckBox)).showCheckBox=u.showCheckBox,v=C.getTableElement(),l(),C.viewModelCollection=t,C.refresh(),m.initializationComplete=!0,u.containerHeight&&C.updateContainerHeight(u.containerHeight),E.push(i.c(p+".plTable.clientRefresh",(function(){o.a.defer((function(){C.showCheckBox=u.showCheckBox,v&&v._tableInstance&&(v._tableInstance.showCheckBox=u.showCheckBox),d.a.cleanupComponents(e),C.refresh()}))})))}),(e=>{m.initializationComplete=!1,a.a.trace(e)}))}E.push(i.c("columnArrange",(function(e){(e.name===p||e.columnConfigId&&m.columnConfig&&e.columnConfigId===m.columnConfig.columnConfigId)&&(e.columns.length?C.removeStaleFilters(e.columns):R.default.removeAllFilters(m,f)),C.getDynamicRowHeightStatus()&&C.resetDynamicRowHeights()})));var w=i.c("cdm.relatedModified",(function(e){C.relatedModified()}));E.push(w),E.push(i.c(p+".plTable.reload",T)),E.push(i.c("pltable.columnFilterApplied",(function(e){if(p===e.gridId&&!0!==e.isInternalTableEvent){e.filters&&e.filters.length?R.default.setFilters(f,m,e.filters,e.column):e.column?R.default.removeFilter(e.column,f,m):R.default.removeAllFilters(m,f),m.isColumnFilterApplied=R.default.isColumnFilterApplied(m);const t=e.column?e.column.field:null;C.updateFilterIcons(t),T()}}))),c.updateColumnMenuData=function(e){o.a.forEach(m.cols,(function(t){if(e.columnName===t.field)return t.filter={...t.filter,...e},t.filter.columnMenuData=e,t.filter.showFilters&&(t.filter.showFilters.dbValue&&"false"!==t.filter.showFilters.dbValue?t.filter.showFilterFacets=!0:t.filter.showFilterFacets=!1),!1}))},E.push(i.c(p+".plTable.setFilterDisability",(function(e){p===e.gridId&&C.setFilterDisability(e.isFilterDisabled)}))),c.destroy=function(){var t=[];m.columnConfig&&m.columnConfig.columns&&(t=m.columnConfig.columns),o.a.forEach(E,(function(e){i.d(e)})),ue.destroyTable(p,e,t)},c.updateVmCollection=e=>{C&&(C.viewModelCollection=e,d.a.shouldRequestStartEditPagination(v)&&d.a.requestStartEdit(v),C.refresh())},c.updateDeclGridObject=e=>{u=e},c.updateMenuContext=e=>{u.menuContext=e},c.updateState=e=>{g=e,C&&C.updateInstanceState(e)},c.refreshTable=()=>{C&&C.refresh()},c.updateGridOptionsForTableInstance=e=>{v&&v._tableInstance&&e&&void 0!==e.showCheckBox&&(v._tableInstance.showCheckBox=e.showCheckBox)},E.push(i.c(m.name+".selectionChangeEvent",(function(e){var t=e.selectionModel.getSelection();!0===m.isFocusedLoad&&t.length>0&&(m.isFocusedLoad=!1,m.scrollToRow=!0),(t.length>0&&t.length>=b.length&&!1===o.a.isEqual(b,t)||!0===m.scrollToRow)&&(m.scrollToRow=!0,i.b("plTable.scrollToRow",{gridId:p,rowUids:t})),b=t.slice()})));const y=function(e){a.a.trace("AW simple table: Loaded next tree page data"),!1,d.a.shouldRequestStartEditTreePagination(v,A)&&d.a.requestStartEdit(v),m.update(e.loadedVMObjects,e.totalFound)};S.loadMorePages=function(e){if(C.viewModelCollection){var t=e.lastRenderedItem.index;if(Object.assign(n.data.data,n.data.getData()),0!==t&&t===C.viewModelCollection.loadedVMObjects.length-1&&(m.nextAction||m.action)){var i=m.viewModelCollection.loadedVMObjects[t];if(m.hasMorePages()&&i.incompleteTail)return delete i.incompleteTail,e.lastRenderedItem.levelNdx>0?(!0,void m.getTreeNodePage(n,null,e.lastRenderedItem.uid,!0,null).then(y)):(!0,void m.pageDispatcher({type:"NEXT_PAGE"}));a.a.trace("AW simple table: Rendering of all rows below completed")}var l=e.firstRenderedItem.index;if(0===l&&m.previousAction){var o=m.viewModelCollection.loadedVMObjects[l];if(m.hasMorePagesUp()&&o.incompleteHead)return delete o.incompleteHead,C.maintainScrollPosition(),e.firstRenderedItem.levelNdx>0?(!0,void m.getTreeNodePage(n,null,e.firstRenderedItem.uid,!1,null).then(y)):(!0,void m.pageDispatcher({type:"PREVIOUS_PAGE"}));a.a.trace("AW simple table: Rendering of all rows above completed")}if(!0===h.useTree){var r=m.findIncompleteNodeInRange(l,t);if(null!==r&&r.levelNdx>0){var s=!0===r.incompleteTail;if(!0===s&&!m.nextAction&&!m.action)return;if(!1===s&&!m.previousAction)return;return delete r.incompleteHead,delete r.incompleteTail,!0,void m.getTreeNodePage(n,null,r.uid,s,null).then(y)}}}};S.unsetScrollToRowIndex=function(){C.unsetScrollToRowIndex()};S.columnsRearranged=function(e){C.columnsRearranged(e)};return S.columnsResized=function(e){C.columnsResized(e)},c};t.default={initializeTable:Ce}}}]);